function sx(r,a){for(var i=0;i<a.length;i++){const o=a[i];if(typeof o!="string"&&!Array.isArray(o)){for(const d in o)if(d!=="default"&&!(d in r)){const m=Object.getOwnPropertyDescriptor(o,d);m&&Object.defineProperty(r,d,m.get?m:{enumerable:!0,get:()=>o[d]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(d){if(d.ep)return;d.ep=!0;const m=i(d);fetch(d.href,m)}})();function oc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fo={exports:{}},Vn={},Oo={exports:{}},Se={};var cm;function rx(){if(cm)return Se;cm=1;var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function N(R,P,te){this.props=R,this.context=P,this.refs=w,this.updater=te||C}N.prototype.isReactComponent={},N.prototype.setState=function(R,P){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,P,"setState")},N.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function L(){}L.prototype=N.prototype;function F(R,P,te){this.props=R,this.context=P,this.refs=w,this.updater=te||C}var E=F.prototype=new L;E.constructor=F,j(E,N.prototype),E.isPureReactComponent=!0;var k=Array.isArray,$=Object.prototype.hasOwnProperty,I={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function H(R,P,te){var ie,fe={},ve=null,ke=null;if(P!=null)for(ie in P.ref!==void 0&&(ke=P.ref),P.key!==void 0&&(ve=""+P.key),P)$.call(P,ie)&&!D.hasOwnProperty(ie)&&(fe[ie]=P[ie]);var he=arguments.length-2;if(he===1)fe.children=te;else if(1<he){for(var _e=Array(he),Ye=0;Ye<he;Ye++)_e[Ye]=arguments[Ye+2];fe.children=_e}if(R&&R.defaultProps)for(ie in he=R.defaultProps,he)fe[ie]===void 0&&(fe[ie]=he[ie]);return{$$typeof:r,type:R,key:ve,ref:ke,props:fe,_owner:I.current}}function ae(R,P){return{$$typeof:r,type:R.type,key:P,ref:R.ref,props:R.props,_owner:R._owner}}function xe(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function ne(R){var P={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(te){return P[te]})}var q=/\/+/g;function O(R,P){return typeof R=="object"&&R!==null&&R.key!=null?ne(""+R.key):P.toString(36)}function re(R,P,te,ie,fe){var ve=typeof R;(ve==="undefined"||ve==="boolean")&&(R=null);var ke=!1;if(R===null)ke=!0;else switch(ve){case"string":case"number":ke=!0;break;case"object":switch(R.$$typeof){case r:case a:ke=!0}}if(ke)return ke=R,fe=fe(ke),R=ie===""?"."+O(ke,0):ie,k(fe)?(te="",R!=null&&(te=R.replace(q,"$&/")+"/"),re(fe,P,te,"",function(Ye){return Ye})):fe!=null&&(xe(fe)&&(fe=ae(fe,te+(!fe.key||ke&&ke.key===fe.key?"":(""+fe.key).replace(q,"$&/")+"/")+R)),P.push(fe)),1;if(ke=0,ie=ie===""?".":ie+":",k(R))for(var he=0;he<R.length;he++){ve=R[he];var _e=ie+O(ve,he);ke+=re(ve,P,te,_e,fe)}else if(_e=_(R),typeof _e=="function")for(R=_e.call(R),he=0;!(ve=R.next()).done;)ve=ve.value,_e=ie+O(ve,he++),ke+=re(ve,P,te,_e,fe);else if(ve==="object")throw P=String(R),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return ke}function Z(R,P,te){if(R==null)return R;var ie=[],fe=0;return re(R,ie,"","",function(ve){return P.call(te,ve,fe++)}),ie}function le(R){if(R._status===-1){var P=R._result;P=P(),P.then(function(te){(R._status===0||R._status===-1)&&(R._status=1,R._result=te)},function(te){(R._status===0||R._status===-1)&&(R._status=2,R._result=te)}),R._status===-1&&(R._status=0,R._result=P)}if(R._status===1)return R._result.default;throw R._result}var V={current:null},G={transition:null},U={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:G,ReactCurrentOwner:I};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:Z,forEach:function(R,P,te){Z(R,function(){P.apply(this,arguments)},te)},count:function(R){var P=0;return Z(R,function(){P++}),P},toArray:function(R){return Z(R,function(P){return P})||[]},only:function(R){if(!xe(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Se.Component=N,Se.Fragment=i,Se.Profiler=d,Se.PureComponent=F,Se.StrictMode=o,Se.Suspense=b,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,Se.act=Y,Se.cloneElement=function(R,P,te){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ie=j({},R.props),fe=R.key,ve=R.ref,ke=R._owner;if(P!=null){if(P.ref!==void 0&&(ve=P.ref,ke=I.current),P.key!==void 0&&(fe=""+P.key),R.type&&R.type.defaultProps)var he=R.type.defaultProps;for(_e in P)$.call(P,_e)&&!D.hasOwnProperty(_e)&&(ie[_e]=P[_e]===void 0&&he!==void 0?he[_e]:P[_e])}var _e=arguments.length-2;if(_e===1)ie.children=te;else if(1<_e){he=Array(_e);for(var Ye=0;Ye<_e;Ye++)he[Ye]=arguments[Ye+2];ie.children=he}return{$$typeof:r,type:R.type,key:fe,ref:ve,props:ie,_owner:ke}},Se.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:m,_context:R},R.Consumer=R},Se.createElement=H,Se.createFactory=function(R){var P=H.bind(null,R);return P.type=R,P},Se.createRef=function(){return{current:null}},Se.forwardRef=function(R){return{$$typeof:h,render:R}},Se.isValidElement=xe,Se.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:le}},Se.memo=function(R,P){return{$$typeof:p,type:R,compare:P===void 0?null:P}},Se.startTransition=function(R){var P=G.transition;G.transition={};try{R()}finally{G.transition=P}},Se.unstable_act=Y,Se.useCallback=function(R,P){return V.current.useCallback(R,P)},Se.useContext=function(R){return V.current.useContext(R)},Se.useDebugValue=function(){},Se.useDeferredValue=function(R){return V.current.useDeferredValue(R)},Se.useEffect=function(R,P){return V.current.useEffect(R,P)},Se.useId=function(){return V.current.useId()},Se.useImperativeHandle=function(R,P,te){return V.current.useImperativeHandle(R,P,te)},Se.useInsertionEffect=function(R,P){return V.current.useInsertionEffect(R,P)},Se.useLayoutEffect=function(R,P){return V.current.useLayoutEffect(R,P)},Se.useMemo=function(R,P){return V.current.useMemo(R,P)},Se.useReducer=function(R,P,te){return V.current.useReducer(R,P,te)},Se.useRef=function(R){return V.current.useRef(R)},Se.useState=function(R){return V.current.useState(R)},Se.useSyncExternalStore=function(R,P,te){return V.current.useSyncExternalStore(R,P,te)},Se.useTransition=function(){return V.current.useTransition()},Se.version="18.3.1",Se}var dm;function ta(){return dm||(dm=1,Oo.exports=rx()),Oo.exports}var um;function nx(){if(um)return Vn;um=1;var r=ta(),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,d=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function f(h,b,p){var g,y={},_=null,C=null;p!==void 0&&(_=""+p),b.key!==void 0&&(_=""+b.key),b.ref!==void 0&&(C=b.ref);for(g in b)o.call(b,g)&&!m.hasOwnProperty(g)&&(y[g]=b[g]);if(h&&h.defaultProps)for(g in b=h.defaultProps,b)y[g]===void 0&&(y[g]=b[g]);return{$$typeof:a,type:h,key:_,ref:C,props:y,_owner:d.current}}return Vn.Fragment=i,Vn.jsx=f,Vn.jsxs=f,Vn}var mm;function ax(){return mm||(mm=1,Fo.exports=nx()),Fo.exports}var e=ax(),v=ta();const cc=oc(v),lx=sx({__proto__:null,default:cc},[v]);var yl={},Mo={exports:{}},Nt={},Do={exports:{}},zo={};var fm;function ix(){return fm||(fm=1,(function(r){function a(G,U){var Y=G.length;G.push(U);e:for(;0<Y;){var R=Y-1>>>1,P=G[R];if(0<d(P,U))G[R]=U,G[Y]=P,Y=R;else break e}}function i(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var U=G[0],Y=G.pop();if(Y!==U){G[0]=Y;e:for(var R=0,P=G.length,te=P>>>1;R<te;){var ie=2*(R+1)-1,fe=G[ie],ve=ie+1,ke=G[ve];if(0>d(fe,Y))ve<P&&0>d(ke,fe)?(G[R]=ke,G[ve]=Y,R=ve):(G[R]=fe,G[ie]=Y,R=ie);else if(ve<P&&0>d(ke,Y))G[R]=ke,G[ve]=Y,R=ve;else break e}}return U}function d(G,U){var Y=G.sortIndex-U.sortIndex;return Y!==0?Y:G.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;r.unstable_now=function(){return m.now()}}else{var f=Date,h=f.now();r.unstable_now=function(){return f.now()-h}}var b=[],p=[],g=1,y=null,_=3,C=!1,j=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(G){for(var U=i(p);U!==null;){if(U.callback===null)o(p);else if(U.startTime<=G)o(p),U.sortIndex=U.expirationTime,a(b,U);else break;U=i(p)}}function k(G){if(w=!1,E(G),!j)if(i(b)!==null)j=!0,le($);else{var U=i(p);U!==null&&V(k,U.startTime-G)}}function $(G,U){j=!1,w&&(w=!1,L(H),H=-1),C=!0;var Y=_;try{for(E(U),y=i(b);y!==null&&(!(y.expirationTime>U)||G&&!ne());){var R=y.callback;if(typeof R=="function"){y.callback=null,_=y.priorityLevel;var P=R(y.expirationTime<=U);U=r.unstable_now(),typeof P=="function"?y.callback=P:y===i(b)&&o(b),E(U)}else o(b);y=i(b)}if(y!==null)var te=!0;else{var ie=i(p);ie!==null&&V(k,ie.startTime-U),te=!1}return te}finally{y=null,_=Y,C=!1}}var I=!1,D=null,H=-1,ae=5,xe=-1;function ne(){return!(r.unstable_now()-xe<ae)}function q(){if(D!==null){var G=r.unstable_now();xe=G;var U=!0;try{U=D(!0,G)}finally{U?O():(I=!1,D=null)}}else I=!1}var O;if(typeof F=="function")O=function(){F(q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Z=re.port2;re.port1.onmessage=q,O=function(){Z.postMessage(null)}}else O=function(){N(q,0)};function le(G){D=G,I||(I=!0,O())}function V(G,U){H=N(function(){G(r.unstable_now())},U)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){j||C||(j=!0,le($))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return i(b)},r.unstable_next=function(G){switch(_){case 1:case 2:case 3:var U=3;break;default:U=_}var Y=_;_=U;try{return G()}finally{_=Y}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,U){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Y=_;_=G;try{return U()}finally{_=Y}},r.unstable_scheduleCallback=function(G,U,Y){var R=r.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?R+Y:R):Y=R,G){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Y+P,G={id:g++,callback:U,priorityLevel:G,startTime:Y,expirationTime:P,sortIndex:-1},Y>R?(G.sortIndex=Y,a(p,G),i(b)===null&&G===i(p)&&(w?(L(H),H=-1):w=!0,V(k,Y-R))):(G.sortIndex=P,a(b,G),j||C||(j=!0,le($))),G},r.unstable_shouldYield=ne,r.unstable_wrapCallback=function(G){var U=_;return function(){var Y=_;_=U;try{return G.apply(this,arguments)}finally{_=Y}}}})(zo)),zo}var pm;function ox(){return pm||(pm=1,Do.exports=ix()),Do.exports}var hm;function cx(){if(hm)return Nt;hm=1;var r=ta(),a=ox();function i(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,d={};function m(t,s){f(t,s),f(t+"Capture",s)}function f(t,s){for(d[t]=s,t=0;t<s.length;t++)o.add(s[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function _(t){return b.call(y,t)?!0:b.call(g,t)?!1:p.test(t)?y[t]=!0:(g[t]=!0,!1)}function C(t,s,n,l){if(n!==null&&n.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j(t,s,n,l){if(s===null||typeof s>"u"||C(t,s,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function w(t,s,n,l,c,u,x){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=n,this.propertyName=t,this.type=s,this.sanitizeURL=u,this.removeEmptyString=x}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){N[t]=new w(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];N[s]=new w(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){N[t]=new w(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){N[t]=new w(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){N[t]=new w(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){N[t]=new w(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){N[t]=new w(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){N[t]=new w(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){N[t]=new w(t,5,!1,t.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function F(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(L,F);N[s]=new w(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(L,F);N[s]=new w(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(L,F);N[s]=new w(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){N[t]=new w(t,1,!1,t.toLowerCase(),null,!1,!1)}),N.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){N[t]=new w(t,1,!1,t.toLowerCase(),null,!0,!0)});function E(t,s,n,l){var c=N.hasOwnProperty(s)?N[s]:null;(c!==null?c.type!==0:l||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(j(s,n,c,l)&&(n=null),l||c===null?_(s)&&(n===null?t.removeAttribute(s):t.setAttribute(s,""+n)):c.mustUseProperty?t[c.propertyName]=n===null?c.type===3?!1:"":n:(s=c.attributeName,l=c.attributeNamespace,n===null?t.removeAttribute(s):(c=c.type,n=c===3||c===4&&n===!0?"":""+n,l?t.setAttributeNS(l,s,n):t.setAttribute(s,n))))}var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),I=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),ne=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),G=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,R;function P(t){if(R===void 0)try{throw Error()}catch(n){var s=n.stack.trim().match(/\n( *(at )?)/);R=s&&s[1]||""}return`
`+R+t}var te=!1;function ie(t,s){if(!t||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var l=B}Reflect.construct(t,[],s)}else{try{s.call()}catch(B){l=B}t.call(s.prototype)}else{try{throw Error()}catch(B){l=B}t()}}catch(B){if(B&&l&&typeof B.stack=="string"){for(var c=B.stack.split(`
`),u=l.stack.split(`
`),x=c.length-1,S=u.length-1;1<=x&&0<=S&&c[x]!==u[S];)S--;for(;1<=x&&0<=S;x--,S--)if(c[x]!==u[S]){if(x!==1||S!==1)do if(x--,S--,0>S||c[x]!==u[S]){var T=`
`+c[x].replace(" at new "," at ");return t.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",t.displayName)),T}while(1<=x&&0<=S);break}}}finally{te=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?P(t):""}function fe(t){switch(t.tag){case 5:return P(t.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return t=ie(t.type,!1),t;case 11:return t=ie(t.type.render,!1),t;case 1:return t=ie(t.type,!0),t;default:return""}}function ve(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case I:return"Portal";case ae:return"Profiler";case H:return"StrictMode";case O:return"Suspense";case re:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ne:return(t.displayName||"Context")+".Consumer";case xe:return(t._context.displayName||"Context")+".Provider";case q:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return s=t.displayName||null,s!==null?s:ve(t.type)||"Memo";case le:s=t._payload,t=t._init;try{return ve(t(s))}catch{}}return null}function ke(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(s);case 8:return s===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function he(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _e(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ye(t){var s=_e(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),l=""+t[s];if(!t.hasOwnProperty(s)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,u=n.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return c.call(this)},set:function(x){l=""+x,u.call(this,x)}}),Object.defineProperty(t,s,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Qe(t){t._valueTracker||(t._valueTracker=Ye(t))}function _s(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var n=s.getValue(),l="";return t&&(l=_e(t)?t.checked?"true":"false":t.value),t=l,t!==n?(s.setValue(t),!0):!1}function ks(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ms(t,s){var n=s.checked;return Y({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ss(t,s){var n=s.defaultValue==null?"":s.defaultValue,l=s.checked!=null?s.checked:s.defaultChecked;n=he(s.value!=null?s.value:n),t._wrapperState={initialChecked:l,initialValue:n,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function er(t,s){s=s.checked,s!=null&&E(t,"checked",s,!1)}function fs(t,s){er(t,s);var n=he(s.value),l=s.type;if(n!=null)l==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Re(t,s.type,n):s.hasOwnProperty("defaultValue")&&Re(t,s.type,he(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function ee(t,s,n){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var l=s.type;if(!(l!=="submit"&&l!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,n||s===t.value||(t.value=s),t.defaultValue=s}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Re(t,s,n){(s!=="number"||ks(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lt=Array.isArray;function Cs(t,s,n,l){if(t=t.options,s){s={};for(var c=0;c<n.length;c++)s["$"+n[c]]=!0;for(n=0;n<t.length;n++)c=s.hasOwnProperty("$"+t[n].value),t[n].selected!==c&&(t[n].selected=c),c&&l&&(t[n].defaultSelected=!0)}else{for(n=""+he(n),s=null,c=0;c<t.length;c++){if(t[c].value===n){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}s!==null||t[c].disabled||(s=t[c])}s!==null&&(s.selected=!0)}}function tr(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(i(91));return Y({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ps(t,s){var n=s.value;if(n==null){if(n=s.children,s=s.defaultValue,n!=null){if(s!=null)throw Error(i(92));if(lt(n)){if(1<n.length)throw Error(i(93));n=n[0]}s=n}s==null&&(s=""),n=s}t._wrapperState={initialValue:he(n)}}function _r(t,s){var n=he(s.value),l=he(s.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),s.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),l!=null&&(t.defaultValue=""+l)}function ca(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Ut(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Ut(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var da,Nc=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,n,l,c){MSApp.execUnsafeLocalFunction(function(){return t(s,n,l,c)})}:t})(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(da=da||document.createElement("div"),da.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=da.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function on(t,s){if(s){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=s;return}}t.textContent=s}var cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lp=["Webkit","ms","Moz","O"];Object.keys(cn).forEach(function(t){lp.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),cn[s]=cn[t]})});function _c(t,s,n){return s==null||typeof s=="boolean"||s===""?"":n||typeof s!="number"||s===0||cn.hasOwnProperty(t)&&cn[t]?(""+s).trim():s+"px"}function kc(t,s){t=t.style;for(var n in s)if(s.hasOwnProperty(n)){var l=n.indexOf("--")===0,c=_c(n,s[n],l);n==="float"&&(n="cssFloat"),l?t.setProperty(n,c):t[n]=c}}var ip=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hl(t,s){if(s){if(ip[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(i(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(i(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(i(61))}if(s.style!=null&&typeof s.style!="object")throw Error(i(62))}}function Vl(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gl=null;function Yl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ql=null,kr=null,Sr=null;function Sc(t){if(t=Rn(t)){if(typeof Ql!="function")throw Error(i(280));var s=t.stateNode;s&&(s=La(s),Ql(t.stateNode,t.type,s))}}function Cc(t){kr?Sr?Sr.push(t):Sr=[t]:kr=t}function Ec(){if(kr){var t=kr,s=Sr;if(Sr=kr=null,Sc(t),s)for(t=0;t<s.length;t++)Sc(s[t])}}function Pc(t,s){return t(s)}function Tc(){}var Kl=!1;function Rc(t,s,n){if(Kl)return t(s,n);Kl=!0;try{return Pc(t,s,n)}finally{Kl=!1,(kr!==null||Sr!==null)&&(Tc(),Ec())}}function dn(t,s){var n=t.stateNode;if(n===null)return null;var l=La(n);if(l===null)return null;n=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(i(231,s,typeof n));return n}var Jl=!1;if(h)try{var un={};Object.defineProperty(un,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{Jl=!1}function op(t,s,n,l,c,u,x,S,T){var B=Array.prototype.slice.call(arguments,3);try{s.apply(n,B)}catch(J){this.onError(J)}}var mn=!1,ua=null,ma=!1,Xl=null,cp={onError:function(t){mn=!0,ua=t}};function dp(t,s,n,l,c,u,x,S,T){mn=!1,ua=null,op.apply(cp,arguments)}function up(t,s,n,l,c,u,x,S,T){if(dp.apply(this,arguments),mn){if(mn){var B=ua;mn=!1,ua=null}else throw Error(i(198));ma||(ma=!0,Xl=B)}}function sr(t){var s=t,n=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(n=s.return),t=s.return;while(t)}return s.tag===3?n:null}function Ac(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Lc(t){if(sr(t)!==t)throw Error(i(188))}function mp(t){var s=t.alternate;if(!s){if(s=sr(t),s===null)throw Error(i(188));return s!==t?null:t}for(var n=t,l=s;;){var c=n.return;if(c===null)break;var u=c.alternate;if(u===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===n)return Lc(c),t;if(u===l)return Lc(c),s;u=u.sibling}throw Error(i(188))}if(n.return!==l.return)n=c,l=u;else{for(var x=!1,S=c.child;S;){if(S===n){x=!0,n=c,l=u;break}if(S===l){x=!0,l=c,n=u;break}S=S.sibling}if(!x){for(S=u.child;S;){if(S===n){x=!0,n=u,l=c;break}if(S===l){x=!0,l=u,n=c;break}S=S.sibling}if(!x)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?t:s}function Fc(t){return t=mp(t),t!==null?Oc(t):null}function Oc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Oc(t);if(s!==null)return s;t=t.sibling}return null}var Mc=a.unstable_scheduleCallback,Dc=a.unstable_cancelCallback,fp=a.unstable_shouldYield,pp=a.unstable_requestPaint,qe=a.unstable_now,hp=a.unstable_getCurrentPriorityLevel,Zl=a.unstable_ImmediatePriority,zc=a.unstable_UserBlockingPriority,fa=a.unstable_NormalPriority,xp=a.unstable_LowPriority,Ic=a.unstable_IdlePriority,pa=null,Zt=null;function gp(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(pa,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:bp,yp=Math.log,vp=Math.LN2;function bp(t){return t>>>=0,t===0?32:31-(yp(t)/vp|0)|0}var ha=64,xa=4194304;function fn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ga(t,s){var n=t.pendingLanes;if(n===0)return 0;var l=0,c=t.suspendedLanes,u=t.pingedLanes,x=n&268435455;if(x!==0){var S=x&~c;S!==0?l=fn(S):(u&=x,u!==0&&(l=fn(u)))}else x=n&~c,x!==0?l=fn(x):u!==0&&(l=fn(u));if(l===0)return 0;if(s!==0&&s!==l&&(s&c)===0&&(c=l&-l,u=s&-s,c>=u||c===16&&(u&4194240)!==0))return s;if((l&4)!==0&&(l|=n&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=l;0<s;)n=31-Bt(s),c=1<<n,l|=t[n],s&=~c;return l}function jp(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wp(t,s){for(var n=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,u=t.pendingLanes;0<u;){var x=31-Bt(u),S=1<<x,T=c[x];T===-1?((S&n)===0||(S&l)!==0)&&(c[x]=jp(S,s)):T<=s&&(t.expiredLanes|=S),u&=~S}}function ei(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Uc(){var t=ha;return ha<<=1,(ha&4194240)===0&&(ha=64),t}function ti(t){for(var s=[],n=0;31>n;n++)s.push(t);return s}function pn(t,s,n){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Bt(s),t[s]=n}function Np(t,s){var n=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<n;){var c=31-Bt(n),u=1<<c;s[c]=0,l[c]=-1,t[c]=-1,n&=~u}}function si(t,s){var n=t.entangledLanes|=s;for(t=t.entanglements;n;){var l=31-Bt(n),c=1<<l;c&s|t[l]&s&&(t[l]|=s),n&=~c}}var Te=0;function Bc(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var $c,ri,Wc,qc,Hc,ni=!1,ya=[],Es=null,Ps=null,Ts=null,hn=new Map,xn=new Map,Rs=[],_p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vc(t,s){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":hn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(s.pointerId)}}function gn(t,s,n,l,c,u){return t===null||t.nativeEvent!==u?(t={blockedOn:s,domEventName:n,eventSystemFlags:l,nativeEvent:u,targetContainers:[c]},s!==null&&(s=Rn(s),s!==null&&ri(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),t)}function kp(t,s,n,l,c){switch(s){case"focusin":return Es=gn(Es,t,s,n,l,c),!0;case"dragenter":return Ps=gn(Ps,t,s,n,l,c),!0;case"mouseover":return Ts=gn(Ts,t,s,n,l,c),!0;case"pointerover":var u=c.pointerId;return hn.set(u,gn(hn.get(u)||null,t,s,n,l,c)),!0;case"gotpointercapture":return u=c.pointerId,xn.set(u,gn(xn.get(u)||null,t,s,n,l,c)),!0}return!1}function Gc(t){var s=rr(t.target);if(s!==null){var n=sr(s);if(n!==null){if(s=n.tag,s===13){if(s=Ac(n),s!==null){t.blockedOn=s,Hc(t.priority,function(){Wc(n)});return}}else if(s===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function va(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var n=li(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var l=new n.constructor(n.type,n);Gl=l,n.target.dispatchEvent(l),Gl=null}else return s=Rn(n),s!==null&&ri(s),t.blockedOn=n,!1;s.shift()}return!0}function Yc(t,s,n){va(t)&&n.delete(s)}function Sp(){ni=!1,Es!==null&&va(Es)&&(Es=null),Ps!==null&&va(Ps)&&(Ps=null),Ts!==null&&va(Ts)&&(Ts=null),hn.forEach(Yc),xn.forEach(Yc)}function yn(t,s){t.blockedOn===s&&(t.blockedOn=null,ni||(ni=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Sp)))}function vn(t){function s(c){return yn(c,t)}if(0<ya.length){yn(ya[0],t);for(var n=1;n<ya.length;n++){var l=ya[n];l.blockedOn===t&&(l.blockedOn=null)}}for(Es!==null&&yn(Es,t),Ps!==null&&yn(Ps,t),Ts!==null&&yn(Ts,t),hn.forEach(s),xn.forEach(s),n=0;n<Rs.length;n++)l=Rs[n],l.blockedOn===t&&(l.blockedOn=null);for(;0<Rs.length&&(n=Rs[0],n.blockedOn===null);)Gc(n),n.blockedOn===null&&Rs.shift()}var Cr=k.ReactCurrentBatchConfig,ba=!0;function Cp(t,s,n,l){var c=Te,u=Cr.transition;Cr.transition=null;try{Te=1,ai(t,s,n,l)}finally{Te=c,Cr.transition=u}}function Ep(t,s,n,l){var c=Te,u=Cr.transition;Cr.transition=null;try{Te=4,ai(t,s,n,l)}finally{Te=c,Cr.transition=u}}function ai(t,s,n,l){if(ba){var c=li(t,s,n,l);if(c===null)Ni(t,s,l,ja,n),Vc(t,l);else if(kp(c,t,s,n,l))l.stopPropagation();else if(Vc(t,l),s&4&&-1<_p.indexOf(t)){for(;c!==null;){var u=Rn(c);if(u!==null&&$c(u),u=li(t,s,n,l),u===null&&Ni(t,s,l,ja,n),u===c)break;c=u}c!==null&&l.stopPropagation()}else Ni(t,s,l,null,n)}}var ja=null;function li(t,s,n,l){if(ja=null,t=Yl(l),t=rr(t),t!==null)if(s=sr(t),s===null)t=null;else if(n=s.tag,n===13){if(t=Ac(s),t!==null)return t;t=null}else if(n===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return ja=t,null}function Qc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hp()){case Zl:return 1;case zc:return 4;case fa:case xp:return 16;case Ic:return 536870912;default:return 16}default:return 16}}var As=null,ii=null,wa=null;function Kc(){if(wa)return wa;var t,s=ii,n=s.length,l,c="value"in As?As.value:As.textContent,u=c.length;for(t=0;t<n&&s[t]===c[t];t++);var x=n-t;for(l=1;l<=x&&s[n-l]===c[u-l];l++);return wa=c.slice(t,1<l?1-l:void 0)}function Na(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function _a(){return!0}function Jc(){return!1}function Ct(t){function s(n,l,c,u,x){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=u,this.target=x,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(n=t[S],this[S]=n?n(u):u[S]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?_a:Jc,this.isPropagationStopped=Jc,this}return Y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),s}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oi=Ct(Er),bn=Y({},Er,{view:0,detail:0}),Pp=Ct(bn),ci,di,jn,ka=Y({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(ci=t.screenX-jn.screenX,di=t.screenY-jn.screenY):di=ci=0,jn=t),ci)},movementY:function(t){return"movementY"in t?t.movementY:di}}),Xc=Ct(ka),Tp=Y({},ka,{dataTransfer:0}),Rp=Ct(Tp),Ap=Y({},bn,{relatedTarget:0}),ui=Ct(Ap),Lp=Y({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),Fp=Ct(Lp),Op=Y({},Er,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mp=Ct(Op),Dp=Y({},Er,{data:0}),Zc=Ct(Dp),zp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bp(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Up[t])?!!s[t]:!1}function mi(){return Bp}var $p=Y({},bn,{key:function(t){if(t.key){var s=zp[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Na(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ip[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mi,charCode:function(t){return t.type==="keypress"?Na(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Na(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wp=Ct($p),qp=Y({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ed=Ct(qp),Hp=Y({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mi}),Vp=Ct(Hp),Gp=Y({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yp=Ct(Gp),Qp=Y({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kp=Ct(Qp),Jp=[9,13,27,32],fi=h&&"CompositionEvent"in window,wn=null;h&&"documentMode"in document&&(wn=document.documentMode);var Xp=h&&"TextEvent"in window&&!wn,td=h&&(!fi||wn&&8<wn&&11>=wn),sd=" ",rd=!1;function nd(t,s){switch(t){case"keyup":return Jp.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ad(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function Zp(t,s){switch(t){case"compositionend":return ad(s);case"keypress":return s.which!==32?null:(rd=!0,sd);case"textInput":return t=s.data,t===sd&&rd?null:t;default:return null}}function eh(t,s){if(Pr)return t==="compositionend"||!fi&&nd(t,s)?(t=Kc(),wa=ii=As=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return td&&s.locale!=="ko"?null:s.data;default:return null}}var th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ld(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!th[t.type]:s==="textarea"}function id(t,s,n,l){Cc(l),s=Ta(s,"onChange"),0<s.length&&(n=new oi("onChange","change",null,n,l),t.push({event:n,listeners:s}))}var Nn=null,_n=null;function sh(t){kd(t,0)}function Sa(t){var s=Fr(t);if(_s(s))return t}function rh(t,s){if(t==="change")return s}var od=!1;if(h){var pi;if(h){var hi="oninput"in document;if(!hi){var cd=document.createElement("div");cd.setAttribute("oninput","return;"),hi=typeof cd.oninput=="function"}pi=hi}else pi=!1;od=pi&&(!document.documentMode||9<document.documentMode)}function dd(){Nn&&(Nn.detachEvent("onpropertychange",ud),_n=Nn=null)}function ud(t){if(t.propertyName==="value"&&Sa(_n)){var s=[];id(s,_n,t,Yl(t)),Rc(sh,s)}}function nh(t,s,n){t==="focusin"?(dd(),Nn=s,_n=n,Nn.attachEvent("onpropertychange",ud)):t==="focusout"&&dd()}function ah(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sa(_n)}function lh(t,s){if(t==="click")return Sa(s)}function ih(t,s){if(t==="input"||t==="change")return Sa(s)}function oh(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var $t=typeof Object.is=="function"?Object.is:oh;function kn(t,s){if($t(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var n=Object.keys(t),l=Object.keys(s);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!b.call(s,c)||!$t(t[c],s[c]))return!1}return!0}function md(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fd(t,s){var n=md(t);t=0;for(var l;n;){if(n.nodeType===3){if(l=t+n.textContent.length,t<=s&&l>=s)return{node:n,offset:s-t};t=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=md(n)}}function pd(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?pd(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function hd(){for(var t=window,s=ks();s instanceof t.HTMLIFrameElement;){try{var n=typeof s.contentWindow.location.href=="string"}catch{n=!1}if(n)t=s.contentWindow;else break;s=ks(t.document)}return s}function xi(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function ch(t){var s=hd(),n=t.focusedElem,l=t.selectionRange;if(s!==n&&n&&n.ownerDocument&&pd(n.ownerDocument.documentElement,n)){if(l!==null&&xi(n)){if(s=l.start,t=l.end,t===void 0&&(t=s),"selectionStart"in n)n.selectionStart=s,n.selectionEnd=Math.min(t,n.value.length);else if(t=(s=n.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var c=n.textContent.length,u=Math.min(l.start,c);l=l.end===void 0?u:Math.min(l.end,c),!t.extend&&u>l&&(c=l,l=u,u=c),c=fd(n,u);var x=fd(n,l);c&&x&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==x.node||t.focusOffset!==x.offset)&&(s=s.createRange(),s.setStart(c.node,c.offset),t.removeAllRanges(),u>l?(t.addRange(s),t.extend(x.node,x.offset)):(s.setEnd(x.node,x.offset),t.addRange(s)))}}for(s=[],t=n;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<s.length;n++)t=s[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dh=h&&"documentMode"in document&&11>=document.documentMode,Tr=null,gi=null,Sn=null,yi=!1;function xd(t,s,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yi||Tr==null||Tr!==ks(l)||(l=Tr,"selectionStart"in l&&xi(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sn&&kn(Sn,l)||(Sn=l,l=Ta(gi,"onSelect"),0<l.length&&(s=new oi("onSelect","select",null,s,n),t.push({event:s,listeners:l}),s.target=Tr)))}function Ca(t,s){var n={};return n[t.toLowerCase()]=s.toLowerCase(),n["Webkit"+t]="webkit"+s,n["Moz"+t]="moz"+s,n}var Rr={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionend:Ca("Transition","TransitionEnd")},vi={},gd={};h&&(gd=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function Ea(t){if(vi[t])return vi[t];if(!Rr[t])return t;var s=Rr[t],n;for(n in s)if(s.hasOwnProperty(n)&&n in gd)return vi[t]=s[n];return t}var yd=Ea("animationend"),vd=Ea("animationiteration"),bd=Ea("animationstart"),jd=Ea("transitionend"),wd=new Map,Nd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(t,s){wd.set(t,s),m(s,[t])}for(var bi=0;bi<Nd.length;bi++){var ji=Nd[bi],uh=ji.toLowerCase(),mh=ji[0].toUpperCase()+ji.slice(1);Ls(uh,"on"+mh)}Ls(yd,"onAnimationEnd"),Ls(vd,"onAnimationIteration"),Ls(bd,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(jd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cn));function _d(t,s,n){var l=t.type||"unknown-event";t.currentTarget=n,up(l,s,void 0,t),t.currentTarget=null}function kd(t,s){s=(s&4)!==0;for(var n=0;n<t.length;n++){var l=t[n],c=l.event;l=l.listeners;e:{var u=void 0;if(s)for(var x=l.length-1;0<=x;x--){var S=l[x],T=S.instance,B=S.currentTarget;if(S=S.listener,T!==u&&c.isPropagationStopped())break e;_d(c,S,B),u=T}else for(x=0;x<l.length;x++){if(S=l[x],T=S.instance,B=S.currentTarget,S=S.listener,T!==u&&c.isPropagationStopped())break e;_d(c,S,B),u=T}}}if(ma)throw t=Xl,ma=!1,Xl=null,t}function Oe(t,s){var n=s[Pi];n===void 0&&(n=s[Pi]=new Set);var l=t+"__bubble";n.has(l)||(Sd(s,t,2,!1),n.add(l))}function wi(t,s,n){var l=0;s&&(l|=4),Sd(n,t,l,s)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function En(t){if(!t[Pa]){t[Pa]=!0,o.forEach(function(n){n!=="selectionchange"&&(fh.has(n)||wi(n,!1,t),wi(n,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Pa]||(s[Pa]=!0,wi("selectionchange",!1,s))}}function Sd(t,s,n,l){switch(Qc(s)){case 1:var c=Cp;break;case 4:c=Ep;break;default:c=ai}n=c.bind(null,s,n,t),c=void 0,!Jl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(s,n,{capture:!0,passive:c}):t.addEventListener(s,n,!0):c!==void 0?t.addEventListener(s,n,{passive:c}):t.addEventListener(s,n,!1)}function Ni(t,s,n,l,c){var u=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var S=l.stateNode.containerInfo;if(S===c||S.nodeType===8&&S.parentNode===c)break;if(x===4)for(x=l.return;x!==null;){var T=x.tag;if((T===3||T===4)&&(T=x.stateNode.containerInfo,T===c||T.nodeType===8&&T.parentNode===c))return;x=x.return}for(;S!==null;){if(x=rr(S),x===null)return;if(T=x.tag,T===5||T===6){l=u=x;continue e}S=S.parentNode}}l=l.return}Rc(function(){var B=u,J=Yl(n),X=[];e:{var K=wd.get(t);if(K!==void 0){var oe=oi,de=t;switch(t){case"keypress":if(Na(n)===0)break e;case"keydown":case"keyup":oe=Wp;break;case"focusin":de="focus",oe=ui;break;case"focusout":de="blur",oe=ui;break;case"beforeblur":case"afterblur":oe=ui;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=Vp;break;case yd:case vd:case bd:oe=Fp;break;case jd:oe=Yp;break;case"scroll":oe=Pp;break;case"wheel":oe=Kp;break;case"copy":case"cut":case"paste":oe=Mp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=ed}var me=(s&4)!==0,He=!me&&t==="scroll",M=me?K!==null?K+"Capture":null:K;me=[];for(var A=B,z;A!==null;){z=A;var se=z.stateNode;if(z.tag===5&&se!==null&&(z=se,M!==null&&(se=dn(A,M),se!=null&&me.push(Pn(A,se,z)))),He)break;A=A.return}0<me.length&&(K=new oe(K,de,null,n,J),X.push({event:K,listeners:me}))}}if((s&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",K&&n!==Gl&&(de=n.relatedTarget||n.fromElement)&&(rr(de)||de[hs]))break e;if((oe||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,oe?(de=n.relatedTarget||n.toElement,oe=B,de=de?rr(de):null,de!==null&&(He=sr(de),de!==He||de.tag!==5&&de.tag!==6)&&(de=null)):(oe=null,de=B),oe!==de)){if(me=Xc,se="onMouseLeave",M="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(me=ed,se="onPointerLeave",M="onPointerEnter",A="pointer"),He=oe==null?K:Fr(oe),z=de==null?K:Fr(de),K=new me(se,A+"leave",oe,n,J),K.target=He,K.relatedTarget=z,se=null,rr(J)===B&&(me=new me(M,A+"enter",de,n,J),me.target=z,me.relatedTarget=He,se=me),He=se,oe&&de)t:{for(me=oe,M=de,A=0,z=me;z;z=Ar(z))A++;for(z=0,se=M;se;se=Ar(se))z++;for(;0<A-z;)me=Ar(me),A--;for(;0<z-A;)M=Ar(M),z--;for(;A--;){if(me===M||M!==null&&me===M.alternate)break t;me=Ar(me),M=Ar(M)}me=null}else me=null;oe!==null&&Cd(X,K,oe,me,!1),de!==null&&He!==null&&Cd(X,He,de,me,!0)}}e:{if(K=B?Fr(B):window,oe=K.nodeName&&K.nodeName.toLowerCase(),oe==="select"||oe==="input"&&K.type==="file")var pe=rh;else if(ld(K))if(od)pe=ih;else{pe=ah;var ge=nh}else(oe=K.nodeName)&&oe.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(pe=lh);if(pe&&(pe=pe(t,B))){id(X,pe,n,J);break e}ge&&ge(t,K,B),t==="focusout"&&(ge=K._wrapperState)&&ge.controlled&&K.type==="number"&&Re(K,"number",K.value)}switch(ge=B?Fr(B):window,t){case"focusin":(ld(ge)||ge.contentEditable==="true")&&(Tr=ge,gi=B,Sn=null);break;case"focusout":Sn=gi=Tr=null;break;case"mousedown":yi=!0;break;case"contextmenu":case"mouseup":case"dragend":yi=!1,xd(X,n,J);break;case"selectionchange":if(dh)break;case"keydown":case"keyup":xd(X,n,J)}var ye;if(fi)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Pr?nd(t,n)&&(be="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(be="onCompositionStart");be&&(td&&n.locale!=="ko"&&(Pr||be!=="onCompositionStart"?be==="onCompositionEnd"&&Pr&&(ye=Kc()):(As=J,ii="value"in As?As.value:As.textContent,Pr=!0)),ge=Ta(B,be),0<ge.length&&(be=new Zc(be,t,null,n,J),X.push({event:be,listeners:ge}),ye?be.data=ye:(ye=ad(n),ye!==null&&(be.data=ye)))),(ye=Xp?Zp(t,n):eh(t,n))&&(B=Ta(B,"onBeforeInput"),0<B.length&&(J=new Zc("onBeforeInput","beforeinput",null,n,J),X.push({event:J,listeners:B}),J.data=ye))}kd(X,s)})}function Pn(t,s,n){return{instance:t,listener:s,currentTarget:n}}function Ta(t,s){for(var n=s+"Capture",l=[];t!==null;){var c=t,u=c.stateNode;c.tag===5&&u!==null&&(c=u,u=dn(t,n),u!=null&&l.unshift(Pn(t,u,c)),u=dn(t,s),u!=null&&l.push(Pn(t,u,c))),t=t.return}return l}function Ar(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cd(t,s,n,l,c){for(var u=s._reactName,x=[];n!==null&&n!==l;){var S=n,T=S.alternate,B=S.stateNode;if(T!==null&&T===l)break;S.tag===5&&B!==null&&(S=B,c?(T=dn(n,u),T!=null&&x.unshift(Pn(n,T,S))):c||(T=dn(n,u),T!=null&&x.push(Pn(n,T,S)))),n=n.return}x.length!==0&&t.push({event:s,listeners:x})}var ph=/\r\n?/g,hh=/\u0000|\uFFFD/g;function Ed(t){return(typeof t=="string"?t:""+t).replace(ph,`
`).replace(hh,"")}function Ra(t,s,n){if(s=Ed(s),Ed(t)!==s&&n)throw Error(i(425))}function Aa(){}var _i=null,ki=null;function Si(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ci=typeof setTimeout=="function"?setTimeout:void 0,xh=typeof clearTimeout=="function"?clearTimeout:void 0,Pd=typeof Promise=="function"?Promise:void 0,gh=typeof queueMicrotask=="function"?queueMicrotask:typeof Pd<"u"?function(t){return Pd.resolve(null).then(t).catch(yh)}:Ci;function yh(t){setTimeout(function(){throw t})}function Ei(t,s){var n=s,l=0;do{var c=n.nextSibling;if(t.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(l===0){t.removeChild(c),vn(s);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=c}while(n);vn(s)}function Fs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Td(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(s===0)return t;s--}else n==="/$"&&s++}t=t.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),es="__reactFiber$"+Lr,Tn="__reactProps$"+Lr,hs="__reactContainer$"+Lr,Pi="__reactEvents$"+Lr,vh="__reactListeners$"+Lr,bh="__reactHandles$"+Lr;function rr(t){var s=t[es];if(s)return s;for(var n=t.parentNode;n;){if(s=n[hs]||n[es]){if(n=s.alternate,s.child!==null||n!==null&&n.child!==null)for(t=Td(t);t!==null;){if(n=t[es])return n;t=Td(t)}return s}t=n,n=t.parentNode}return null}function Rn(t){return t=t[es]||t[hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(i(33))}function La(t){return t[Tn]||null}var Ti=[],Or=-1;function Os(t){return{current:t}}function Me(t){0>Or||(t.current=Ti[Or],Ti[Or]=null,Or--)}function Le(t,s){Or++,Ti[Or]=t.current,t.current=s}var Ms={},ot=Os(Ms),yt=Os(!1),nr=Ms;function Mr(t,s){var n=t.type.contextTypes;if(!n)return Ms;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===s)return l.__reactInternalMemoizedMaskedChildContext;var c={},u;for(u in n)c[u]=s[u];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=c),c}function vt(t){return t=t.childContextTypes,t!=null}function Fa(){Me(yt),Me(ot)}function Rd(t,s,n){if(ot.current!==Ms)throw Error(i(168));Le(ot,s),Le(yt,n)}function Ad(t,s,n){var l=t.stateNode;if(s=s.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var c in l)if(!(c in s))throw Error(i(108,ke(t)||"Unknown",c));return Y({},n,l)}function Oa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ms,nr=ot.current,Le(ot,t),Le(yt,yt.current),!0}function Ld(t,s,n){var l=t.stateNode;if(!l)throw Error(i(169));n?(t=Ad(t,s,nr),l.__reactInternalMemoizedMergedChildContext=t,Me(yt),Me(ot),Le(ot,t)):Me(yt),Le(yt,n)}var xs=null,Ma=!1,Ri=!1;function Fd(t){xs===null?xs=[t]:xs.push(t)}function jh(t){Ma=!0,Fd(t)}function Ds(){if(!Ri&&xs!==null){Ri=!0;var t=0,s=Te;try{var n=xs;for(Te=1;t<n.length;t++){var l=n[t];do l=l(!0);while(l!==null)}xs=null,Ma=!1}catch(c){throw xs!==null&&(xs=xs.slice(t+1)),Mc(Zl,Ds),c}finally{Te=s,Ri=!1}}return null}var Dr=[],zr=0,Da=null,za=0,Ft=[],Ot=0,ar=null,gs=1,ys="";function lr(t,s){Dr[zr++]=za,Dr[zr++]=Da,Da=t,za=s}function Od(t,s,n){Ft[Ot++]=gs,Ft[Ot++]=ys,Ft[Ot++]=ar,ar=t;var l=gs;t=ys;var c=32-Bt(l)-1;l&=~(1<<c),n+=1;var u=32-Bt(s)+c;if(30<u){var x=c-c%5;u=(l&(1<<x)-1).toString(32),l>>=x,c-=x,gs=1<<32-Bt(s)+c|n<<c|l,ys=u+t}else gs=1<<u|n<<c|l,ys=t}function Ai(t){t.return!==null&&(lr(t,1),Od(t,1,0))}function Li(t){for(;t===Da;)Da=Dr[--zr],Dr[zr]=null,za=Dr[--zr],Dr[zr]=null;for(;t===ar;)ar=Ft[--Ot],Ft[Ot]=null,ys=Ft[--Ot],Ft[Ot]=null,gs=Ft[--Ot],Ft[Ot]=null}var Et=null,Pt=null,De=!1,Wt=null;function Md(t,s){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=s,n.return=t,s=t.deletions,s===null?(t.deletions=[n],t.flags|=16):s.push(n)}function Dd(t,s){switch(t.tag){case 5:var n=t.type;return s=s.nodeType!==1||n.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Et=t,Pt=Fs(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Et=t,Pt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(n=ar!==null?{id:gs,overflow:ys}:null,t.memoizedState={dehydrated:s,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=s,n.return=t,t.child=n,Et=t,Pt=null,!0):!1;default:return!1}}function Fi(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oi(t){if(De){var s=Pt;if(s){var n=s;if(!Dd(t,s)){if(Fi(t))throw Error(i(418));s=Fs(n.nextSibling);var l=Et;s&&Dd(t,s)?Md(l,n):(t.flags=t.flags&-4097|2,De=!1,Et=t)}}else{if(Fi(t))throw Error(i(418));t.flags=t.flags&-4097|2,De=!1,Et=t}}}function zd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Et=t}function Ia(t){if(t!==Et)return!1;if(!De)return zd(t),De=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Si(t.type,t.memoizedProps)),s&&(s=Pt)){if(Fi(t))throw Id(),Error(i(418));for(;s;)Md(t,s),s=Fs(s.nextSibling)}if(zd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(s===0){Pt=Fs(t.nextSibling);break e}s--}else n!=="$"&&n!=="$!"&&n!=="$?"||s++}t=t.nextSibling}Pt=null}}else Pt=Et?Fs(t.stateNode.nextSibling):null;return!0}function Id(){for(var t=Pt;t;)t=Fs(t.nextSibling)}function Ir(){Pt=Et=null,De=!1}function Mi(t){Wt===null?Wt=[t]:Wt.push(t)}var wh=k.ReactCurrentBatchConfig;function An(t,s,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var l=n.stateNode}if(!l)throw Error(i(147,t));var c=l,u=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===u?s.ref:(s=function(x){var S=c.refs;x===null?delete S[u]:S[u]=x},s._stringRef=u,s)}if(typeof t!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,t))}return t}function Ua(t,s){throw t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Ud(t){var s=t._init;return s(t._payload)}function Bd(t){function s(M,A){if(t){var z=M.deletions;z===null?(M.deletions=[A],M.flags|=16):z.push(A)}}function n(M,A){if(!t)return null;for(;A!==null;)s(M,A),A=A.sibling;return null}function l(M,A){for(M=new Map;A!==null;)A.key!==null?M.set(A.key,A):M.set(A.index,A),A=A.sibling;return M}function c(M,A){return M=Hs(M,A),M.index=0,M.sibling=null,M}function u(M,A,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<A?(M.flags|=2,A):z):(M.flags|=2,A)):(M.flags|=1048576,A)}function x(M){return t&&M.alternate===null&&(M.flags|=2),M}function S(M,A,z,se){return A===null||A.tag!==6?(A=Eo(z,M.mode,se),A.return=M,A):(A=c(A,z),A.return=M,A)}function T(M,A,z,se){var pe=z.type;return pe===D?J(M,A,z.props.children,se,z.key):A!==null&&(A.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===le&&Ud(pe)===A.type)?(se=c(A,z.props),se.ref=An(M,A,z),se.return=M,se):(se=dl(z.type,z.key,z.props,null,M.mode,se),se.ref=An(M,A,z),se.return=M,se)}function B(M,A,z,se){return A===null||A.tag!==4||A.stateNode.containerInfo!==z.containerInfo||A.stateNode.implementation!==z.implementation?(A=Po(z,M.mode,se),A.return=M,A):(A=c(A,z.children||[]),A.return=M,A)}function J(M,A,z,se,pe){return A===null||A.tag!==7?(A=pr(z,M.mode,se,pe),A.return=M,A):(A=c(A,z),A.return=M,A)}function X(M,A,z){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Eo(""+A,M.mode,z),A.return=M,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case $:return z=dl(A.type,A.key,A.props,null,M.mode,z),z.ref=An(M,null,A),z.return=M,z;case I:return A=Po(A,M.mode,z),A.return=M,A;case le:var se=A._init;return X(M,se(A._payload),z)}if(lt(A)||U(A))return A=pr(A,M.mode,z,null),A.return=M,A;Ua(M,A)}return null}function K(M,A,z,se){var pe=A!==null?A.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return pe!==null?null:S(M,A,""+z,se);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $:return z.key===pe?T(M,A,z,se):null;case I:return z.key===pe?B(M,A,z,se):null;case le:return pe=z._init,K(M,A,pe(z._payload),se)}if(lt(z)||U(z))return pe!==null?null:J(M,A,z,se,null);Ua(M,z)}return null}function oe(M,A,z,se,pe){if(typeof se=="string"&&se!==""||typeof se=="number")return M=M.get(z)||null,S(A,M,""+se,pe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case $:return M=M.get(se.key===null?z:se.key)||null,T(A,M,se,pe);case I:return M=M.get(se.key===null?z:se.key)||null,B(A,M,se,pe);case le:var ge=se._init;return oe(M,A,z,ge(se._payload),pe)}if(lt(se)||U(se))return M=M.get(z)||null,J(A,M,se,pe,null);Ua(A,se)}return null}function de(M,A,z,se){for(var pe=null,ge=null,ye=A,be=A=0,et=null;ye!==null&&be<z.length;be++){ye.index>be?(et=ye,ye=null):et=ye.sibling;var Pe=K(M,ye,z[be],se);if(Pe===null){ye===null&&(ye=et);break}t&&ye&&Pe.alternate===null&&s(M,ye),A=u(Pe,A,be),ge===null?pe=Pe:ge.sibling=Pe,ge=Pe,ye=et}if(be===z.length)return n(M,ye),De&&lr(M,be),pe;if(ye===null){for(;be<z.length;be++)ye=X(M,z[be],se),ye!==null&&(A=u(ye,A,be),ge===null?pe=ye:ge.sibling=ye,ge=ye);return De&&lr(M,be),pe}for(ye=l(M,ye);be<z.length;be++)et=oe(ye,M,be,z[be],se),et!==null&&(t&&et.alternate!==null&&ye.delete(et.key===null?be:et.key),A=u(et,A,be),ge===null?pe=et:ge.sibling=et,ge=et);return t&&ye.forEach(function(Vs){return s(M,Vs)}),De&&lr(M,be),pe}function me(M,A,z,se){var pe=U(z);if(typeof pe!="function")throw Error(i(150));if(z=pe.call(z),z==null)throw Error(i(151));for(var ge=pe=null,ye=A,be=A=0,et=null,Pe=z.next();ye!==null&&!Pe.done;be++,Pe=z.next()){ye.index>be?(et=ye,ye=null):et=ye.sibling;var Vs=K(M,ye,Pe.value,se);if(Vs===null){ye===null&&(ye=et);break}t&&ye&&Vs.alternate===null&&s(M,ye),A=u(Vs,A,be),ge===null?pe=Vs:ge.sibling=Vs,ge=Vs,ye=et}if(Pe.done)return n(M,ye),De&&lr(M,be),pe;if(ye===null){for(;!Pe.done;be++,Pe=z.next())Pe=X(M,Pe.value,se),Pe!==null&&(A=u(Pe,A,be),ge===null?pe=Pe:ge.sibling=Pe,ge=Pe);return De&&lr(M,be),pe}for(ye=l(M,ye);!Pe.done;be++,Pe=z.next())Pe=oe(ye,M,be,Pe.value,se),Pe!==null&&(t&&Pe.alternate!==null&&ye.delete(Pe.key===null?be:Pe.key),A=u(Pe,A,be),ge===null?pe=Pe:ge.sibling=Pe,ge=Pe);return t&&ye.forEach(function(tx){return s(M,tx)}),De&&lr(M,be),pe}function He(M,A,z,se){if(typeof z=="object"&&z!==null&&z.type===D&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case $:e:{for(var pe=z.key,ge=A;ge!==null;){if(ge.key===pe){if(pe=z.type,pe===D){if(ge.tag===7){n(M,ge.sibling),A=c(ge,z.props.children),A.return=M,M=A;break e}}else if(ge.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===le&&Ud(pe)===ge.type){n(M,ge.sibling),A=c(ge,z.props),A.ref=An(M,ge,z),A.return=M,M=A;break e}n(M,ge);break}else s(M,ge);ge=ge.sibling}z.type===D?(A=pr(z.props.children,M.mode,se,z.key),A.return=M,M=A):(se=dl(z.type,z.key,z.props,null,M.mode,se),se.ref=An(M,A,z),se.return=M,M=se)}return x(M);case I:e:{for(ge=z.key;A!==null;){if(A.key===ge)if(A.tag===4&&A.stateNode.containerInfo===z.containerInfo&&A.stateNode.implementation===z.implementation){n(M,A.sibling),A=c(A,z.children||[]),A.return=M,M=A;break e}else{n(M,A);break}else s(M,A);A=A.sibling}A=Po(z,M.mode,se),A.return=M,M=A}return x(M);case le:return ge=z._init,He(M,A,ge(z._payload),se)}if(lt(z))return de(M,A,z,se);if(U(z))return me(M,A,z,se);Ua(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,A!==null&&A.tag===6?(n(M,A.sibling),A=c(A,z),A.return=M,M=A):(n(M,A),A=Eo(z,M.mode,se),A.return=M,M=A),x(M)):n(M,A)}return He}var Ur=Bd(!0),$d=Bd(!1),Ba=Os(null),$a=null,Br=null,Di=null;function zi(){Di=Br=$a=null}function Ii(t){var s=Ba.current;Me(Ba),t._currentValue=s}function Ui(t,s,n){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===n)break;t=t.return}}function $r(t,s){$a=t,Di=Br=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(bt=!0),t.firstContext=null)}function Mt(t){var s=t._currentValue;if(Di!==t)if(t={context:t,memoizedValue:s,next:null},Br===null){if($a===null)throw Error(i(308));Br=t,$a.dependencies={lanes:0,firstContext:t}}else Br=Br.next=t;return s}var ir=null;function Bi(t){ir===null?ir=[t]:ir.push(t)}function Wd(t,s,n,l){var c=s.interleaved;return c===null?(n.next=n,Bi(s)):(n.next=c.next,c.next=n),s.interleaved=n,vs(t,l)}function vs(t,s){t.lanes|=s;var n=t.alternate;for(n!==null&&(n.lanes|=s),n=t,t=t.return;t!==null;)t.childLanes|=s,n=t.alternate,n!==null&&(n.childLanes|=s),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zs=!1;function $i(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bs(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Is(t,s,n){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var c=l.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),l.pending=s,vs(t,n)}return c=l.interleaved,c===null?(s.next=s,Bi(l)):(s.next=c.next,c.next=s),l.interleaved=s,vs(t,n)}function Wa(t,s,n){if(s=s.updateQueue,s!==null&&(s=s.shared,(n&4194240)!==0)){var l=s.lanes;l&=t.pendingLanes,n|=l,s.lanes=n,si(t,n)}}function Hd(t,s){var n=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var x={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?c=u=x:u=u.next=x,n=n.next}while(n!==null);u===null?c=u=s:u=u.next=s}else c=u=s;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:l.shared,effects:l.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=s:t.next=s,n.lastBaseUpdate=s}function qa(t,s,n,l){var c=t.updateQueue;zs=!1;var u=c.firstBaseUpdate,x=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var T=S,B=T.next;T.next=null,x===null?u=B:x.next=B,x=T;var J=t.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==x&&(S===null?J.firstBaseUpdate=B:S.next=B,J.lastBaseUpdate=T))}if(u!==null){var X=c.baseState;x=0,J=B=T=null,S=u;do{var K=S.lane,oe=S.eventTime;if((l&K)===K){J!==null&&(J=J.next={eventTime:oe,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var de=t,me=S;switch(K=s,oe=n,me.tag){case 1:if(de=me.payload,typeof de=="function"){X=de.call(oe,X,K);break e}X=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=me.payload,K=typeof de=="function"?de.call(oe,X,K):de,K==null)break e;X=Y({},X,K);break e;case 2:zs=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,K=c.effects,K===null?c.effects=[S]:K.push(S))}else oe={eventTime:oe,lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(B=J=oe,T=X):J=J.next=oe,x|=K;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;K=S,S=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);if(J===null&&(T=X),c.baseState=T,c.firstBaseUpdate=B,c.lastBaseUpdate=J,s=c.shared.interleaved,s!==null){c=s;do x|=c.lane,c=c.next;while(c!==s)}else u===null&&(c.shared.lanes=0);dr|=x,t.lanes=x,t.memoizedState=X}}function Vd(t,s,n){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var l=t[s],c=l.callback;if(c!==null){if(l.callback=null,l=n,typeof c!="function")throw Error(i(191,c));c.call(l)}}}var Ln={},ts=Os(Ln),Fn=Os(Ln),On=Os(Ln);function or(t){if(t===Ln)throw Error(i(174));return t}function Wi(t,s){switch(Le(On,s),Le(Fn,t),Le(ts,Ln),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:it(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=it(s,t)}Me(ts),Le(ts,s)}function Wr(){Me(ts),Me(Fn),Me(On)}function Gd(t){or(On.current);var s=or(ts.current),n=it(s,t.type);s!==n&&(Le(Fn,t),Le(ts,n))}function qi(t){Fn.current===t&&(Me(ts),Me(Fn))}var ze=Os(0);function Ha(t){for(var s=t;s!==null;){if(s.tag===13){var n=s.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Hi=[];function Vi(){for(var t=0;t<Hi.length;t++)Hi[t]._workInProgressVersionPrimary=null;Hi.length=0}var Va=k.ReactCurrentDispatcher,Gi=k.ReactCurrentBatchConfig,cr=0,Ie=null,Ke=null,Xe=null,Ga=!1,Mn=!1,Dn=0,Nh=0;function ct(){throw Error(i(321))}function Yi(t,s){if(s===null)return!1;for(var n=0;n<s.length&&n<t.length;n++)if(!$t(t[n],s[n]))return!1;return!0}function Qi(t,s,n,l,c,u){if(cr=u,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Va.current=t===null||t.memoizedState===null?Ch:Eh,t=n(l,c),Mn){u=0;do{if(Mn=!1,Dn=0,25<=u)throw Error(i(301));u+=1,Xe=Ke=null,s.updateQueue=null,Va.current=Ph,t=n(l,c)}while(Mn)}if(Va.current=Ka,s=Ke!==null&&Ke.next!==null,cr=0,Xe=Ke=Ie=null,Ga=!1,s)throw Error(i(300));return t}function Ki(){var t=Dn!==0;return Dn=0,t}function ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ie.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function Dt(){if(Ke===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var s=Xe===null?Ie.memoizedState:Xe.next;if(s!==null)Xe=s,Ke=t;else{if(t===null)throw Error(i(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Xe===null?Ie.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function zn(t,s){return typeof s=="function"?s(t):s}function Ji(t){var s=Dt(),n=s.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=t;var l=Ke,c=l.baseQueue,u=n.pending;if(u!==null){if(c!==null){var x=c.next;c.next=u.next,u.next=x}l.baseQueue=c=u,n.pending=null}if(c!==null){u=c.next,l=l.baseState;var S=x=null,T=null,B=u;do{var J=B.lane;if((cr&J)===J)T!==null&&(T=T.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),l=B.hasEagerState?B.eagerState:t(l,B.action);else{var X={lane:J,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};T===null?(S=T=X,x=l):T=T.next=X,Ie.lanes|=J,dr|=J}B=B.next}while(B!==null&&B!==u);T===null?x=l:T.next=S,$t(l,s.memoizedState)||(bt=!0),s.memoizedState=l,s.baseState=x,s.baseQueue=T,n.lastRenderedState=l}if(t=n.interleaved,t!==null){c=t;do u=c.lane,Ie.lanes|=u,dr|=u,c=c.next;while(c!==t)}else c===null&&(n.lanes=0);return[s.memoizedState,n.dispatch]}function Xi(t){var s=Dt(),n=s.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=t;var l=n.dispatch,c=n.pending,u=s.memoizedState;if(c!==null){n.pending=null;var x=c=c.next;do u=t(u,x.action),x=x.next;while(x!==c);$t(u,s.memoizedState)||(bt=!0),s.memoizedState=u,s.baseQueue===null&&(s.baseState=u),n.lastRenderedState=u}return[u,l]}function Yd(){}function Qd(t,s){var n=Ie,l=Dt(),c=s(),u=!$t(l.memoizedState,c);if(u&&(l.memoizedState=c,bt=!0),l=l.queue,Zi(Xd.bind(null,n,l,t),[t]),l.getSnapshot!==s||u||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,In(9,Jd.bind(null,n,l,c,s),void 0,null),Ze===null)throw Error(i(349));(cr&30)!==0||Kd(n,s,c)}return c}function Kd(t,s,n){t.flags|=16384,t={getSnapshot:s,value:n},s=Ie.updateQueue,s===null?(s={lastEffect:null,stores:null},Ie.updateQueue=s,s.stores=[t]):(n=s.stores,n===null?s.stores=[t]:n.push(t))}function Jd(t,s,n,l){s.value=n,s.getSnapshot=l,Zd(s)&&eu(t)}function Xd(t,s,n){return n(function(){Zd(s)&&eu(t)})}function Zd(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!$t(t,n)}catch{return!0}}function eu(t){var s=vs(t,1);s!==null&&Gt(s,t,1,-1)}function tu(t){var s=ss();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:t},s.queue=t,t=t.dispatch=Sh.bind(null,Ie,t),[s.memoizedState,t]}function In(t,s,n,l){return t={tag:t,create:s,destroy:n,deps:l,next:null},s=Ie.updateQueue,s===null?(s={lastEffect:null,stores:null},Ie.updateQueue=s,s.lastEffect=t.next=t):(n=s.lastEffect,n===null?s.lastEffect=t.next=t:(l=n.next,n.next=t,t.next=l,s.lastEffect=t)),t}function su(){return Dt().memoizedState}function Ya(t,s,n,l){var c=ss();Ie.flags|=t,c.memoizedState=In(1|s,n,void 0,l===void 0?null:l)}function Qa(t,s,n,l){var c=Dt();l=l===void 0?null:l;var u=void 0;if(Ke!==null){var x=Ke.memoizedState;if(u=x.destroy,l!==null&&Yi(l,x.deps)){c.memoizedState=In(s,n,u,l);return}}Ie.flags|=t,c.memoizedState=In(1|s,n,u,l)}function ru(t,s){return Ya(8390656,8,t,s)}function Zi(t,s){return Qa(2048,8,t,s)}function nu(t,s){return Qa(4,2,t,s)}function au(t,s){return Qa(4,4,t,s)}function lu(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function iu(t,s,n){return n=n!=null?n.concat([t]):null,Qa(4,4,lu.bind(null,s,t),n)}function eo(){}function ou(t,s){var n=Dt();s=s===void 0?null:s;var l=n.memoizedState;return l!==null&&s!==null&&Yi(s,l[1])?l[0]:(n.memoizedState=[t,s],t)}function cu(t,s){var n=Dt();s=s===void 0?null:s;var l=n.memoizedState;return l!==null&&s!==null&&Yi(s,l[1])?l[0]:(t=t(),n.memoizedState=[t,s],t)}function du(t,s,n){return(cr&21)===0?(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=n):($t(n,s)||(n=Uc(),Ie.lanes|=n,dr|=n,t.baseState=!0),s)}function _h(t,s){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var l=Gi.transition;Gi.transition={};try{t(!1),s()}finally{Te=n,Gi.transition=l}}function uu(){return Dt().memoizedState}function kh(t,s,n){var l=Ws(t);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},mu(t))fu(s,n);else if(n=Wd(t,s,n,l),n!==null){var c=gt();Gt(n,t,l,c),pu(n,s,l)}}function Sh(t,s,n){var l=Ws(t),c={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(mu(t))fu(s,c);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=s.lastRenderedReducer,u!==null))try{var x=s.lastRenderedState,S=u(x,n);if(c.hasEagerState=!0,c.eagerState=S,$t(S,x)){var T=s.interleaved;T===null?(c.next=c,Bi(s)):(c.next=T.next,T.next=c),s.interleaved=c;return}}catch{}n=Wd(t,s,c,l),n!==null&&(c=gt(),Gt(n,t,l,c),pu(n,s,l))}}function mu(t){var s=t.alternate;return t===Ie||s!==null&&s===Ie}function fu(t,s){Mn=Ga=!0;var n=t.pending;n===null?s.next=s:(s.next=n.next,n.next=s),t.pending=s}function pu(t,s,n){if((n&4194240)!==0){var l=s.lanes;l&=t.pendingLanes,n|=l,s.lanes=n,si(t,n)}}var Ka={readContext:Mt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},Ch={readContext:Mt,useCallback:function(t,s){return ss().memoizedState=[t,s===void 0?null:s],t},useContext:Mt,useEffect:ru,useImperativeHandle:function(t,s,n){return n=n!=null?n.concat([t]):null,Ya(4194308,4,lu.bind(null,s,t),n)},useLayoutEffect:function(t,s){return Ya(4194308,4,t,s)},useInsertionEffect:function(t,s){return Ya(4,2,t,s)},useMemo:function(t,s){var n=ss();return s=s===void 0?null:s,t=t(),n.memoizedState=[t,s],t},useReducer:function(t,s,n){var l=ss();return s=n!==void 0?n(s):s,l.memoizedState=l.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},l.queue=t,t=t.dispatch=kh.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var s=ss();return t={current:t},s.memoizedState=t},useState:tu,useDebugValue:eo,useDeferredValue:function(t){return ss().memoizedState=t},useTransition:function(){var t=tu(!1),s=t[0];return t=_h.bind(null,t[1]),ss().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,n){var l=Ie,c=ss();if(De){if(n===void 0)throw Error(i(407));n=n()}else{if(n=s(),Ze===null)throw Error(i(349));(cr&30)!==0||Kd(l,s,n)}c.memoizedState=n;var u={value:n,getSnapshot:s};return c.queue=u,ru(Xd.bind(null,l,u,t),[t]),l.flags|=2048,In(9,Jd.bind(null,l,u,n,s),void 0,null),n},useId:function(){var t=ss(),s=Ze.identifierPrefix;if(De){var n=ys,l=gs;n=(l&~(1<<32-Bt(l)-1)).toString(32)+n,s=":"+s+"R"+n,n=Dn++,0<n&&(s+="H"+n.toString(32)),s+=":"}else n=Nh++,s=":"+s+"r"+n.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Eh={readContext:Mt,useCallback:ou,useContext:Mt,useEffect:Zi,useImperativeHandle:iu,useInsertionEffect:nu,useLayoutEffect:au,useMemo:cu,useReducer:Ji,useRef:su,useState:function(){return Ji(zn)},useDebugValue:eo,useDeferredValue:function(t){var s=Dt();return du(s,Ke.memoizedState,t)},useTransition:function(){var t=Ji(zn)[0],s=Dt().memoizedState;return[t,s]},useMutableSource:Yd,useSyncExternalStore:Qd,useId:uu,unstable_isNewReconciler:!1},Ph={readContext:Mt,useCallback:ou,useContext:Mt,useEffect:Zi,useImperativeHandle:iu,useInsertionEffect:nu,useLayoutEffect:au,useMemo:cu,useReducer:Xi,useRef:su,useState:function(){return Xi(zn)},useDebugValue:eo,useDeferredValue:function(t){var s=Dt();return Ke===null?s.memoizedState=t:du(s,Ke.memoizedState,t)},useTransition:function(){var t=Xi(zn)[0],s=Dt().memoizedState;return[t,s]},useMutableSource:Yd,useSyncExternalStore:Qd,useId:uu,unstable_isNewReconciler:!1};function qt(t,s){if(t&&t.defaultProps){s=Y({},s),t=t.defaultProps;for(var n in t)s[n]===void 0&&(s[n]=t[n]);return s}return s}function to(t,s,n,l){s=t.memoizedState,n=n(l,s),n=n==null?s:Y({},s,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ja={isMounted:function(t){return(t=t._reactInternals)?sr(t)===t:!1},enqueueSetState:function(t,s,n){t=t._reactInternals;var l=gt(),c=Ws(t),u=bs(l,c);u.payload=s,n!=null&&(u.callback=n),s=Is(t,u,c),s!==null&&(Gt(s,t,c,l),Wa(s,t,c))},enqueueReplaceState:function(t,s,n){t=t._reactInternals;var l=gt(),c=Ws(t),u=bs(l,c);u.tag=1,u.payload=s,n!=null&&(u.callback=n),s=Is(t,u,c),s!==null&&(Gt(s,t,c,l),Wa(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var n=gt(),l=Ws(t),c=bs(n,l);c.tag=2,s!=null&&(c.callback=s),s=Is(t,c,l),s!==null&&(Gt(s,t,l,n),Wa(s,t,l))}};function hu(t,s,n,l,c,u,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,u,x):s.prototype&&s.prototype.isPureReactComponent?!kn(n,l)||!kn(c,u):!0}function xu(t,s,n){var l=!1,c=Ms,u=s.contextType;return typeof u=="object"&&u!==null?u=Mt(u):(c=vt(s)?nr:ot.current,l=s.contextTypes,u=(l=l!=null)?Mr(t,c):Ms),s=new s(n,u),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ja,t.stateNode=s,s._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=u),s}function gu(t,s,n,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(n,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(n,l),s.state!==t&&Ja.enqueueReplaceState(s,s.state,null)}function so(t,s,n,l){var c=t.stateNode;c.props=n,c.state=t.memoizedState,c.refs={},$i(t);var u=s.contextType;typeof u=="object"&&u!==null?c.context=Mt(u):(u=vt(s)?nr:ot.current,c.context=Mr(t,u)),c.state=t.memoizedState,u=s.getDerivedStateFromProps,typeof u=="function"&&(to(t,s,u,n),c.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(s=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),s!==c.state&&Ja.enqueueReplaceState(c,c.state,null),qa(t,n,c,l),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function qr(t,s){try{var n="",l=s;do n+=fe(l),l=l.return;while(l);var c=n}catch(u){c=`
Error generating stack: `+u.message+`
`+u.stack}return{value:t,source:s,stack:c,digest:null}}function ro(t,s,n){return{value:t,source:null,stack:n??null,digest:s??null}}function no(t,s){try{console.error(s.value)}catch(n){setTimeout(function(){throw n})}}var Th=typeof WeakMap=="function"?WeakMap:Map;function yu(t,s,n){n=bs(-1,n),n.tag=3,n.payload={element:null};var l=s.value;return n.callback=function(){nl||(nl=!0,bo=l),no(t,s)},n}function vu(t,s,n){n=bs(-1,n),n.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var c=s.value;n.payload=function(){return l(c)},n.callback=function(){no(t,s)}}var u=t.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){no(t,s),typeof l!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})}),n}function bu(t,s,n){var l=t.pingCache;if(l===null){l=t.pingCache=new Th;var c=new Set;l.set(s,c)}else c=l.get(s),c===void 0&&(c=new Set,l.set(s,c));c.has(n)||(c.add(n),t=qh.bind(null,t,s,n),s.then(t,t))}function ju(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function wu(t,s,n,l,c){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(s=bs(-1,1),s.tag=2,Is(n,s,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=c,t)}var Rh=k.ReactCurrentOwner,bt=!1;function xt(t,s,n,l){s.child=t===null?$d(s,null,n,l):Ur(s,t.child,n,l)}function Nu(t,s,n,l,c){n=n.render;var u=s.ref;return $r(s,c),l=Qi(t,s,n,l,u,c),n=Ki(),t!==null&&!bt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~c,js(t,s,c)):(De&&n&&Ai(s),s.flags|=1,xt(t,s,l,c),s.child)}function _u(t,s,n,l,c){if(t===null){var u=n.type;return typeof u=="function"&&!Co(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(s.tag=15,s.type=u,ku(t,s,u,l,c)):(t=dl(n.type,null,l,s,s.mode,c),t.ref=s.ref,t.return=s,s.child=t)}if(u=t.child,(t.lanes&c)===0){var x=u.memoizedProps;if(n=n.compare,n=n!==null?n:kn,n(x,l)&&t.ref===s.ref)return js(t,s,c)}return s.flags|=1,t=Hs(u,l),t.ref=s.ref,t.return=s,s.child=t}function ku(t,s,n,l,c){if(t!==null){var u=t.memoizedProps;if(kn(u,l)&&t.ref===s.ref)if(bt=!1,s.pendingProps=l=u,(t.lanes&c)!==0)(t.flags&131072)!==0&&(bt=!0);else return s.lanes=t.lanes,js(t,s,c)}return ao(t,s,n,l,c)}function Su(t,s,n){var l=s.pendingProps,c=l.children,u=t!==null?t.memoizedState:null;if(l.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Vr,Tt),Tt|=n;else{if((n&1073741824)===0)return t=u!==null?u.baseLanes|n:n,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Le(Vr,Tt),Tt|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=u!==null?u.baseLanes:n,Le(Vr,Tt),Tt|=l}else u!==null?(l=u.baseLanes|n,s.memoizedState=null):l=n,Le(Vr,Tt),Tt|=l;return xt(t,s,c,n),s.child}function Cu(t,s){var n=s.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(s.flags|=512,s.flags|=2097152)}function ao(t,s,n,l,c){var u=vt(n)?nr:ot.current;return u=Mr(s,u),$r(s,c),n=Qi(t,s,n,l,u,c),l=Ki(),t!==null&&!bt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~c,js(t,s,c)):(De&&l&&Ai(s),s.flags|=1,xt(t,s,n,c),s.child)}function Eu(t,s,n,l,c){if(vt(n)){var u=!0;Oa(s)}else u=!1;if($r(s,c),s.stateNode===null)Za(t,s),xu(s,n,l),so(s,n,l,c),l=!0;else if(t===null){var x=s.stateNode,S=s.memoizedProps;x.props=S;var T=x.context,B=n.contextType;typeof B=="object"&&B!==null?B=Mt(B):(B=vt(n)?nr:ot.current,B=Mr(s,B));var J=n.getDerivedStateFromProps,X=typeof J=="function"||typeof x.getSnapshotBeforeUpdate=="function";X||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==l||T!==B)&&gu(s,x,l,B),zs=!1;var K=s.memoizedState;x.state=K,qa(s,l,x,c),T=s.memoizedState,S!==l||K!==T||yt.current||zs?(typeof J=="function"&&(to(s,n,J,l),T=s.memoizedState),(S=zs||hu(s,n,S,l,K,T,B))?(X||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=T),x.props=l,x.state=T,x.context=B,l=S):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{x=s.stateNode,qd(t,s),S=s.memoizedProps,B=s.type===s.elementType?S:qt(s.type,S),x.props=B,X=s.pendingProps,K=x.context,T=n.contextType,typeof T=="object"&&T!==null?T=Mt(T):(T=vt(n)?nr:ot.current,T=Mr(s,T));var oe=n.getDerivedStateFromProps;(J=typeof oe=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==X||K!==T)&&gu(s,x,l,T),zs=!1,K=s.memoizedState,x.state=K,qa(s,l,x,c);var de=s.memoizedState;S!==X||K!==de||yt.current||zs?(typeof oe=="function"&&(to(s,n,oe,l),de=s.memoizedState),(B=zs||hu(s,n,B,l,K,de,T)||!1)?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,de,T),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,de,T)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=de),x.props=l,x.state=de,x.context=T,l=B):(typeof x.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(s.flags|=1024),l=!1)}return lo(t,s,n,l,u,c)}function lo(t,s,n,l,c,u){Cu(t,s);var x=(s.flags&128)!==0;if(!l&&!x)return c&&Ld(s,n,!1),js(t,s,u);l=s.stateNode,Rh.current=s;var S=x&&typeof n.getDerivedStateFromError!="function"?null:l.render();return s.flags|=1,t!==null&&x?(s.child=Ur(s,t.child,null,u),s.child=Ur(s,null,S,u)):xt(t,s,S,u),s.memoizedState=l.state,c&&Ld(s,n,!0),s.child}function Pu(t){var s=t.stateNode;s.pendingContext?Rd(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Rd(t,s.context,!1),Wi(t,s.containerInfo)}function Tu(t,s,n,l,c){return Ir(),Mi(c),s.flags|=256,xt(t,s,n,l),s.child}var io={dehydrated:null,treeContext:null,retryLane:0};function oo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ru(t,s,n){var l=s.pendingProps,c=ze.current,u=!1,x=(s.flags&128)!==0,S;if((S=x)||(S=t!==null&&t.memoizedState===null?!1:(c&2)!==0),S?(u=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),Le(ze,c&1),t===null)return Oi(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(x=l.children,t=l.fallback,u?(l=s.mode,u=s.child,x={mode:"hidden",children:x},(l&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=x):u=ul(x,l,0,null),t=pr(t,l,n,null),u.return=s,t.return=s,u.sibling=t,s.child=u,s.child.memoizedState=oo(n),s.memoizedState=io,t):co(s,x));if(c=t.memoizedState,c!==null&&(S=c.dehydrated,S!==null))return Ah(t,s,x,l,S,c,n);if(u){u=l.fallback,x=s.mode,c=t.child,S=c.sibling;var T={mode:"hidden",children:l.children};return(x&1)===0&&s.child!==c?(l=s.child,l.childLanes=0,l.pendingProps=T,s.deletions=null):(l=Hs(c,T),l.subtreeFlags=c.subtreeFlags&14680064),S!==null?u=Hs(S,u):(u=pr(u,x,n,null),u.flags|=2),u.return=s,l.return=s,l.sibling=u,s.child=l,l=u,u=s.child,x=t.child.memoizedState,x=x===null?oo(n):{baseLanes:x.baseLanes|n,cachePool:null,transitions:x.transitions},u.memoizedState=x,u.childLanes=t.childLanes&~n,s.memoizedState=io,l}return u=t.child,t=u.sibling,l=Hs(u,{mode:"visible",children:l.children}),(s.mode&1)===0&&(l.lanes=n),l.return=s,l.sibling=null,t!==null&&(n=s.deletions,n===null?(s.deletions=[t],s.flags|=16):n.push(t)),s.child=l,s.memoizedState=null,l}function co(t,s){return s=ul({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Xa(t,s,n,l){return l!==null&&Mi(l),Ur(s,t.child,null,n),t=co(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Ah(t,s,n,l,c,u,x){if(n)return s.flags&256?(s.flags&=-257,l=ro(Error(i(422))),Xa(t,s,x,l)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(u=l.fallback,c=s.mode,l=ul({mode:"visible",children:l.children},c,0,null),u=pr(u,c,x,null),u.flags|=2,l.return=s,u.return=s,l.sibling=u,s.child=l,(s.mode&1)!==0&&Ur(s,t.child,null,x),s.child.memoizedState=oo(x),s.memoizedState=io,u);if((s.mode&1)===0)return Xa(t,s,x,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var S=l.dgst;return l=S,u=Error(i(419)),l=ro(u,l,void 0),Xa(t,s,x,l)}if(S=(x&t.childLanes)!==0,bt||S){if(l=Ze,l!==null){switch(x&-x){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(l.suspendedLanes|x))!==0?0:c,c!==0&&c!==u.retryLane&&(u.retryLane=c,vs(t,c),Gt(l,t,c,-1))}return So(),l=ro(Error(i(421))),Xa(t,s,x,l)}return c.data==="$?"?(s.flags|=128,s.child=t.child,s=Hh.bind(null,t),c._reactRetry=s,null):(t=u.treeContext,Pt=Fs(c.nextSibling),Et=s,De=!0,Wt=null,t!==null&&(Ft[Ot++]=gs,Ft[Ot++]=ys,Ft[Ot++]=ar,gs=t.id,ys=t.overflow,ar=s),s=co(s,l.children),s.flags|=4096,s)}function Au(t,s,n){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Ui(t.return,s,n)}function uo(t,s,n,l,c){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c}:(u.isBackwards=s,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=n,u.tailMode=c)}function Lu(t,s,n){var l=s.pendingProps,c=l.revealOrder,u=l.tail;if(xt(t,s,l.children,n),l=ze.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Au(t,n,s);else if(t.tag===19)Au(t,n,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(Le(ze,l),(s.mode&1)===0)s.memoizedState=null;else switch(c){case"forwards":for(n=s.child,c=null;n!==null;)t=n.alternate,t!==null&&Ha(t)===null&&(c=n),n=n.sibling;n=c,n===null?(c=s.child,s.child=null):(c=n.sibling,n.sibling=null),uo(s,!1,c,n,u);break;case"backwards":for(n=null,c=s.child,s.child=null;c!==null;){if(t=c.alternate,t!==null&&Ha(t)===null){s.child=c;break}t=c.sibling,c.sibling=n,n=c,c=t}uo(s,!0,n,null,u);break;case"together":uo(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Za(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function js(t,s,n){if(t!==null&&(s.dependencies=t.dependencies),dr|=s.lanes,(n&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,n=Hs(t,t.pendingProps),s.child=n,n.return=s;t.sibling!==null;)t=t.sibling,n=n.sibling=Hs(t,t.pendingProps),n.return=s;n.sibling=null}return s.child}function Lh(t,s,n){switch(s.tag){case 3:Pu(s),Ir();break;case 5:Gd(s);break;case 1:vt(s.type)&&Oa(s);break;case 4:Wi(s,s.stateNode.containerInfo);break;case 10:var l=s.type._context,c=s.memoizedProps.value;Le(Ba,l._currentValue),l._currentValue=c;break;case 13:if(l=s.memoizedState,l!==null)return l.dehydrated!==null?(Le(ze,ze.current&1),s.flags|=128,null):(n&s.child.childLanes)!==0?Ru(t,s,n):(Le(ze,ze.current&1),t=js(t,s,n),t!==null?t.sibling:null);Le(ze,ze.current&1);break;case 19:if(l=(n&s.childLanes)!==0,(t.flags&128)!==0){if(l)return Lu(t,s,n);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Le(ze,ze.current),l)break;return null;case 22:case 23:return s.lanes=0,Su(t,s,n)}return js(t,s,n)}var Fu,mo,Ou,Mu;Fu=function(t,s){for(var n=s.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},mo=function(){},Ou=function(t,s,n,l){var c=t.memoizedProps;if(c!==l){t=s.stateNode,or(ts.current);var u=null;switch(n){case"input":c=ms(t,c),l=ms(t,l),u=[];break;case"select":c=Y({},c,{value:void 0}),l=Y({},l,{value:void 0}),u=[];break;case"textarea":c=tr(t,c),l=tr(t,l),u=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=Aa)}Hl(n,l);var x;n=null;for(B in c)if(!l.hasOwnProperty(B)&&c.hasOwnProperty(B)&&c[B]!=null)if(B==="style"){var S=c[B];for(x in S)S.hasOwnProperty(x)&&(n||(n={}),n[x]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(d.hasOwnProperty(B)?u||(u=[]):(u=u||[]).push(B,null));for(B in l){var T=l[B];if(S=c?.[B],l.hasOwnProperty(B)&&T!==S&&(T!=null||S!=null))if(B==="style")if(S){for(x in S)!S.hasOwnProperty(x)||T&&T.hasOwnProperty(x)||(n||(n={}),n[x]="");for(x in T)T.hasOwnProperty(x)&&S[x]!==T[x]&&(n||(n={}),n[x]=T[x])}else n||(u||(u=[]),u.push(B,n)),n=T;else B==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,S=S?S.__html:void 0,T!=null&&S!==T&&(u=u||[]).push(B,T)):B==="children"?typeof T!="string"&&typeof T!="number"||(u=u||[]).push(B,""+T):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(d.hasOwnProperty(B)?(T!=null&&B==="onScroll"&&Oe("scroll",t),u||S===T||(u=[])):(u=u||[]).push(B,T))}n&&(u=u||[]).push("style",n);var B=u;(s.updateQueue=B)&&(s.flags|=4)}},Mu=function(t,s,n,l){n!==l&&(s.flags|=4)};function Un(t,s){if(!De)switch(t.tailMode){case"hidden":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var s=t.alternate!==null&&t.alternate.child===t.child,n=0,l=0;if(s)for(var c=t.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=n,s}function Fh(t,s,n){var l=s.pendingProps;switch(Li(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(s),null;case 1:return vt(s.type)&&Fa(),dt(s),null;case 3:return l=s.stateNode,Wr(),Me(yt),Me(ot),Vi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Ia(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wt!==null&&(No(Wt),Wt=null))),mo(t,s),dt(s),null;case 5:qi(s);var c=or(On.current);if(n=s.type,t!==null&&s.stateNode!=null)Ou(t,s,n,l,c),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!l){if(s.stateNode===null)throw Error(i(166));return dt(s),null}if(t=or(ts.current),Ia(s)){l=s.stateNode,n=s.type;var u=s.memoizedProps;switch(l[es]=s,l[Tn]=u,t=(s.mode&1)!==0,n){case"dialog":Oe("cancel",l),Oe("close",l);break;case"iframe":case"object":case"embed":Oe("load",l);break;case"video":case"audio":for(c=0;c<Cn.length;c++)Oe(Cn[c],l);break;case"source":Oe("error",l);break;case"img":case"image":case"link":Oe("error",l),Oe("load",l);break;case"details":Oe("toggle",l);break;case"input":Ss(l,u),Oe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!u.multiple},Oe("invalid",l);break;case"textarea":ps(l,u),Oe("invalid",l)}Hl(n,u),c=null;for(var x in u)if(u.hasOwnProperty(x)){var S=u[x];x==="children"?typeof S=="string"?l.textContent!==S&&(u.suppressHydrationWarning!==!0&&Ra(l.textContent,S,t),c=["children",S]):typeof S=="number"&&l.textContent!==""+S&&(u.suppressHydrationWarning!==!0&&Ra(l.textContent,S,t),c=["children",""+S]):d.hasOwnProperty(x)&&S!=null&&x==="onScroll"&&Oe("scroll",l)}switch(n){case"input":Qe(l),ee(l,u,!0);break;case"textarea":Qe(l),ca(l);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(l.onclick=Aa)}l=c,s.updateQueue=l,l!==null&&(s.flags|=4)}else{x=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ut(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=x.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=x.createElement(n,{is:l.is}):(t=x.createElement(n),n==="select"&&(x=t,l.multiple?x.multiple=!0:l.size&&(x.size=l.size))):t=x.createElementNS(t,n),t[es]=s,t[Tn]=l,Fu(t,s,!1,!1),s.stateNode=t;e:{switch(x=Vl(n,l),n){case"dialog":Oe("cancel",t),Oe("close",t),c=l;break;case"iframe":case"object":case"embed":Oe("load",t),c=l;break;case"video":case"audio":for(c=0;c<Cn.length;c++)Oe(Cn[c],t);c=l;break;case"source":Oe("error",t),c=l;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),c=l;break;case"details":Oe("toggle",t),c=l;break;case"input":Ss(t,l),c=ms(t,l),Oe("invalid",t);break;case"option":c=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},c=Y({},l,{value:void 0}),Oe("invalid",t);break;case"textarea":ps(t,l),c=tr(t,l),Oe("invalid",t);break;default:c=l}Hl(n,c),S=c;for(u in S)if(S.hasOwnProperty(u)){var T=S[u];u==="style"?kc(t,T):u==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&Nc(t,T)):u==="children"?typeof T=="string"?(n!=="textarea"||T!=="")&&on(t,T):typeof T=="number"&&on(t,""+T):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(d.hasOwnProperty(u)?T!=null&&u==="onScroll"&&Oe("scroll",t):T!=null&&E(t,u,T,x))}switch(n){case"input":Qe(t),ee(t,l,!1);break;case"textarea":Qe(t),ca(t);break;case"option":l.value!=null&&t.setAttribute("value",""+he(l.value));break;case"select":t.multiple=!!l.multiple,u=l.value,u!=null?Cs(t,!!l.multiple,u,!1):l.defaultValue!=null&&Cs(t,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=Aa)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return dt(s),null;case 6:if(t&&s.stateNode!=null)Mu(t,s,t.memoizedProps,l);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(n=or(On.current),or(ts.current),Ia(s)){if(l=s.stateNode,n=s.memoizedProps,l[es]=s,(u=l.nodeValue!==n)&&(t=Et,t!==null))switch(t.tag){case 3:Ra(l.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ra(l.nodeValue,n,(t.mode&1)!==0)}u&&(s.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[es]=s,s.stateNode=l}return dt(s),null;case 13:if(Me(ze),l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Pt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Id(),Ir(),s.flags|=98560,u=!1;else if(u=Ia(s),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(i(318));if(u=s.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[es]=s}else Ir(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),u=!1}else Wt!==null&&(No(Wt),Wt=null),u=!0;if(!u)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=n,s):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(ze.current&1)!==0?Je===0&&(Je=3):So())),s.updateQueue!==null&&(s.flags|=4),dt(s),null);case 4:return Wr(),mo(t,s),t===null&&En(s.stateNode.containerInfo),dt(s),null;case 10:return Ii(s.type._context),dt(s),null;case 17:return vt(s.type)&&Fa(),dt(s),null;case 19:if(Me(ze),u=s.memoizedState,u===null)return dt(s),null;if(l=(s.flags&128)!==0,x=u.rendering,x===null)if(l)Un(u,!1);else{if(Je!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(x=Ha(t),x!==null){for(s.flags|=128,Un(u,!1),l=x.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),s.subtreeFlags=0,l=n,n=s.child;n!==null;)u=n,t=l,u.flags&=14680066,x=u.alternate,x===null?(u.childLanes=0,u.lanes=t,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=x.childLanes,u.lanes=x.lanes,u.child=x.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=x.memoizedProps,u.memoizedState=x.memoizedState,u.updateQueue=x.updateQueue,u.type=x.type,t=x.dependencies,u.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(ze,ze.current&1|2),s.child}t=t.sibling}u.tail!==null&&qe()>Gr&&(s.flags|=128,l=!0,Un(u,!1),s.lanes=4194304)}else{if(!l)if(t=Ha(x),t!==null){if(s.flags|=128,l=!0,n=t.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),Un(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!De)return dt(s),null}else 2*qe()-u.renderingStartTime>Gr&&n!==1073741824&&(s.flags|=128,l=!0,Un(u,!1),s.lanes=4194304);u.isBackwards?(x.sibling=s.child,s.child=x):(n=u.last,n!==null?n.sibling=x:s.child=x,u.last=x)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=qe(),s.sibling=null,n=ze.current,Le(ze,l?n&1|2:n&1),s):(dt(s),null);case 22:case 23:return ko(),l=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(s.flags|=8192),l&&(s.mode&1)!==0?(Tt&1073741824)!==0&&(dt(s),s.subtreeFlags&6&&(s.flags|=8192)):dt(s),null;case 24:return null;case 25:return null}throw Error(i(156,s.tag))}function Oh(t,s){switch(Li(s),s.tag){case 1:return vt(s.type)&&Fa(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Wr(),Me(yt),Me(ot),Vi(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return qi(s),null;case 13:if(Me(ze),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ir()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Me(ze),null;case 4:return Wr(),null;case 10:return Ii(s.type._context),null;case 22:case 23:return ko(),null;case 24:return null;default:return null}}var el=!1,ut=!1,Mh=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Hr(t,s){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){$e(t,s,l)}else n.current=null}function fo(t,s,n){try{n()}catch(l){$e(t,s,l)}}var Du=!1;function Dh(t,s){if(_i=ba,t=hd(),xi(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var x=0,S=-1,T=-1,B=0,J=0,X=t,K=null;t:for(;;){for(var oe;X!==n||c!==0&&X.nodeType!==3||(S=x+c),X!==u||l!==0&&X.nodeType!==3||(T=x+l),X.nodeType===3&&(x+=X.nodeValue.length),(oe=X.firstChild)!==null;)K=X,X=oe;for(;;){if(X===t)break t;if(K===n&&++B===c&&(S=x),K===u&&++J===l&&(T=x),(oe=X.nextSibling)!==null)break;X=K,K=X.parentNode}X=oe}n=S===-1||T===-1?null:{start:S,end:T}}else n=null}n=n||{start:0,end:0}}else n=null;for(ki={focusedElem:t,selectionRange:n},ba=!1,ce=s;ce!==null;)if(s=ce,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ce=t;else for(;ce!==null;){s=ce;try{var de=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var me=de.memoizedProps,He=de.memoizedState,M=s.stateNode,A=M.getSnapshotBeforeUpdate(s.elementType===s.type?me:qt(s.type,me),He);M.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(se){$e(s,s.return,se)}if(t=s.sibling,t!==null){t.return=s.return,ce=t;break}ce=s.return}return de=Du,Du=!1,de}function Bn(t,s,n){var l=s.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&t)===t){var u=c.destroy;c.destroy=void 0,u!==void 0&&fo(s,n,u)}c=c.next}while(c!==l)}}function tl(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&t)===t){var l=n.create;n.destroy=l()}n=n.next}while(n!==s)}}function po(t){var s=t.ref;if(s!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof s=="function"?s(t):s.current=t}}function zu(t){var s=t.alternate;s!==null&&(t.alternate=null,zu(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[es],delete s[Tn],delete s[Pi],delete s[vh],delete s[bh])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Iu(t){return t.tag===5||t.tag===3||t.tag===4}function Uu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ho(t,s,n){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?n.nodeType===8?n.parentNode.insertBefore(t,s):n.insertBefore(t,s):(n.nodeType===8?(s=n.parentNode,s.insertBefore(t,n)):(s=n,s.appendChild(t)),n=n._reactRootContainer,n!=null||s.onclick!==null||(s.onclick=Aa));else if(l!==4&&(t=t.child,t!==null))for(ho(t,s,n),t=t.sibling;t!==null;)ho(t,s,n),t=t.sibling}function xo(t,s,n){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?n.insertBefore(t,s):n.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(xo(t,s,n),t=t.sibling;t!==null;)xo(t,s,n),t=t.sibling}var st=null,Ht=!1;function Us(t,s,n){for(n=n.child;n!==null;)Bu(t,s,n),n=n.sibling}function Bu(t,s,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(pa,n)}catch{}switch(n.tag){case 5:ut||Hr(n,s);case 6:var l=st,c=Ht;st=null,Us(t,s,n),st=l,Ht=c,st!==null&&(Ht?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(Ht?(t=st,n=n.stateNode,t.nodeType===8?Ei(t.parentNode,n):t.nodeType===1&&Ei(t,n),vn(t)):Ei(st,n.stateNode));break;case 4:l=st,c=Ht,st=n.stateNode.containerInfo,Ht=!0,Us(t,s,n),st=l,Ht=c;break;case 0:case 11:case 14:case 15:if(!ut&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var u=c,x=u.destroy;u=u.tag,x!==void 0&&((u&2)!==0||(u&4)!==0)&&fo(n,s,x),c=c.next}while(c!==l)}Us(t,s,n);break;case 1:if(!ut&&(Hr(n,s),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(S){$e(n,s,S)}Us(t,s,n);break;case 21:Us(t,s,n);break;case 22:n.mode&1?(ut=(l=ut)||n.memoizedState!==null,Us(t,s,n),ut=l):Us(t,s,n);break;default:Us(t,s,n)}}function $u(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Mh),s.forEach(function(l){var c=Vh.bind(null,t,l);n.has(l)||(n.add(l),l.then(c,c))})}}function Vt(t,s){var n=s.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l];try{var u=t,x=s,S=x;e:for(;S!==null;){switch(S.tag){case 5:st=S.stateNode,Ht=!1;break e;case 3:st=S.stateNode.containerInfo,Ht=!0;break e;case 4:st=S.stateNode.containerInfo,Ht=!0;break e}S=S.return}if(st===null)throw Error(i(160));Bu(u,x,c),st=null,Ht=!1;var T=c.alternate;T!==null&&(T.return=null),c.return=null}catch(B){$e(c,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Wu(s,t),s=s.sibling}function Wu(t,s){var n=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vt(s,t),rs(t),l&4){try{Bn(3,t,t.return),tl(3,t)}catch(me){$e(t,t.return,me)}try{Bn(5,t,t.return)}catch(me){$e(t,t.return,me)}}break;case 1:Vt(s,t),rs(t),l&512&&n!==null&&Hr(n,n.return);break;case 5:if(Vt(s,t),rs(t),l&512&&n!==null&&Hr(n,n.return),t.flags&32){var c=t.stateNode;try{on(c,"")}catch(me){$e(t,t.return,me)}}if(l&4&&(c=t.stateNode,c!=null)){var u=t.memoizedProps,x=n!==null?n.memoizedProps:u,S=t.type,T=t.updateQueue;if(t.updateQueue=null,T!==null)try{S==="input"&&u.type==="radio"&&u.name!=null&&er(c,u),Vl(S,x);var B=Vl(S,u);for(x=0;x<T.length;x+=2){var J=T[x],X=T[x+1];J==="style"?kc(c,X):J==="dangerouslySetInnerHTML"?Nc(c,X):J==="children"?on(c,X):E(c,J,X,B)}switch(S){case"input":fs(c,u);break;case"textarea":_r(c,u);break;case"select":var K=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!u.multiple;var oe=u.value;oe!=null?Cs(c,!!u.multiple,oe,!1):K!==!!u.multiple&&(u.defaultValue!=null?Cs(c,!!u.multiple,u.defaultValue,!0):Cs(c,!!u.multiple,u.multiple?[]:"",!1))}c[Tn]=u}catch(me){$e(t,t.return,me)}}break;case 6:if(Vt(s,t),rs(t),l&4){if(t.stateNode===null)throw Error(i(162));c=t.stateNode,u=t.memoizedProps;try{c.nodeValue=u}catch(me){$e(t,t.return,me)}}break;case 3:if(Vt(s,t),rs(t),l&4&&n!==null&&n.memoizedState.isDehydrated)try{vn(s.containerInfo)}catch(me){$e(t,t.return,me)}break;case 4:Vt(s,t),rs(t);break;case 13:Vt(s,t),rs(t),c=t.child,c.flags&8192&&(u=c.memoizedState!==null,c.stateNode.isHidden=u,!u||c.alternate!==null&&c.alternate.memoizedState!==null||(vo=qe())),l&4&&$u(t);break;case 22:if(J=n!==null&&n.memoizedState!==null,t.mode&1?(ut=(B=ut)||J,Vt(s,t),ut=B):Vt(s,t),rs(t),l&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!J&&(t.mode&1)!==0)for(ce=t,J=t.child;J!==null;){for(X=ce=J;ce!==null;){switch(K=ce,oe=K.child,K.tag){case 0:case 11:case 14:case 15:Bn(4,K,K.return);break;case 1:Hr(K,K.return);var de=K.stateNode;if(typeof de.componentWillUnmount=="function"){l=K,n=K.return;try{s=l,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(me){$e(l,n,me)}}break;case 5:Hr(K,K.return);break;case 22:if(K.memoizedState!==null){Vu(X);continue}}oe!==null?(oe.return=K,ce=oe):Vu(X)}J=J.sibling}e:for(J=null,X=t;;){if(X.tag===5){if(J===null){J=X;try{c=X.stateNode,B?(u=c.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(S=X.stateNode,T=X.memoizedProps.style,x=T!=null&&T.hasOwnProperty("display")?T.display:null,S.style.display=_c("display",x))}catch(me){$e(t,t.return,me)}}}else if(X.tag===6){if(J===null)try{X.stateNode.nodeValue=B?"":X.memoizedProps}catch(me){$e(t,t.return,me)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===t)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===t)break e;for(;X.sibling===null;){if(X.return===null||X.return===t)break e;J===X&&(J=null),X=X.return}J===X&&(J=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Vt(s,t),rs(t),l&4&&$u(t);break;case 21:break;default:Vt(s,t),rs(t)}}function rs(t){var s=t.flags;if(s&2){try{e:{for(var n=t.return;n!==null;){if(Iu(n)){var l=n;break e}n=n.return}throw Error(i(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(on(c,""),l.flags&=-33);var u=Uu(t);xo(t,u,c);break;case 3:case 4:var x=l.stateNode.containerInfo,S=Uu(t);ho(t,S,x);break;default:throw Error(i(161))}}catch(T){$e(t,t.return,T)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function zh(t,s,n){ce=t,qu(t)}function qu(t,s,n){for(var l=(t.mode&1)!==0;ce!==null;){var c=ce,u=c.child;if(c.tag===22&&l){var x=c.memoizedState!==null||el;if(!x){var S=c.alternate,T=S!==null&&S.memoizedState!==null||ut;S=el;var B=ut;if(el=x,(ut=T)&&!B)for(ce=c;ce!==null;)x=ce,T=x.child,x.tag===22&&x.memoizedState!==null?Gu(c):T!==null?(T.return=x,ce=T):Gu(c);for(;u!==null;)ce=u,qu(u),u=u.sibling;ce=c,el=S,ut=B}Hu(t)}else(c.subtreeFlags&8772)!==0&&u!==null?(u.return=c,ce=u):Hu(t)}}function Hu(t){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var n=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ut||tl(5,s);break;case 1:var l=s.stateNode;if(s.flags&4&&!ut)if(n===null)l.componentDidMount();else{var c=s.elementType===s.type?n.memoizedProps:qt(s.type,n.memoizedProps);l.componentDidUpdate(c,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var u=s.updateQueue;u!==null&&Vd(s,u,l);break;case 3:var x=s.updateQueue;if(x!==null){if(n=null,s.child!==null)switch(s.child.tag){case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}Vd(s,x,n)}break;case 5:var S=s.stateNode;if(n===null&&s.flags&4){n=S;var T=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&n.focus();break;case"img":T.src&&(n.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var J=B.memoizedState;if(J!==null){var X=J.dehydrated;X!==null&&vn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}ut||s.flags&512&&po(s)}catch(K){$e(s,s.return,K)}}if(s===t){ce=null;break}if(n=s.sibling,n!==null){n.return=s.return,ce=n;break}ce=s.return}}function Vu(t){for(;ce!==null;){var s=ce;if(s===t){ce=null;break}var n=s.sibling;if(n!==null){n.return=s.return,ce=n;break}ce=s.return}}function Gu(t){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var n=s.return;try{tl(4,s)}catch(T){$e(s,n,T)}break;case 1:var l=s.stateNode;if(typeof l.componentDidMount=="function"){var c=s.return;try{l.componentDidMount()}catch(T){$e(s,c,T)}}var u=s.return;try{po(s)}catch(T){$e(s,u,T)}break;case 5:var x=s.return;try{po(s)}catch(T){$e(s,x,T)}}}catch(T){$e(s,s.return,T)}if(s===t){ce=null;break}var S=s.sibling;if(S!==null){S.return=s.return,ce=S;break}ce=s.return}}var Ih=Math.ceil,sl=k.ReactCurrentDispatcher,go=k.ReactCurrentOwner,zt=k.ReactCurrentBatchConfig,Ee=0,Ze=null,Ve=null,rt=0,Tt=0,Vr=Os(0),Je=0,$n=null,dr=0,rl=0,yo=0,Wn=null,jt=null,vo=0,Gr=1/0,ws=null,nl=!1,bo=null,Bs=null,al=!1,$s=null,ll=0,qn=0,jo=null,il=-1,ol=0;function gt(){return(Ee&6)!==0?qe():il!==-1?il:il=qe()}function Ws(t){return(t.mode&1)===0?1:(Ee&2)!==0&&rt!==0?rt&-rt:wh.transition!==null?(ol===0&&(ol=Uc()),ol):(t=Te,t!==0||(t=window.event,t=t===void 0?16:Qc(t.type)),t)}function Gt(t,s,n,l){if(50<qn)throw qn=0,jo=null,Error(i(185));pn(t,n,l),((Ee&2)===0||t!==Ze)&&(t===Ze&&((Ee&2)===0&&(rl|=n),Je===4&&qs(t,rt)),wt(t,l),n===1&&Ee===0&&(s.mode&1)===0&&(Gr=qe()+500,Ma&&Ds()))}function wt(t,s){var n=t.callbackNode;wp(t,s);var l=ga(t,t===Ze?rt:0);if(l===0)n!==null&&Dc(n),t.callbackNode=null,t.callbackPriority=0;else if(s=l&-l,t.callbackPriority!==s){if(n!=null&&Dc(n),s===1)t.tag===0?jh(Qu.bind(null,t)):Fd(Qu.bind(null,t)),gh(function(){(Ee&6)===0&&Ds()}),n=null;else{switch(Bc(l)){case 1:n=Zl;break;case 4:n=zc;break;case 16:n=fa;break;case 536870912:n=Ic;break;default:n=fa}n=rm(n,Yu.bind(null,t))}t.callbackPriority=s,t.callbackNode=n}}function Yu(t,s){if(il=-1,ol=0,(Ee&6)!==0)throw Error(i(327));var n=t.callbackNode;if(Yr()&&t.callbackNode!==n)return null;var l=ga(t,t===Ze?rt:0);if(l===0)return null;if((l&30)!==0||(l&t.expiredLanes)!==0||s)s=cl(t,l);else{s=l;var c=Ee;Ee|=2;var u=Ju();(Ze!==t||rt!==s)&&(ws=null,Gr=qe()+500,mr(t,s));do try{$h();break}catch(S){Ku(t,S)}while(!0);zi(),sl.current=u,Ee=c,Ve!==null?s=0:(Ze=null,rt=0,s=Je)}if(s!==0){if(s===2&&(c=ei(t),c!==0&&(l=c,s=wo(t,c))),s===1)throw n=$n,mr(t,0),qs(t,l),wt(t,qe()),n;if(s===6)qs(t,l);else{if(c=t.current.alternate,(l&30)===0&&!Uh(c)&&(s=cl(t,l),s===2&&(u=ei(t),u!==0&&(l=u,s=wo(t,u))),s===1))throw n=$n,mr(t,0),qs(t,l),wt(t,qe()),n;switch(t.finishedWork=c,t.finishedLanes=l,s){case 0:case 1:throw Error(i(345));case 2:fr(t,jt,ws);break;case 3:if(qs(t,l),(l&130023424)===l&&(s=vo+500-qe(),10<s)){if(ga(t,0)!==0)break;if(c=t.suspendedLanes,(c&l)!==l){gt(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=Ci(fr.bind(null,t,jt,ws),s);break}fr(t,jt,ws);break;case 4:if(qs(t,l),(l&4194240)===l)break;for(s=t.eventTimes,c=-1;0<l;){var x=31-Bt(l);u=1<<x,x=s[x],x>c&&(c=x),l&=~u}if(l=c,l=qe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Ih(l/1960))-l,10<l){t.timeoutHandle=Ci(fr.bind(null,t,jt,ws),l);break}fr(t,jt,ws);break;case 5:fr(t,jt,ws);break;default:throw Error(i(329))}}}return wt(t,qe()),t.callbackNode===n?Yu.bind(null,t):null}function wo(t,s){var n=Wn;return t.current.memoizedState.isDehydrated&&(mr(t,s).flags|=256),t=cl(t,s),t!==2&&(s=jt,jt=n,s!==null&&No(s)),t}function No(t){jt===null?jt=t:jt.push.apply(jt,t)}function Uh(t){for(var s=t;;){if(s.flags&16384){var n=s.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var c=n[l],u=c.getSnapshot;c=c.value;try{if(!$t(u(),c))return!1}catch{return!1}}}if(n=s.child,s.subtreeFlags&16384&&n!==null)n.return=s,s=n;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qs(t,s){for(s&=~yo,s&=~rl,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var n=31-Bt(s),l=1<<n;t[n]=-1,s&=~l}}function Qu(t){if((Ee&6)!==0)throw Error(i(327));Yr();var s=ga(t,0);if((s&1)===0)return wt(t,qe()),null;var n=cl(t,s);if(t.tag!==0&&n===2){var l=ei(t);l!==0&&(s=l,n=wo(t,l))}if(n===1)throw n=$n,mr(t,0),qs(t,s),wt(t,qe()),n;if(n===6)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,fr(t,jt,ws),wt(t,qe()),null}function _o(t,s){var n=Ee;Ee|=1;try{return t(s)}finally{Ee=n,Ee===0&&(Gr=qe()+500,Ma&&Ds())}}function ur(t){$s!==null&&$s.tag===0&&(Ee&6)===0&&Yr();var s=Ee;Ee|=1;var n=zt.transition,l=Te;try{if(zt.transition=null,Te=1,t)return t()}finally{Te=l,zt.transition=n,Ee=s,(Ee&6)===0&&Ds()}}function ko(){Tt=Vr.current,Me(Vr)}function mr(t,s){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xh(n)),Ve!==null)for(n=Ve.return;n!==null;){var l=n;switch(Li(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Fa();break;case 3:Wr(),Me(yt),Me(ot),Vi();break;case 5:qi(l);break;case 4:Wr();break;case 13:Me(ze);break;case 19:Me(ze);break;case 10:Ii(l.type._context);break;case 22:case 23:ko()}n=n.return}if(Ze=t,Ve=t=Hs(t.current,null),rt=Tt=s,Je=0,$n=null,yo=rl=dr=0,jt=Wn=null,ir!==null){for(s=0;s<ir.length;s++)if(n=ir[s],l=n.interleaved,l!==null){n.interleaved=null;var c=l.next,u=n.pending;if(u!==null){var x=u.next;u.next=c,l.next=x}n.pending=l}ir=null}return t}function Ku(t,s){do{var n=Ve;try{if(zi(),Va.current=Ka,Ga){for(var l=Ie.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Ga=!1}if(cr=0,Xe=Ke=Ie=null,Mn=!1,Dn=0,go.current=null,n===null||n.return===null){Je=1,$n=s,Ve=null;break}e:{var u=t,x=n.return,S=n,T=s;if(s=rt,S.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var B=T,J=S,X=J.tag;if((J.mode&1)===0&&(X===0||X===11||X===15)){var K=J.alternate;K?(J.updateQueue=K.updateQueue,J.memoizedState=K.memoizedState,J.lanes=K.lanes):(J.updateQueue=null,J.memoizedState=null)}var oe=ju(x);if(oe!==null){oe.flags&=-257,wu(oe,x,S,u,s),oe.mode&1&&bu(u,B,s),s=oe,T=B;var de=s.updateQueue;if(de===null){var me=new Set;me.add(T),s.updateQueue=me}else de.add(T);break e}else{if((s&1)===0){bu(u,B,s),So();break e}T=Error(i(426))}}else if(De&&S.mode&1){var He=ju(x);if(He!==null){(He.flags&65536)===0&&(He.flags|=256),wu(He,x,S,u,s),Mi(qr(T,S));break e}}u=T=qr(T,S),Je!==4&&(Je=2),Wn===null?Wn=[u]:Wn.push(u),u=x;do{switch(u.tag){case 3:u.flags|=65536,s&=-s,u.lanes|=s;var M=yu(u,T,s);Hd(u,M);break e;case 1:S=T;var A=u.type,z=u.stateNode;if((u.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Bs===null||!Bs.has(z)))){u.flags|=65536,s&=-s,u.lanes|=s;var se=vu(u,S,s);Hd(u,se);break e}}u=u.return}while(u!==null)}Zu(n)}catch(pe){s=pe,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function Ju(){var t=sl.current;return sl.current=Ka,t===null?Ka:t}function So(){(Je===0||Je===3||Je===2)&&(Je=4),Ze===null||(dr&268435455)===0&&(rl&268435455)===0||qs(Ze,rt)}function cl(t,s){var n=Ee;Ee|=2;var l=Ju();(Ze!==t||rt!==s)&&(ws=null,mr(t,s));do try{Bh();break}catch(c){Ku(t,c)}while(!0);if(zi(),Ee=n,sl.current=l,Ve!==null)throw Error(i(261));return Ze=null,rt=0,Je}function Bh(){for(;Ve!==null;)Xu(Ve)}function $h(){for(;Ve!==null&&!fp();)Xu(Ve)}function Xu(t){var s=sm(t.alternate,t,Tt);t.memoizedProps=t.pendingProps,s===null?Zu(t):Ve=s,go.current=null}function Zu(t){var s=t;do{var n=s.alternate;if(t=s.return,(s.flags&32768)===0){if(n=Fh(n,s,Tt),n!==null){Ve=n;return}}else{if(n=Oh(n,s),n!==null){n.flags&=32767,Ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Je=6,Ve=null;return}}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=t}while(s!==null);Je===0&&(Je=5)}function fr(t,s,n){var l=Te,c=zt.transition;try{zt.transition=null,Te=1,Wh(t,s,n,l)}finally{zt.transition=c,Te=l}return null}function Wh(t,s,n,l){do Yr();while($s!==null);if((Ee&6)!==0)throw Error(i(327));n=t.finishedWork;var c=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var u=n.lanes|n.childLanes;if(Np(t,u),t===Ze&&(Ve=Ze=null,rt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||al||(al=!0,rm(fa,function(){return Yr(),null})),u=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||u){u=zt.transition,zt.transition=null;var x=Te;Te=1;var S=Ee;Ee|=4,go.current=null,Dh(t,n),Wu(n,t),ch(ki),ba=!!_i,ki=_i=null,t.current=n,zh(n),pp(),Ee=S,Te=x,zt.transition=u}else t.current=n;if(al&&(al=!1,$s=t,ll=c),u=t.pendingLanes,u===0&&(Bs=null),gp(n.stateNode),wt(t,qe()),s!==null)for(l=t.onRecoverableError,n=0;n<s.length;n++)c=s[n],l(c.value,{componentStack:c.stack,digest:c.digest});if(nl)throw nl=!1,t=bo,bo=null,t;return(ll&1)!==0&&t.tag!==0&&Yr(),u=t.pendingLanes,(u&1)!==0?t===jo?qn++:(qn=0,jo=t):qn=0,Ds(),null}function Yr(){if($s!==null){var t=Bc(ll),s=zt.transition,n=Te;try{if(zt.transition=null,Te=16>t?16:t,$s===null)var l=!1;else{if(t=$s,$s=null,ll=0,(Ee&6)!==0)throw Error(i(331));var c=Ee;for(Ee|=4,ce=t.current;ce!==null;){var u=ce,x=u.child;if((ce.flags&16)!==0){var S=u.deletions;if(S!==null){for(var T=0;T<S.length;T++){var B=S[T];for(ce=B;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:Bn(8,J,u)}var X=J.child;if(X!==null)X.return=J,ce=X;else for(;ce!==null;){J=ce;var K=J.sibling,oe=J.return;if(zu(J),J===B){ce=null;break}if(K!==null){K.return=oe,ce=K;break}ce=oe}}}var de=u.alternate;if(de!==null){var me=de.child;if(me!==null){de.child=null;do{var He=me.sibling;me.sibling=null,me=He}while(me!==null)}}ce=u}}if((u.subtreeFlags&2064)!==0&&x!==null)x.return=u,ce=x;else e:for(;ce!==null;){if(u=ce,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:Bn(9,u,u.return)}var M=u.sibling;if(M!==null){M.return=u.return,ce=M;break e}ce=u.return}}var A=t.current;for(ce=A;ce!==null;){x=ce;var z=x.child;if((x.subtreeFlags&2064)!==0&&z!==null)z.return=x,ce=z;else e:for(x=A;ce!==null;){if(S=ce,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:tl(9,S)}}catch(pe){$e(S,S.return,pe)}if(S===x){ce=null;break e}var se=S.sibling;if(se!==null){se.return=S.return,ce=se;break e}ce=S.return}}if(Ee=c,Ds(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(pa,t)}catch{}l=!0}return l}finally{Te=n,zt.transition=s}}return!1}function em(t,s,n){s=qr(n,s),s=yu(t,s,1),t=Is(t,s,1),s=gt(),t!==null&&(pn(t,1,s),wt(t,s))}function $e(t,s,n){if(t.tag===3)em(t,t,n);else for(;s!==null;){if(s.tag===3){em(s,t,n);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bs===null||!Bs.has(l))){t=qr(n,t),t=vu(s,t,1),s=Is(s,t,1),t=gt(),s!==null&&(pn(s,1,t),wt(s,t));break}}s=s.return}}function qh(t,s,n){var l=t.pingCache;l!==null&&l.delete(s),s=gt(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(rt&n)===n&&(Je===4||Je===3&&(rt&130023424)===rt&&500>qe()-vo?mr(t,0):yo|=n),wt(t,s)}function tm(t,s){s===0&&((t.mode&1)===0?s=1:(s=xa,xa<<=1,(xa&130023424)===0&&(xa=4194304)));var n=gt();t=vs(t,s),t!==null&&(pn(t,s,n),wt(t,n))}function Hh(t){var s=t.memoizedState,n=0;s!==null&&(n=s.retryLane),tm(t,n)}function Vh(t,s){var n=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(i(314))}l!==null&&l.delete(s),tm(t,n)}var sm;sm=function(t,s,n){if(t!==null)if(t.memoizedProps!==s.pendingProps||yt.current)bt=!0;else{if((t.lanes&n)===0&&(s.flags&128)===0)return bt=!1,Lh(t,s,n);bt=(t.flags&131072)!==0}else bt=!1,De&&(s.flags&1048576)!==0&&Od(s,za,s.index);switch(s.lanes=0,s.tag){case 2:var l=s.type;Za(t,s),t=s.pendingProps;var c=Mr(s,ot.current);$r(s,n),c=Qi(null,s,l,t,c,n);var u=Ki();return s.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,vt(l)?(u=!0,Oa(s)):u=!1,s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,$i(s),c.updater=Ja,s.stateNode=c,c._reactInternals=s,so(s,l,t,n),s=lo(null,s,l,!0,u,n)):(s.tag=0,De&&u&&Ai(s),xt(null,s,c,n),s=s.child),s;case 16:l=s.elementType;e:{switch(Za(t,s),t=s.pendingProps,c=l._init,l=c(l._payload),s.type=l,c=s.tag=Yh(l),t=qt(l,t),c){case 0:s=ao(null,s,l,t,n);break e;case 1:s=Eu(null,s,l,t,n);break e;case 11:s=Nu(null,s,l,t,n);break e;case 14:s=_u(null,s,l,qt(l.type,t),n);break e}throw Error(i(306,l,""))}return s;case 0:return l=s.type,c=s.pendingProps,c=s.elementType===l?c:qt(l,c),ao(t,s,l,c,n);case 1:return l=s.type,c=s.pendingProps,c=s.elementType===l?c:qt(l,c),Eu(t,s,l,c,n);case 3:e:{if(Pu(s),t===null)throw Error(i(387));l=s.pendingProps,u=s.memoizedState,c=u.element,qd(t,s),qa(s,l,null,n);var x=s.memoizedState;if(l=x.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},s.updateQueue.baseState=u,s.memoizedState=u,s.flags&256){c=qr(Error(i(423)),s),s=Tu(t,s,l,n,c);break e}else if(l!==c){c=qr(Error(i(424)),s),s=Tu(t,s,l,n,c);break e}else for(Pt=Fs(s.stateNode.containerInfo.firstChild),Et=s,De=!0,Wt=null,n=$d(s,null,l,n),s.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ir(),l===c){s=js(t,s,n);break e}xt(t,s,l,n)}s=s.child}return s;case 5:return Gd(s),t===null&&Oi(s),l=s.type,c=s.pendingProps,u=t!==null?t.memoizedProps:null,x=c.children,Si(l,c)?x=null:u!==null&&Si(l,u)&&(s.flags|=32),Cu(t,s),xt(t,s,x,n),s.child;case 6:return t===null&&Oi(s),null;case 13:return Ru(t,s,n);case 4:return Wi(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Ur(s,null,l,n):xt(t,s,l,n),s.child;case 11:return l=s.type,c=s.pendingProps,c=s.elementType===l?c:qt(l,c),Nu(t,s,l,c,n);case 7:return xt(t,s,s.pendingProps,n),s.child;case 8:return xt(t,s,s.pendingProps.children,n),s.child;case 12:return xt(t,s,s.pendingProps.children,n),s.child;case 10:e:{if(l=s.type._context,c=s.pendingProps,u=s.memoizedProps,x=c.value,Le(Ba,l._currentValue),l._currentValue=x,u!==null)if($t(u.value,x)){if(u.children===c.children&&!yt.current){s=js(t,s,n);break e}}else for(u=s.child,u!==null&&(u.return=s);u!==null;){var S=u.dependencies;if(S!==null){x=u.child;for(var T=S.firstContext;T!==null;){if(T.context===l){if(u.tag===1){T=bs(-1,n&-n),T.tag=2;var B=u.updateQueue;if(B!==null){B=B.shared;var J=B.pending;J===null?T.next=T:(T.next=J.next,J.next=T),B.pending=T}}u.lanes|=n,T=u.alternate,T!==null&&(T.lanes|=n),Ui(u.return,n,s),S.lanes|=n;break}T=T.next}}else if(u.tag===10)x=u.type===s.type?null:u.child;else if(u.tag===18){if(x=u.return,x===null)throw Error(i(341));x.lanes|=n,S=x.alternate,S!==null&&(S.lanes|=n),Ui(x,n,s),x=u.sibling}else x=u.child;if(x!==null)x.return=u;else for(x=u;x!==null;){if(x===s){x=null;break}if(u=x.sibling,u!==null){u.return=x.return,x=u;break}x=x.return}u=x}xt(t,s,c.children,n),s=s.child}return s;case 9:return c=s.type,l=s.pendingProps.children,$r(s,n),c=Mt(c),l=l(c),s.flags|=1,xt(t,s,l,n),s.child;case 14:return l=s.type,c=qt(l,s.pendingProps),c=qt(l.type,c),_u(t,s,l,c,n);case 15:return ku(t,s,s.type,s.pendingProps,n);case 17:return l=s.type,c=s.pendingProps,c=s.elementType===l?c:qt(l,c),Za(t,s),s.tag=1,vt(l)?(t=!0,Oa(s)):t=!1,$r(s,n),xu(s,l,c),so(s,l,c,n),lo(null,s,l,!0,t,n);case 19:return Lu(t,s,n);case 22:return Su(t,s,n)}throw Error(i(156,s.tag))};function rm(t,s){return Mc(t,s)}function Gh(t,s,n,l){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,s,n,l){return new Gh(t,s,n,l)}function Co(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yh(t){if(typeof t=="function")return Co(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q)return 11;if(t===Z)return 14}return 2}function Hs(t,s){var n=t.alternate;return n===null?(n=It(t.tag,s,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=s,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,s=t.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dl(t,s,n,l,c,u){var x=2;if(l=t,typeof t=="function")Co(t)&&(x=1);else if(typeof t=="string")x=5;else e:switch(t){case D:return pr(n.children,c,u,s);case H:x=8,c|=8;break;case ae:return t=It(12,n,s,c|2),t.elementType=ae,t.lanes=u,t;case O:return t=It(13,n,s,c),t.elementType=O,t.lanes=u,t;case re:return t=It(19,n,s,c),t.elementType=re,t.lanes=u,t;case V:return ul(n,c,u,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xe:x=10;break e;case ne:x=9;break e;case q:x=11;break e;case Z:x=14;break e;case le:x=16,l=null;break e}throw Error(i(130,t==null?t:typeof t,""))}return s=It(x,n,s,c),s.elementType=t,s.type=l,s.lanes=u,s}function pr(t,s,n,l){return t=It(7,t,l,s),t.lanes=n,t}function ul(t,s,n,l){return t=It(22,t,l,s),t.elementType=V,t.lanes=n,t.stateNode={isHidden:!1},t}function Eo(t,s,n){return t=It(6,t,null,s),t.lanes=n,t}function Po(t,s,n){return s=It(4,t.children!==null?t.children:[],t.key,s),s.lanes=n,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Qh(t,s,n,l,c){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ti(0),this.expirationTimes=ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function To(t,s,n,l,c,u,x,S,T){return t=new Qh(t,s,n,S,T),s===1?(s=1,u===!0&&(s|=8)):s=0,u=It(3,null,null,s),t.current=u,u.stateNode=t,u.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$i(u),t}function Kh(t,s,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:l==null?null:""+l,children:t,containerInfo:s,implementation:n}}function nm(t){if(!t)return Ms;t=t._reactInternals;e:{if(sr(t)!==t||t.tag!==1)throw Error(i(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(vt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(i(171))}if(t.tag===1){var n=t.type;if(vt(n))return Ad(t,n,s)}return s}function am(t,s,n,l,c,u,x,S,T){return t=To(n,l,!0,t,c,u,x,S,T),t.context=nm(null),n=t.current,l=gt(),c=Ws(n),u=bs(l,c),u.callback=s??null,Is(n,u,c),t.current.lanes=c,pn(t,c,l),wt(t,l),t}function ml(t,s,n,l){var c=s.current,u=gt(),x=Ws(c);return n=nm(n),s.context===null?s.context=n:s.pendingContext=n,s=bs(u,x),s.payload={element:t},l=l===void 0?null:l,l!==null&&(s.callback=l),t=Is(c,s,x),t!==null&&(Gt(t,c,x,u),Wa(t,c,x)),x}function fl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<s?n:s}}function Ro(t,s){lm(t,s),(t=t.alternate)&&lm(t,s)}function Jh(){return null}var im=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ao(t){this._internalRoot=t}pl.prototype.render=Ao.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));ml(t,s,null,null)},pl.prototype.unmount=Ao.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;ur(function(){ml(null,t,null,null)}),s[hs]=null}};function pl(t){this._internalRoot=t}pl.prototype.unstable_scheduleHydration=function(t){if(t){var s=qc();t={blockedOn:null,target:t,priority:s};for(var n=0;n<Rs.length&&s!==0&&s<Rs[n].priority;n++);Rs.splice(n,0,t),n===0&&Gc(t)}};function Lo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function om(){}function Xh(t,s,n,l,c){if(c){if(typeof l=="function"){var u=l;l=function(){var B=fl(x);u.call(B)}}var x=am(s,l,t,0,null,!1,!1,"",om);return t._reactRootContainer=x,t[hs]=x.current,En(t.nodeType===8?t.parentNode:t),ur(),x}for(;c=t.lastChild;)t.removeChild(c);if(typeof l=="function"){var S=l;l=function(){var B=fl(T);S.call(B)}}var T=To(t,0,!1,null,null,!1,!1,"",om);return t._reactRootContainer=T,t[hs]=T.current,En(t.nodeType===8?t.parentNode:t),ur(function(){ml(s,T,n,l)}),T}function xl(t,s,n,l,c){var u=n._reactRootContainer;if(u){var x=u;if(typeof c=="function"){var S=c;c=function(){var T=fl(x);S.call(T)}}ml(s,x,t,c)}else x=Xh(n,s,t,c,l);return fl(x)}$c=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var n=fn(s.pendingLanes);n!==0&&(si(s,n|1),wt(s,qe()),(Ee&6)===0&&(Gr=qe()+500,Ds()))}break;case 13:ur(function(){var l=vs(t,1);if(l!==null){var c=gt();Gt(l,t,1,c)}}),Ro(t,1)}},ri=function(t){if(t.tag===13){var s=vs(t,134217728);if(s!==null){var n=gt();Gt(s,t,134217728,n)}Ro(t,134217728)}},Wc=function(t){if(t.tag===13){var s=Ws(t),n=vs(t,s);if(n!==null){var l=gt();Gt(n,t,s,l)}Ro(t,s)}},qc=function(){return Te},Hc=function(t,s){var n=Te;try{return Te=t,s()}finally{Te=n}},Ql=function(t,s,n){switch(s){case"input":if(fs(t,n),s=n.name,n.type==="radio"&&s!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<n.length;s++){var l=n[s];if(l!==t&&l.form===t.form){var c=La(l);if(!c)throw Error(i(90));_s(l),fs(l,c)}}}break;case"textarea":_r(t,n);break;case"select":s=n.value,s!=null&&Cs(t,!!n.multiple,s,!1)}},Pc=_o,Tc=ur;var Zh={usingClientEntryPoint:!1,Events:[Rn,Fr,La,Cc,Ec,_o]},Hn={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ex={bundleType:Hn.bundleType,version:Hn.version,rendererPackageName:Hn.rendererPackageName,rendererConfig:Hn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fc(t),t===null?null:t.stateNode},findFiberByHostInstance:Hn.findFiberByHostInstance||Jh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{pa=gl.inject(ex),Zt=gl}catch{}}return Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zh,Nt.createPortal=function(t,s){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lo(s))throw Error(i(200));return Kh(t,s,null,n)},Nt.createRoot=function(t,s){if(!Lo(t))throw Error(i(299));var n=!1,l="",c=im;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(c=s.onRecoverableError)),s=To(t,1,!1,null,null,n,!1,l,c),t[hs]=s.current,En(t.nodeType===8?t.parentNode:t),new Ao(s)},Nt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=Fc(s),t=t===null?null:t.stateNode,t},Nt.flushSync=function(t){return ur(t)},Nt.hydrate=function(t,s,n){if(!hl(s))throw Error(i(200));return xl(null,t,s,!0,n)},Nt.hydrateRoot=function(t,s,n){if(!Lo(t))throw Error(i(405));var l=n!=null&&n.hydratedSources||null,c=!1,u="",x=im;if(n!=null&&(n.unstable_strictMode===!0&&(c=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(x=n.onRecoverableError)),s=am(s,null,t,1,n??null,c,!1,u,x),t[hs]=s.current,En(t),l)for(t=0;t<l.length;t++)n=l[t],c=n._getVersion,c=c(n._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[n,c]:s.mutableSourceEagerHydrationData.push(n,c);return new pl(s)},Nt.render=function(t,s,n){if(!hl(s))throw Error(i(200));return xl(null,t,s,!1,n)},Nt.unmountComponentAtNode=function(t){if(!hl(t))throw Error(i(40));return t._reactRootContainer?(ur(function(){xl(null,null,t,!1,function(){t._reactRootContainer=null,t[hs]=null})}),!0):!1},Nt.unstable_batchedUpdates=_o,Nt.unstable_renderSubtreeIntoContainer=function(t,s,n,l){if(!hl(n))throw Error(i(200));if(t==null||t._reactInternals===void 0)throw Error(i(38));return xl(t,s,n,!1,l)},Nt.version="18.3.1-next-f1338f8080-20240426",Nt}var xm;function af(){if(xm)return Mo.exports;xm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),Mo.exports=cx(),Mo.exports}var gm;function dx(){if(gm)return yl;gm=1;var r=af();return yl.createRoot=r.createRoot,yl.hydrateRoot=r.hydrateRoot,yl}var ux=dx();const mx=oc(ux);var fx=af();function Kn(){return Kn=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},Kn.apply(this,arguments)}var Ys;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Ys||(Ys={}));const ym="popstate";function px(r){r===void 0&&(r={});function a(o,d){let{pathname:m,search:f,hash:h}=o.location;return Yo("",{pathname:m,search:f,hash:h},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function i(o,d){return typeof d=="string"?d:El(d)}return xx(a,i,null,r)}function Ue(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function dc(r,a){if(!r){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function hx(){return Math.random().toString(36).substr(2,8)}function vm(r,a){return{usr:r.state,key:r.key,idx:a}}function Yo(r,a,i,o){return i===void 0&&(i=null),Kn({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof a=="string"?tn(a):a,{state:i,key:a&&a.key||o||hx()})}function El(r){let{pathname:a="/",search:i="",hash:o=""}=r;return i&&i!=="?"&&(a+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(a+=o.charAt(0)==="#"?o:"#"+o),a}function tn(r){let a={};if(r){let i=r.indexOf("#");i>=0&&(a.hash=r.substr(i),r=r.substr(0,i));let o=r.indexOf("?");o>=0&&(a.search=r.substr(o),r=r.substr(0,o)),r&&(a.pathname=r)}return a}function xx(r,a,i,o){o===void 0&&(o={});let{window:d=document.defaultView,v5Compat:m=!1}=o,f=d.history,h=Ys.Pop,b=null,p=g();p==null&&(p=0,f.replaceState(Kn({},f.state,{idx:p}),""));function g(){return(f.state||{idx:null}).idx}function y(){h=Ys.Pop;let N=g(),L=N==null?null:N-p;p=N,b&&b({action:h,location:w.location,delta:L})}function _(N,L){h=Ys.Push;let F=Yo(w.location,N,L);p=g()+1;let E=vm(F,p),k=w.createHref(F);try{f.pushState(E,"",k)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;d.location.assign(k)}m&&b&&b({action:h,location:w.location,delta:1})}function C(N,L){h=Ys.Replace;let F=Yo(w.location,N,L);p=g();let E=vm(F,p),k=w.createHref(F);f.replaceState(E,"",k),m&&b&&b({action:h,location:w.location,delta:0})}function j(N){let L=d.location.origin!=="null"?d.location.origin:d.location.href,F=typeof N=="string"?N:El(N);return F=F.replace(/ $/,"%20"),Ue(L,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,L)}let w={get action(){return h},get location(){return r(d,f)},listen(N){if(b)throw new Error("A history only accepts one active listener");return d.addEventListener(ym,y),b=N,()=>{d.removeEventListener(ym,y),b=null}},createHref(N){return a(d,N)},createURL:j,encodeLocation(N){let L=j(N);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:_,replace:C,go(N){return f.go(N)}};return w}var bm;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(bm||(bm={}));function gx(r,a,i){return i===void 0&&(i="/"),yx(r,a,i)}function yx(r,a,i,o){let d=typeof a=="string"?tn(a):a,m=Xr(d.pathname||"/",i);if(m==null)return null;let f=lf(r);vx(f);let h=null;for(let b=0;h==null&&b<f.length;++b){let p=Tx(m);h=Ex(f[b],p)}return h}function lf(r,a,i,o){a===void 0&&(a=[]),i===void 0&&(i=[]),o===void 0&&(o="");let d=(m,f,h)=>{let b={relativePath:h===void 0?m.path||"":h,caseSensitive:m.caseSensitive===!0,childrenIndex:f,route:m};b.relativePath.startsWith("/")&&(Ue(b.relativePath.startsWith(o),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(o.length));let p=Qs([o,b.relativePath]),g=i.concat(b);m.children&&m.children.length>0&&(Ue(m.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),lf(m.children,a,g,p)),!(m.path==null&&!m.index)&&a.push({path:p,score:Sx(p,m.index),routesMeta:g})};return r.forEach((m,f)=>{var h;if(m.path===""||!((h=m.path)!=null&&h.includes("?")))d(m,f);else for(let b of of(m.path))d(m,f,b)}),a}function of(r){let a=r.split("/");if(a.length===0)return[];let[i,...o]=a,d=i.endsWith("?"),m=i.replace(/\?$/,"");if(o.length===0)return d?[m,""]:[m];let f=of(o.join("/")),h=[];return h.push(...f.map(b=>b===""?m:[m,b].join("/"))),d&&h.push(...f),h.map(b=>r.startsWith("/")&&b===""?"/":b)}function vx(r){r.sort((a,i)=>a.score!==i.score?i.score-a.score:Cx(a.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}const bx=/^:[\w-]+$/,jx=3,wx=2,Nx=1,_x=10,kx=-2,jm=r=>r==="*";function Sx(r,a){let i=r.split("/"),o=i.length;return i.some(jm)&&(o+=kx),a&&(o+=wx),i.filter(d=>!jm(d)).reduce((d,m)=>d+(bx.test(m)?jx:m===""?Nx:_x),o)}function Cx(r,a){return r.length===a.length&&r.slice(0,-1).every((o,d)=>o===a[d])?r[r.length-1]-a[a.length-1]:0}function Ex(r,a,i){let{routesMeta:o}=r,d={},m="/",f=[];for(let h=0;h<o.length;++h){let b=o[h],p=h===o.length-1,g=m==="/"?a:a.slice(m.length)||"/",y=Qo({path:b.relativePath,caseSensitive:b.caseSensitive,end:p},g),_=b.route;if(!y)return null;Object.assign(d,y.params),f.push({params:d,pathname:Qs([m,y.pathname]),pathnameBase:Ox(Qs([m,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(m=Qs([m,y.pathnameBase]))}return f}function Qo(r,a){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,o]=Px(r.path,r.caseSensitive,r.end),d=a.match(i);if(!d)return null;let m=d[0],f=m.replace(/(.)\/+$/,"$1"),h=d.slice(1);return{params:o.reduce((p,g,y)=>{let{paramName:_,isOptional:C}=g;if(_==="*"){let w=h[y]||"";f=m.slice(0,m.length-w.length).replace(/(.)\/+$/,"$1")}const j=h[y];return C&&!j?p[_]=void 0:p[_]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:m,pathnameBase:f,pattern:r}}function Px(r,a,i){a===void 0&&(a=!1),i===void 0&&(i=!0),dc(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let o=[],d="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,b)=>(o.push({paramName:h,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),d+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?d+="\\/*$":r!==""&&r!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,a?void 0:"i"),o]}function Tx(r){try{return r.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return dc(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),r}}function Xr(r,a){if(a==="/")return r;if(!r.toLowerCase().startsWith(a.toLowerCase()))return null;let i=a.endsWith("/")?a.length-1:a.length,o=r.charAt(i);return o&&o!=="/"?null:r.slice(i)||"/"}const Rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ax=r=>Rx.test(r);function Lx(r,a){a===void 0&&(a="/");let{pathname:i,search:o="",hash:d=""}=typeof r=="string"?tn(r):r,m;if(i)if(Ax(i))m=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),dc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(f+" -> "+i))}i.startsWith("/")?m=wm(i.substring(1),"/"):m=wm(i,a)}else m=a;return{pathname:m,search:Mx(o),hash:Dx(d)}}function wm(r,a){let i=a.replace(/\/+$/,"").split("/");return r.split("/").forEach(d=>{d===".."?i.length>1&&i.pop():d!=="."&&i.push(d)}),i.length>1?i.join("/"):"/"}function Io(r,a,i,o){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fx(r){return r.filter((a,i)=>i===0||a.route.path&&a.route.path.length>0)}function uc(r,a){let i=Fx(r);return a?i.map((o,d)=>d===i.length-1?o.pathname:o.pathnameBase):i.map(o=>o.pathnameBase)}function mc(r,a,i,o){o===void 0&&(o=!1);let d;typeof r=="string"?d=tn(r):(d=Kn({},r),Ue(!d.pathname||!d.pathname.includes("?"),Io("?","pathname","search",d)),Ue(!d.pathname||!d.pathname.includes("#"),Io("#","pathname","hash",d)),Ue(!d.search||!d.search.includes("#"),Io("#","search","hash",d)));let m=r===""||d.pathname==="",f=m?"/":d.pathname,h;if(f==null)h=i;else{let y=a.length-1;if(!o&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),y-=1;d.pathname=_.join("/")}h=y>=0?a[y]:"/"}let b=Lx(d,h),p=f&&f!=="/"&&f.endsWith("/"),g=(m||f===".")&&i.endsWith("/");return!b.pathname.endsWith("/")&&(p||g)&&(b.pathname+="/"),b}const Qs=r=>r.join("/").replace(/\/\/+/g,"/"),Ox=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Mx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Dx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function zx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const cf=["post","put","patch","delete"];new Set(cf);const Ix=["get",...cf];new Set(Ix);function Jn(){return Jn=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},Jn.apply(this,arguments)}const Ll=v.createContext(null),df=v.createContext(null),Ns=v.createContext(null),Fl=v.createContext(null),ds=v.createContext({outlet:null,matches:[],isDataRoute:!1}),uf=v.createContext(null);function Ux(r,a){let{relative:i}=a===void 0?{}:a;sn()||Ue(!1);let{basename:o,navigator:d}=v.useContext(Ns),{hash:m,pathname:f,search:h}=Ol(r,{relative:i}),b=f;return o!=="/"&&(b=f==="/"?o:Qs([o,f])),d.createHref({pathname:b,search:h,hash:m})}function sn(){return v.useContext(Fl)!=null}function us(){return sn()||Ue(!1),v.useContext(Fl).location}function mf(r){v.useContext(Ns).static||v.useLayoutEffect(r)}function Lt(){let{isDataRoute:r}=v.useContext(ds);return r?s0():Bx()}function Bx(){sn()||Ue(!1);let r=v.useContext(Ll),{basename:a,future:i,navigator:o}=v.useContext(Ns),{matches:d}=v.useContext(ds),{pathname:m}=us(),f=JSON.stringify(uc(d,i.v7_relativeSplatPath)),h=v.useRef(!1);return mf(()=>{h.current=!0}),v.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){o.go(p);return}let y=mc(p,JSON.parse(f),m,g.relative==="path");r==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:Qs([a,y.pathname])),(g.replace?o.replace:o.push)(y,g.state,g)},[a,o,f,m,r])}const $x=v.createContext(null);function Wx(r){let a=v.useContext(ds).outlet;return a&&v.createElement($x.Provider,{value:r},a)}function qx(){let{matches:r}=v.useContext(ds),a=r[r.length-1];return a?a.params:{}}function Ol(r,a){let{relative:i}=a===void 0?{}:a,{future:o}=v.useContext(Ns),{matches:d}=v.useContext(ds),{pathname:m}=us(),f=JSON.stringify(uc(d,o.v7_relativeSplatPath));return v.useMemo(()=>mc(r,JSON.parse(f),m,i==="path"),[r,f,m,i])}function Hx(r,a){return Vx(r,a)}function Vx(r,a,i,o){sn()||Ue(!1);let{navigator:d}=v.useContext(Ns),{matches:m}=v.useContext(ds),f=m[m.length-1],h=f?f.params:{};f&&f.pathname;let b=f?f.pathnameBase:"/";f&&f.route;let p=us(),g;if(a){var y;let N=typeof a=="string"?tn(a):a;b==="/"||(y=N.pathname)!=null&&y.startsWith(b)||Ue(!1),g=N}else g=p;let _=g.pathname||"/",C=_;if(b!=="/"){let N=b.replace(/^\//,"").split("/");C="/"+_.replace(/^\//,"").split("/").slice(N.length).join("/")}let j=gx(r,{pathname:C}),w=Jx(j&&j.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:Qs([b,d.encodeLocation?d.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?b:Qs([b,d.encodeLocation?d.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),m,i,o);return a&&w?v.createElement(Fl.Provider,{value:{location:Jn({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ys.Pop}},w):w}function Gx(){let r=t0(),a=zx(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},a),i?v.createElement("pre",{style:d},i):null,null)}const Yx=v.createElement(Gx,null);class Qx extends v.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,i){return i.location!==a.location||i.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:i.error,location:i.location,revalidation:a.revalidation||i.revalidation}}componentDidCatch(a,i){console.error("React Router caught the following error during render",a,i)}render(){return this.state.error!==void 0?v.createElement(ds.Provider,{value:this.props.routeContext},v.createElement(uf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kx(r){let{routeContext:a,match:i,children:o}=r,d=v.useContext(Ll);return d&&d.static&&d.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=i.route.id),v.createElement(ds.Provider,{value:a},o)}function Jx(r,a,i,o){var d;if(a===void 0&&(a=[]),i===void 0&&(i=null),o===void 0&&(o=null),r==null){var m;if(!i)return null;if(i.errors)r=i.matches;else if((m=o)!=null&&m.v7_partialHydration&&a.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let f=r,h=(d=i)==null?void 0:d.errors;if(h!=null){let g=f.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);g>=0||Ue(!1),f=f.slice(0,Math.min(f.length,g+1))}let b=!1,p=-1;if(i&&o&&o.v7_partialHydration)for(let g=0;g<f.length;g++){let y=f[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:_,errors:C}=i,j=y.route.loader&&_[y.route.id]===void 0&&(!C||C[y.route.id]===void 0);if(y.route.lazy||j){b=!0,p>=0?f=f.slice(0,p+1):f=[f[0]];break}}}return f.reduceRight((g,y,_)=>{let C,j=!1,w=null,N=null;i&&(C=h&&y.route.id?h[y.route.id]:void 0,w=y.route.errorElement||Yx,b&&(p<0&&_===0?(r0("route-fallback"),j=!0,N=null):p===_&&(j=!0,N=y.route.hydrateFallbackElement||null)));let L=a.concat(f.slice(0,_+1)),F=()=>{let E;return C?E=w:j?E=N:y.route.Component?E=v.createElement(y.route.Component,null):y.route.element?E=y.route.element:E=g,v.createElement(Kx,{match:y,routeContext:{outlet:g,matches:L,isDataRoute:i!=null},children:E})};return i&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?v.createElement(Qx,{location:i.location,revalidation:i.revalidation,component:w,error:C,children:F(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):F()},null)}var ff=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(ff||{}),pf=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(pf||{});function Xx(r){let a=v.useContext(Ll);return a||Ue(!1),a}function Zx(r){let a=v.useContext(df);return a||Ue(!1),a}function e0(r){let a=v.useContext(ds);return a||Ue(!1),a}function hf(r){let a=e0(),i=a.matches[a.matches.length-1];return i.route.id||Ue(!1),i.route.id}function t0(){var r;let a=v.useContext(uf),i=Zx(),o=hf();return a!==void 0?a:(r=i.errors)==null?void 0:r[o]}function s0(){let{router:r}=Xx(ff.UseNavigateStable),a=hf(pf.UseNavigateStable),i=v.useRef(!1);return mf(()=>{i.current=!0}),v.useCallback(function(d,m){m===void 0&&(m={}),i.current&&(typeof d=="number"?r.navigate(d):r.navigate(d,Jn({fromRouteId:a},m)))},[r,a])}const Nm={};function r0(r,a,i){Nm[r]||(Nm[r]=!0)}function n0(r,a){r?.v7_startTransition,r?.v7_relativeSplatPath}function fc(r){let{to:a,replace:i,state:o,relative:d}=r;sn()||Ue(!1);let{future:m,static:f}=v.useContext(Ns),{matches:h}=v.useContext(ds),{pathname:b}=us(),p=Lt(),g=mc(a,uc(h,m.v7_relativeSplatPath),b,d==="path"),y=JSON.stringify(g);return v.useEffect(()=>p(JSON.parse(y),{replace:i,state:o,relative:d}),[p,y,d,i,o]),null}function Ml(r){return Wx(r.context)}function Ce(r){Ue(!1)}function a0(r){let{basename:a="/",children:i=null,location:o,navigationType:d=Ys.Pop,navigator:m,static:f=!1,future:h}=r;sn()&&Ue(!1);let b=a.replace(/^\/*/,"/"),p=v.useMemo(()=>({basename:b,navigator:m,static:f,future:Jn({v7_relativeSplatPath:!1},h)}),[b,h,m,f]);typeof o=="string"&&(o=tn(o));let{pathname:g="/",search:y="",hash:_="",state:C=null,key:j="default"}=o,w=v.useMemo(()=>{let N=Xr(g,b);return N==null?null:{location:{pathname:N,search:y,hash:_,state:C,key:j},navigationType:d}},[b,g,y,_,C,j,d]);return w==null?null:v.createElement(Ns.Provider,{value:p},v.createElement(Fl.Provider,{children:i,value:w}))}function l0(r){let{children:a,location:i}=r;return Hx(Ko(a),i)}new Promise(()=>{});function Ko(r,a){a===void 0&&(a=[]);let i=[];return v.Children.forEach(r,(o,d)=>{if(!v.isValidElement(o))return;let m=[...a,d];if(o.type===v.Fragment){i.push.apply(i,Ko(o.props.children,m));return}o.type!==Ce&&Ue(!1),!o.props.index||!o.props.children||Ue(!1);let f={id:o.props.id||m.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=Ko(o.props.children,m)),i.push(f)}),i}function Pl(){return Pl=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},Pl.apply(this,arguments)}function xf(r,a){if(r==null)return{};var i={},o=Object.keys(r),d,m;for(m=0;m<o.length;m++)d=o[m],!(a.indexOf(d)>=0)&&(i[d]=r[d]);return i}function i0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function o0(r,a){return r.button===0&&(!a||a==="_self")&&!i0(r)}function Jo(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((a,i)=>{let o=r[i];return a.concat(Array.isArray(o)?o.map(d=>[i,d]):[[i,o]])},[]))}function c0(r,a){let i=Jo(r);return a&&a.forEach((o,d)=>{i.has(d)||a.getAll(d).forEach(m=>{i.append(d,m)})}),i}const d0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],m0="6";try{window.__reactRouterVersion=m0}catch{}const f0=v.createContext({isTransitioning:!1}),p0="startTransition",_m=lx[p0];function h0(r){let{basename:a,children:i,future:o,window:d}=r,m=v.useRef();m.current==null&&(m.current=px({window:d,v5Compat:!0}));let f=m.current,[h,b]=v.useState({action:f.action,location:f.location}),{v7_startTransition:p}=o||{},g=v.useCallback(y=>{p&&_m?_m(()=>b(y)):b(y)},[b,p]);return v.useLayoutEffect(()=>f.listen(g),[f,g]),v.useEffect(()=>n0(o),[o]),v.createElement(a0,{basename:a,children:i,location:h.location,navigationType:h.action,navigator:f,future:o})}const x0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=v.forwardRef(function(a,i){let{onClick:o,relative:d,reloadDocument:m,replace:f,state:h,target:b,to:p,preventScrollReset:g,viewTransition:y}=a,_=xf(a,d0),{basename:C}=v.useContext(Ns),j,w=!1;if(typeof p=="string"&&g0.test(p)&&(j=p,x0))try{let E=new URL(window.location.href),k=p.startsWith("//")?new URL(E.protocol+p):new URL(p),$=Xr(k.pathname,C);k.origin===E.origin&&$!=null?p=$+k.search+k.hash:w=!0}catch{}let N=Ux(p,{relative:d}),L=v0(p,{replace:f,state:h,target:b,preventScrollReset:g,relative:d,viewTransition:y});function F(E){o&&o(E),E.defaultPrevented||L(E)}return v.createElement("a",Pl({},_,{href:j||N,onClick:w||m?o:F,ref:i,target:b}))}),Xo=v.forwardRef(function(a,i){let{"aria-current":o="page",caseSensitive:d=!1,className:m="",end:f=!1,style:h,to:b,viewTransition:p,children:g}=a,y=xf(a,u0),_=Ol(b,{relative:y.relative}),C=us(),j=v.useContext(df),{navigator:w,basename:N}=v.useContext(Ns),L=j!=null&&b0(_)&&p===!0,F=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,E=C.pathname,k=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;d||(E=E.toLowerCase(),k=k?k.toLowerCase():null,F=F.toLowerCase()),k&&N&&(k=Xr(k,N)||k);const $=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let I=E===F||!f&&E.startsWith(F)&&E.charAt($)==="/",D=k!=null&&(k===F||!f&&k.startsWith(F)&&k.charAt(F.length)==="/"),H={isActive:I,isPending:D,isTransitioning:L},ae=I?o:void 0,xe;typeof m=="function"?xe=m(H):xe=[m,I?"active":null,D?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let ne=typeof h=="function"?h(H):h;return v.createElement(We,Pl({},y,{"aria-current":ae,className:xe,ref:i,style:ne,to:b,viewTransition:p}),typeof g=="function"?g(H):g)});var Zo;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Zo||(Zo={}));var km;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(km||(km={}));function y0(r){let a=v.useContext(Ll);return a||Ue(!1),a}function v0(r,a){let{target:i,replace:o,state:d,preventScrollReset:m,relative:f,viewTransition:h}=a===void 0?{}:a,b=Lt(),p=us(),g=Ol(r,{relative:f});return v.useCallback(y=>{if(o0(y,i)){y.preventDefault();let _=o!==void 0?o:El(p)===El(g);b(r,{replace:_,state:d,preventScrollReset:m,relative:f,viewTransition:h})}},[p,b,g,o,d,i,r,m,f,h])}function gf(r){let a=v.useRef(Jo(r)),i=v.useRef(!1),o=us(),d=v.useMemo(()=>c0(o.search,i.current?null:a.current),[o.search]),m=Lt(),f=v.useCallback((h,b)=>{const p=Jo(typeof h=="function"?h(d):h);i.current=!0,m("?"+p,b)},[m,d]);return[d,f]}function b0(r,a){a===void 0&&(a={});let i=v.useContext(f0);i==null&&Ue(!1);let{basename:o}=y0(Zo.useViewTransitionState),d=Ol(r,{relative:a.relative});if(!i.isTransitioning)return!1;let m=Xr(i.currentLocation.pathname,o)||i.currentLocation.pathname,f=Xr(i.nextLocation.pathname,o)||i.nextLocation.pathname;return Qo(d.pathname,f)!=null||Qo(d.pathname,m)!=null}const j0="modulepreload",w0=function(r){return"/"+r},Sm={},hr=function(a,i,o){let d=Promise.resolve();if(i&&i.length>0){let p=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var f=p;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),b=h?.nonce||h?.getAttribute("nonce");d=p(i.map(g=>{if(g=w0(g),g in Sm)return;Sm[g]=!0;const y=g.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const C=document.createElement("link");if(C.rel=y?"stylesheet":j0,y||(C.as="script"),C.crossOrigin="",C.href=g,b&&C.setAttribute("nonce",b),document.head.appendChild(C),y)return new Promise((j,w)=>{C.addEventListener("load",j),C.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${g}`)))})}))}function m(h){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=h,window.dispatchEvent(b),!b.defaultPrevented)throw h}return d.then(h=>{for(const b of h||[])b.status==="rejected"&&m(b.reason);return a().catch(m)})},N0={},Cm=r=>{let a;const i=new Set,o=(g,y)=>{const _=typeof g=="function"?g(a):g;if(!Object.is(_,a)){const C=a;a=y??(typeof _!="object"||_===null)?_:Object.assign({},a,_),i.forEach(j=>j(a,C))}},d=()=>a,b={setState:o,getState:d,getInitialState:()=>p,subscribe:g=>(i.add(g),()=>i.delete(g)),destroy:()=>{(N0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},p=a=r(o,d,b);return b},_0=r=>r?Cm(r):Cm;var Uo={exports:{}},Bo={},$o={exports:{}},Wo={};var Em;function k0(){if(Em)return Wo;Em=1;var r=ta();function a(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var i=typeof Object.is=="function"?Object.is:a,o=r.useState,d=r.useEffect,m=r.useLayoutEffect,f=r.useDebugValue;function h(y,_){var C=_(),j=o({inst:{value:C,getSnapshot:_}}),w=j[0].inst,N=j[1];return m(function(){w.value=C,w.getSnapshot=_,b(w)&&N({inst:w})},[y,C,_]),d(function(){return b(w)&&N({inst:w}),y(function(){b(w)&&N({inst:w})})},[y]),f(C),C}function b(y){var _=y.getSnapshot;y=y.value;try{var C=_();return!i(y,C)}catch{return!0}}function p(y,_){return _()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return Wo.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:g,Wo}var Pm;function S0(){return Pm||(Pm=1,$o.exports=k0()),$o.exports}var Tm;function C0(){if(Tm)return Bo;Tm=1;var r=ta(),a=S0();function i(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var o=typeof Object.is=="function"?Object.is:i,d=a.useSyncExternalStore,m=r.useRef,f=r.useEffect,h=r.useMemo,b=r.useDebugValue;return Bo.useSyncExternalStoreWithSelector=function(p,g,y,_,C){var j=m(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=h(function(){function L(I){if(!F){if(F=!0,E=I,I=_(I),C!==void 0&&w.hasValue){var D=w.value;if(C(D,I))return k=D}return k=I}if(D=k,o(E,I))return D;var H=_(I);return C!==void 0&&C(D,H)?(E=I,D):(E=I,k=H)}var F=!1,E,k,$=y===void 0?null:y;return[function(){return L(g())},$===null?void 0:function(){return L($())}]},[g,y,_,C]);var N=d(p,j[0],j[1]);return f(function(){w.hasValue=!0,w.value=N},[N]),b(N),N},Bo}var Rm;function E0(){return Rm||(Rm=1,Uo.exports=C0()),Uo.exports}var P0=E0();const T0=oc(P0),yf={},{useDebugValue:R0}=cc,{useSyncExternalStoreWithSelector:A0}=T0;let Am=!1;const L0=r=>r;function F0(r,a=L0,i){(yf?"production":void 0)!=="production"&&i&&!Am&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Am=!0);const o=A0(r.subscribe,r.getState,r.getServerState||r.getInitialState,a,i);return R0(o),o}const O0=r=>{(yf?"production":void 0)!=="production"&&typeof r!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const a=typeof r=="function"?_0(r):r,i=(o,d)=>F0(a,o,d);return Object.assign(i,a),i},vf=r=>O0,M0={};function D0(r,a){let i;try{i=r()}catch{return}return{getItem:d=>{var m;const f=b=>b===null?null:JSON.parse(b,void 0),h=(m=i.getItem(d))!=null?m:null;return h instanceof Promise?h.then(f):f(h)},setItem:(d,m)=>i.setItem(d,JSON.stringify(m,void 0)),removeItem:d=>i.removeItem(d)}}const Xn=r=>a=>{try{const i=r(a);return i instanceof Promise?i:{then(o){return Xn(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return Xn(o)(i)}}}},z0=(r,a)=>(i,o,d)=>{let m={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:N=>N,version:0,merge:(N,L)=>({...L,...N}),...a},f=!1;const h=new Set,b=new Set;let p;try{p=m.getStorage()}catch{}if(!p)return r((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${m.name}', the given storage is currently unavailable.`),i(...N)},o,d);const g=Xn(m.serialize),y=()=>{const N=m.partialize({...o()});let L;const F=g({state:N,version:m.version}).then(E=>p.setItem(m.name,E)).catch(E=>{L=E});if(L)throw L;return F},_=d.setState;d.setState=(N,L)=>{_(N,L),y()};const C=r((...N)=>{i(...N),y()},o,d);let j;const w=()=>{var N;if(!p)return;f=!1,h.forEach(F=>F(o()));const L=((N=m.onRehydrateStorage)==null?void 0:N.call(m,o()))||void 0;return Xn(p.getItem.bind(p))(m.name).then(F=>{if(F)return m.deserialize(F)}).then(F=>{if(F)if(typeof F.version=="number"&&F.version!==m.version){if(m.migrate)return m.migrate(F.state,F.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return F.state}).then(F=>{var E;return j=m.merge(F,(E=o())!=null?E:C),i(j,!0),y()}).then(()=>{L?.(j,void 0),f=!0,b.forEach(F=>F(j))}).catch(F=>{L?.(void 0,F)})};return d.persist={setOptions:N=>{m={...m,...N},N.getStorage&&(p=N.getStorage())},clearStorage:()=>{p?.removeItem(m.name)},getOptions:()=>m,rehydrate:()=>w(),hasHydrated:()=>f,onHydrate:N=>(h.add(N),()=>{h.delete(N)}),onFinishHydration:N=>(b.add(N),()=>{b.delete(N)})},w(),j||C},I0=(r,a)=>(i,o,d)=>{let m={storage:D0(()=>localStorage),partialize:w=>w,version:0,merge:(w,N)=>({...N,...w}),...a},f=!1;const h=new Set,b=new Set;let p=m.storage;if(!p)return r((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${m.name}', the given storage is currently unavailable.`),i(...w)},o,d);const g=()=>{const w=m.partialize({...o()});return p.setItem(m.name,{state:w,version:m.version})},y=d.setState;d.setState=(w,N)=>{y(w,N),g()};const _=r((...w)=>{i(...w),g()},o,d);d.getInitialState=()=>_;let C;const j=()=>{var w,N;if(!p)return;f=!1,h.forEach(F=>{var E;return F((E=o())!=null?E:_)});const L=((N=m.onRehydrateStorage)==null?void 0:N.call(m,(w=o())!=null?w:_))||void 0;return Xn(p.getItem.bind(p))(m.name).then(F=>{if(F)if(typeof F.version=="number"&&F.version!==m.version){if(m.migrate)return[!0,m.migrate(F.state,F.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,F.state];return[!1,void 0]}).then(F=>{var E;const[k,$]=F;if(C=m.merge($,(E=o())!=null?E:_),i(C,!0),k)return g()}).then(()=>{L?.(C,void 0),C=o(),f=!0,b.forEach(F=>F(C))}).catch(F=>{L?.(void 0,F)})};return d.persist={setOptions:w=>{m={...m,...w},w.storage&&(p=w.storage)},clearStorage:()=>{p?.removeItem(m.name)},getOptions:()=>m,rehydrate:()=>j(),hasHydrated:()=>f,onHydrate:w=>(h.add(w),()=>{h.delete(w)}),onFinishHydration:w=>(b.add(w),()=>{b.delete(w)})},m.skipHydration||j(),C||_},U0=(r,a)=>"getStorage"in a||"serialize"in a||"deserialize"in a?((M0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),z0(r,a)):I0(r,a),bf=U0,Ge=vf()(bf(r=>({user:null,isAuthenticated:!1,isLoading:!0,setUser:a=>r({user:a,isAuthenticated:!!a,isLoading:!1}),setLoading:a=>r({isLoading:a}),logout:()=>r({user:null,isAuthenticated:!1,isLoading:!1}),updateUserCredits:a=>r(i=>({user:i.user?{...i.user,credits_balance:a}:null})),refreshUser:async()=>{try{const{authApi:a}=await hr(async()=>{const{authApi:o}=await Promise.resolve().then(()=>xr);return{authApi:o}},void 0),i=await a.checkAuth();i.data.success&&i.data.data&&r({user:i.data.data,isAuthenticated:!0})}catch(a){console.error("Failed to refresh user:",a)}}}),{name:"auth-storage",partialize:r=>({user:r.user,isAuthenticated:r.isAuthenticated})}));function jf(r,a){return function(){return r.apply(a,arguments)}}const{toString:B0}=Object.prototype,{getPrototypeOf:pc}=Object,{iterator:Dl,toStringTag:wf}=Symbol,zl=(r=>a=>{const i=B0.call(a);return r[i]||(r[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Xt=r=>(r=r.toLowerCase(),a=>zl(a)===r),Il=r=>a=>typeof a===r,{isArray:rn}=Array,Zr=Il("undefined");function sa(r){return r!==null&&!Zr(r)&&r.constructor!==null&&!Zr(r.constructor)&&kt(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Nf=Xt("ArrayBuffer");function $0(r){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(r):a=r&&r.buffer&&Nf(r.buffer),a}const W0=Il("string"),kt=Il("function"),_f=Il("number"),ra=r=>r!==null&&typeof r=="object",q0=r=>r===!0||r===!1,jl=r=>{if(zl(r)!=="object")return!1;const a=pc(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(wf in r)&&!(Dl in r)},H0=r=>{if(!ra(r)||sa(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},V0=Xt("Date"),G0=Xt("File"),Y0=Xt("Blob"),Q0=Xt("FileList"),K0=r=>ra(r)&&kt(r.pipe),J0=r=>{let a;return r&&(typeof FormData=="function"&&r instanceof FormData||kt(r.append)&&((a=zl(r))==="formdata"||a==="object"&&kt(r.toString)&&r.toString()==="[object FormData]"))},X0=Xt("URLSearchParams"),[Z0,eg,tg,sg]=["ReadableStream","Request","Response","Headers"].map(Xt),rg=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function na(r,a,{allOwnKeys:i=!1}={}){if(r===null||typeof r>"u")return;let o,d;if(typeof r!="object"&&(r=[r]),rn(r))for(o=0,d=r.length;o<d;o++)a.call(null,r[o],o,r);else{if(sa(r))return;const m=i?Object.getOwnPropertyNames(r):Object.keys(r),f=m.length;let h;for(o=0;o<f;o++)h=m[o],a.call(null,r[h],h,r)}}function kf(r,a){if(sa(r))return null;a=a.toLowerCase();const i=Object.keys(r);let o=i.length,d;for(;o-- >0;)if(d=i[o],a===d.toLowerCase())return d;return null}const gr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sf=r=>!Zr(r)&&r!==gr;function ec(){const{caseless:r,skipUndefined:a}=Sf(this)&&this||{},i={},o=(d,m)=>{const f=r&&kf(i,m)||m;jl(i[f])&&jl(d)?i[f]=ec(i[f],d):jl(d)?i[f]=ec({},d):rn(d)?i[f]=d.slice():(!a||!Zr(d))&&(i[f]=d)};for(let d=0,m=arguments.length;d<m;d++)arguments[d]&&na(arguments[d],o);return i}const ng=(r,a,i,{allOwnKeys:o}={})=>(na(a,(d,m)=>{i&&kt(d)?r[m]=jf(d,i):r[m]=d},{allOwnKeys:o}),r),ag=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),lg=(r,a,i,o)=>{r.prototype=Object.create(a.prototype,o),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:a.prototype}),i&&Object.assign(r.prototype,i)},ig=(r,a,i,o)=>{let d,m,f;const h={};if(a=a||{},r==null)return a;do{for(d=Object.getOwnPropertyNames(r),m=d.length;m-- >0;)f=d[m],(!o||o(f,r,a))&&!h[f]&&(a[f]=r[f],h[f]=!0);r=i!==!1&&pc(r)}while(r&&(!i||i(r,a))&&r!==Object.prototype);return a},og=(r,a,i)=>{r=String(r),(i===void 0||i>r.length)&&(i=r.length),i-=a.length;const o=r.indexOf(a,i);return o!==-1&&o===i},cg=r=>{if(!r)return null;if(rn(r))return r;let a=r.length;if(!_f(a))return null;const i=new Array(a);for(;a-- >0;)i[a]=r[a];return i},dg=(r=>a=>r&&a instanceof r)(typeof Uint8Array<"u"&&pc(Uint8Array)),ug=(r,a)=>{const o=(r&&r[Dl]).call(r);let d;for(;(d=o.next())&&!d.done;){const m=d.value;a.call(r,m[0],m[1])}},mg=(r,a)=>{let i;const o=[];for(;(i=r.exec(a))!==null;)o.push(i);return o},fg=Xt("HTMLFormElement"),pg=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,d){return o.toUpperCase()+d}),Lm=(({hasOwnProperty:r})=>(a,i)=>r.call(a,i))(Object.prototype),hg=Xt("RegExp"),Cf=(r,a)=>{const i=Object.getOwnPropertyDescriptors(r),o={};na(i,(d,m)=>{let f;(f=a(d,m,r))!==!1&&(o[m]=f||d)}),Object.defineProperties(r,o)},xg=r=>{Cf(r,(a,i)=>{if(kt(r)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=r[i];if(kt(o)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},gg=(r,a)=>{const i={},o=d=>{d.forEach(m=>{i[m]=!0})};return rn(r)?o(r):o(String(r).split(a)),i},yg=()=>{},vg=(r,a)=>r!=null&&Number.isFinite(r=+r)?r:a;function bg(r){return!!(r&&kt(r.append)&&r[wf]==="FormData"&&r[Dl])}const jg=r=>{const a=new Array(10),i=(o,d)=>{if(ra(o)){if(a.indexOf(o)>=0)return;if(sa(o))return o;if(!("toJSON"in o)){a[d]=o;const m=rn(o)?[]:{};return na(o,(f,h)=>{const b=i(f,d+1);!Zr(b)&&(m[h]=b)}),a[d]=void 0,m}}return o};return i(r,0)},wg=Xt("AsyncFunction"),Ng=r=>r&&(ra(r)||kt(r))&&kt(r.then)&&kt(r.catch),Ef=((r,a)=>r?setImmediate:a?((i,o)=>(gr.addEventListener("message",({source:d,data:m})=>{d===gr&&m===i&&o.length&&o.shift()()},!1),d=>{o.push(d),gr.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",kt(gr.postMessage)),_g=typeof queueMicrotask<"u"?queueMicrotask.bind(gr):typeof process<"u"&&process.nextTick||Ef,kg=r=>r!=null&&kt(r[Dl]),W={isArray:rn,isArrayBuffer:Nf,isBuffer:sa,isFormData:J0,isArrayBufferView:$0,isString:W0,isNumber:_f,isBoolean:q0,isObject:ra,isPlainObject:jl,isEmptyObject:H0,isReadableStream:Z0,isRequest:eg,isResponse:tg,isHeaders:sg,isUndefined:Zr,isDate:V0,isFile:G0,isBlob:Y0,isRegExp:hg,isFunction:kt,isStream:K0,isURLSearchParams:X0,isTypedArray:dg,isFileList:Q0,forEach:na,merge:ec,extend:ng,trim:rg,stripBOM:ag,inherits:lg,toFlatObject:ig,kindOf:zl,kindOfTest:Xt,endsWith:og,toArray:cg,forEachEntry:ug,matchAll:mg,isHTMLForm:fg,hasOwnProperty:Lm,hasOwnProp:Lm,reduceDescriptors:Cf,freezeMethods:xg,toObjectSet:gg,toCamelCase:pg,noop:yg,toFiniteNumber:vg,findKey:kf,global:gr,isContextDefined:Sf,isSpecCompliantForm:bg,toJSONObject:jg,isAsyncFn:wg,isThenable:Ng,setImmediate:Ef,asap:_g,isIterable:kg};function Ne(r,a,i,o,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",a&&(this.code=a),i&&(this.config=i),o&&(this.request=o),d&&(this.response=d,this.status=d.status?d.status:null)}W.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const Pf=Ne.prototype,Tf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Tf[r]={value:r}});Object.defineProperties(Ne,Tf);Object.defineProperty(Pf,"isAxiosError",{value:!0});Ne.from=(r,a,i,o,d,m)=>{const f=Object.create(Pf);W.toFlatObject(r,f,function(g){return g!==Error.prototype},p=>p!=="isAxiosError");const h=r&&r.message?r.message:"Error",b=a==null&&r?r.code:a;return Ne.call(f,h,b,i,o,d),r&&f.cause==null&&Object.defineProperty(f,"cause",{value:r,configurable:!0}),f.name=r&&r.name||"Error",m&&Object.assign(f,m),f};const Sg=null;function tc(r){return W.isPlainObject(r)||W.isArray(r)}function Rf(r){return W.endsWith(r,"[]")?r.slice(0,-2):r}function Fm(r,a,i){return r?r.concat(a).map(function(d,m){return d=Rf(d),!i&&m?"["+d+"]":d}).join(i?".":""):a}function Cg(r){return W.isArray(r)&&!r.some(tc)}const Eg=W.toFlatObject(W,{},null,function(a){return/^is[A-Z]/.test(a)});function Ul(r,a,i){if(!W.isObject(r))throw new TypeError("target must be an object");a=a||new FormData,i=W.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,N){return!W.isUndefined(N[w])});const o=i.metaTokens,d=i.visitor||g,m=i.dots,f=i.indexes,b=(i.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(a);if(!W.isFunction(d))throw new TypeError("visitor must be a function");function p(j){if(j===null)return"";if(W.isDate(j))return j.toISOString();if(W.isBoolean(j))return j.toString();if(!b&&W.isBlob(j))throw new Ne("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(j)||W.isTypedArray(j)?b&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function g(j,w,N){let L=j;if(j&&!N&&typeof j=="object"){if(W.endsWith(w,"{}"))w=o?w:w.slice(0,-2),j=JSON.stringify(j);else if(W.isArray(j)&&Cg(j)||(W.isFileList(j)||W.endsWith(w,"[]"))&&(L=W.toArray(j)))return w=Rf(w),L.forEach(function(E,k){!(W.isUndefined(E)||E===null)&&a.append(f===!0?Fm([w],k,m):f===null?w:w+"[]",p(E))}),!1}return tc(j)?!0:(a.append(Fm(N,w,m),p(j)),!1)}const y=[],_=Object.assign(Eg,{defaultVisitor:g,convertValue:p,isVisitable:tc});function C(j,w){if(!W.isUndefined(j)){if(y.indexOf(j)!==-1)throw Error("Circular reference detected in "+w.join("."));y.push(j),W.forEach(j,function(L,F){(!(W.isUndefined(L)||L===null)&&d.call(a,L,W.isString(F)?F.trim():F,w,_))===!0&&C(L,w?w.concat(F):[F])}),y.pop()}}if(!W.isObject(r))throw new TypeError("data must be an object");return C(r),a}function Om(r){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(o){return a[o]})}function hc(r,a){this._pairs=[],r&&Ul(r,this,a)}const Af=hc.prototype;Af.append=function(a,i){this._pairs.push([a,i])};Af.toString=function(a){const i=a?function(o){return a.call(this,o,Om)}:Om;return this._pairs.map(function(d){return i(d[0])+"="+i(d[1])},"").join("&")};function Pg(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Lf(r,a,i){if(!a)return r;const o=i&&i.encode||Pg;W.isFunction(i)&&(i={serialize:i});const d=i&&i.serialize;let m;if(d?m=d(a,i):m=W.isURLSearchParams(a)?a.toString():new hc(a,i).toString(o),m){const f=r.indexOf("#");f!==-1&&(r=r.slice(0,f)),r+=(r.indexOf("?")===-1?"?":"&")+m}return r}class Mm{constructor(){this.handlers=[]}use(a,i,o){return this.handlers.push({fulfilled:a,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){W.forEach(this.handlers,function(o){o!==null&&a(o)})}}const Ff={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tg=typeof URLSearchParams<"u"?URLSearchParams:hc,Rg=typeof FormData<"u"?FormData:null,Ag=typeof Blob<"u"?Blob:null,Lg={isBrowser:!0,classes:{URLSearchParams:Tg,FormData:Rg,Blob:Ag},protocols:["http","https","file","blob","url","data"]},xc=typeof window<"u"&&typeof document<"u",sc=typeof navigator=="object"&&navigator||void 0,Fg=xc&&(!sc||["ReactNative","NativeScript","NS"].indexOf(sc.product)<0),Og=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Mg=xc&&window.location.href||"http://localhost",Dg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xc,hasStandardBrowserEnv:Fg,hasStandardBrowserWebWorkerEnv:Og,navigator:sc,origin:Mg},Symbol.toStringTag,{value:"Module"})),mt={...Dg,...Lg};function zg(r,a){return Ul(r,new mt.classes.URLSearchParams,{visitor:function(i,o,d,m){return mt.isNode&&W.isBuffer(i)?(this.append(o,i.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...a})}function Ig(r){return W.matchAll(/\w+|\[(\w*)]/g,r).map(a=>a[0]==="[]"?"":a[1]||a[0])}function Ug(r){const a={},i=Object.keys(r);let o;const d=i.length;let m;for(o=0;o<d;o++)m=i[o],a[m]=r[m];return a}function Of(r){function a(i,o,d,m){let f=i[m++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),b=m>=i.length;return f=!f&&W.isArray(d)?d.length:f,b?(W.hasOwnProp(d,f)?d[f]=[d[f],o]:d[f]=o,!h):((!d[f]||!W.isObject(d[f]))&&(d[f]=[]),a(i,o,d[f],m)&&W.isArray(d[f])&&(d[f]=Ug(d[f])),!h)}if(W.isFormData(r)&&W.isFunction(r.entries)){const i={};return W.forEachEntry(r,(o,d)=>{a(Ig(o),d,i,0)}),i}return null}function Bg(r,a,i){if(W.isString(r))try{return(a||JSON.parse)(r),W.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(r)}const aa={transitional:Ff,adapter:["xhr","http","fetch"],transformRequest:[function(a,i){const o=i.getContentType()||"",d=o.indexOf("application/json")>-1,m=W.isObject(a);if(m&&W.isHTMLForm(a)&&(a=new FormData(a)),W.isFormData(a))return d?JSON.stringify(Of(a)):a;if(W.isArrayBuffer(a)||W.isBuffer(a)||W.isStream(a)||W.isFile(a)||W.isBlob(a)||W.isReadableStream(a))return a;if(W.isArrayBufferView(a))return a.buffer;if(W.isURLSearchParams(a))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let h;if(m){if(o.indexOf("application/x-www-form-urlencoded")>-1)return zg(a,this.formSerializer).toString();if((h=W.isFileList(a))||o.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Ul(h?{"files[]":a}:a,b&&new b,this.formSerializer)}}return m||d?(i.setContentType("application/json",!1),Bg(a)):a}],transformResponse:[function(a){const i=this.transitional||aa.transitional,o=i&&i.forcedJSONParsing,d=this.responseType==="json";if(W.isResponse(a)||W.isReadableStream(a))return a;if(a&&W.isString(a)&&(o&&!this.responseType||d)){const f=!(i&&i.silentJSONParsing)&&d;try{return JSON.parse(a,this.parseReviver)}catch(h){if(f)throw h.name==="SyntaxError"?Ne.from(h,Ne.ERR_BAD_RESPONSE,this,null,this.response):h}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mt.classes.FormData,Blob:mt.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],r=>{aa.headers[r]={}});const $g=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wg=r=>{const a={};let i,o,d;return r&&r.split(`
`).forEach(function(f){d=f.indexOf(":"),i=f.substring(0,d).trim().toLowerCase(),o=f.substring(d+1).trim(),!(!i||a[i]&&$g[i])&&(i==="set-cookie"?a[i]?a[i].push(o):a[i]=[o]:a[i]=a[i]?a[i]+", "+o:o)}),a},Dm=Symbol("internals");function Gn(r){return r&&String(r).trim().toLowerCase()}function wl(r){return r===!1||r==null?r:W.isArray(r)?r.map(wl):String(r)}function qg(r){const a=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(r);)a[o[1]]=o[2];return a}const Hg=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function qo(r,a,i,o,d){if(W.isFunction(o))return o.call(this,a,i);if(d&&(a=i),!!W.isString(a)){if(W.isString(o))return a.indexOf(o)!==-1;if(W.isRegExp(o))return o.test(a)}}function Vg(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,i,o)=>i.toUpperCase()+o)}function Gg(r,a){const i=W.toCamelCase(" "+a);["get","set","has"].forEach(o=>{Object.defineProperty(r,o+i,{value:function(d,m,f){return this[o].call(this,a,d,m,f)},configurable:!0})})}let St=class{constructor(a){a&&this.set(a)}set(a,i,o){const d=this;function m(h,b,p){const g=Gn(b);if(!g)throw new Error("header name must be a non-empty string");const y=W.findKey(d,g);(!y||d[y]===void 0||p===!0||p===void 0&&d[y]!==!1)&&(d[y||b]=wl(h))}const f=(h,b)=>W.forEach(h,(p,g)=>m(p,g,b));if(W.isPlainObject(a)||a instanceof this.constructor)f(a,i);else if(W.isString(a)&&(a=a.trim())&&!Hg(a))f(Wg(a),i);else if(W.isObject(a)&&W.isIterable(a)){let h={},b,p;for(const g of a){if(!W.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[p=g[0]]=(b=h[p])?W.isArray(b)?[...b,g[1]]:[b,g[1]]:g[1]}f(h,i)}else a!=null&&m(i,a,o);return this}get(a,i){if(a=Gn(a),a){const o=W.findKey(this,a);if(o){const d=this[o];if(!i)return d;if(i===!0)return qg(d);if(W.isFunction(i))return i.call(this,d,o);if(W.isRegExp(i))return i.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,i){if(a=Gn(a),a){const o=W.findKey(this,a);return!!(o&&this[o]!==void 0&&(!i||qo(this,this[o],o,i)))}return!1}delete(a,i){const o=this;let d=!1;function m(f){if(f=Gn(f),f){const h=W.findKey(o,f);h&&(!i||qo(o,o[h],h,i))&&(delete o[h],d=!0)}}return W.isArray(a)?a.forEach(m):m(a),d}clear(a){const i=Object.keys(this);let o=i.length,d=!1;for(;o--;){const m=i[o];(!a||qo(this,this[m],m,a,!0))&&(delete this[m],d=!0)}return d}normalize(a){const i=this,o={};return W.forEach(this,(d,m)=>{const f=W.findKey(o,m);if(f){i[f]=wl(d),delete i[m];return}const h=a?Vg(m):String(m).trim();h!==m&&delete i[m],i[h]=wl(d),o[h]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const i=Object.create(null);return W.forEach(this,(o,d)=>{o!=null&&o!==!1&&(i[d]=a&&W.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,i])=>a+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...i){const o=new this(a);return i.forEach(d=>o.set(d)),o}static accessor(a){const o=(this[Dm]=this[Dm]={accessors:{}}).accessors,d=this.prototype;function m(f){const h=Gn(f);o[h]||(Gg(d,f),o[h]=!0)}return W.isArray(a)?a.forEach(m):m(a),this}};St.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(St.prototype,({value:r},a)=>{let i=a[0].toUpperCase()+a.slice(1);return{get:()=>r,set(o){this[i]=o}}});W.freezeMethods(St);function Ho(r,a){const i=this||aa,o=a||i,d=St.from(o.headers);let m=o.data;return W.forEach(r,function(h){m=h.call(i,m,d.normalize(),a?a.status:void 0)}),d.normalize(),m}function Mf(r){return!!(r&&r.__CANCEL__)}function nn(r,a,i){Ne.call(this,r??"canceled",Ne.ERR_CANCELED,a,i),this.name="CanceledError"}W.inherits(nn,Ne,{__CANCEL__:!0});function Df(r,a,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?r(i):a(new Ne("Request failed with status code "+i.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Yg(r){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return a&&a[1]||""}function Qg(r,a){r=r||10;const i=new Array(r),o=new Array(r);let d=0,m=0,f;return a=a!==void 0?a:1e3,function(b){const p=Date.now(),g=o[m];f||(f=p),i[d]=b,o[d]=p;let y=m,_=0;for(;y!==d;)_+=i[y++],y=y%r;if(d=(d+1)%r,d===m&&(m=(m+1)%r),p-f<a)return;const C=g&&p-g;return C?Math.round(_*1e3/C):void 0}}function Kg(r,a){let i=0,o=1e3/a,d,m;const f=(p,g=Date.now())=>{i=g,d=null,m&&(clearTimeout(m),m=null),r(...p)};return[(...p)=>{const g=Date.now(),y=g-i;y>=o?f(p,g):(d=p,m||(m=setTimeout(()=>{m=null,f(d)},o-y)))},()=>d&&f(d)]}const Tl=(r,a,i=3)=>{let o=0;const d=Qg(50,250);return Kg(m=>{const f=m.loaded,h=m.lengthComputable?m.total:void 0,b=f-o,p=d(b),g=f<=h;o=f;const y={loaded:f,total:h,progress:h?f/h:void 0,bytes:b,rate:p||void 0,estimated:p&&h&&g?(h-f)/p:void 0,event:m,lengthComputable:h!=null,[a?"download":"upload"]:!0};r(y)},i)},zm=(r,a)=>{const i=r!=null;return[o=>a[0]({lengthComputable:i,total:r,loaded:o}),a[1]]},Im=r=>(...a)=>W.asap(()=>r(...a)),Jg=mt.hasStandardBrowserEnv?((r,a)=>i=>(i=new URL(i,mt.origin),r.protocol===i.protocol&&r.host===i.host&&(a||r.port===i.port)))(new URL(mt.origin),mt.navigator&&/(msie|trident)/i.test(mt.navigator.userAgent)):()=>!0,Xg=mt.hasStandardBrowserEnv?{write(r,a,i,o,d,m,f){if(typeof document>"u")return;const h=[`${r}=${encodeURIComponent(a)}`];W.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),W.isString(o)&&h.push(`path=${o}`),W.isString(d)&&h.push(`domain=${d}`),m===!0&&h.push("secure"),W.isString(f)&&h.push(`SameSite=${f}`),document.cookie=h.join("; ")},read(r){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Zg(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function ey(r,a){return a?r.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):r}function zf(r,a,i){let o=!Zg(a);return r&&(o||i==!1)?ey(r,a):a}const Um=r=>r instanceof St?{...r}:r;function br(r,a){a=a||{};const i={};function o(p,g,y,_){return W.isPlainObject(p)&&W.isPlainObject(g)?W.merge.call({caseless:_},p,g):W.isPlainObject(g)?W.merge({},g):W.isArray(g)?g.slice():g}function d(p,g,y,_){if(W.isUndefined(g)){if(!W.isUndefined(p))return o(void 0,p,y,_)}else return o(p,g,y,_)}function m(p,g){if(!W.isUndefined(g))return o(void 0,g)}function f(p,g){if(W.isUndefined(g)){if(!W.isUndefined(p))return o(void 0,p)}else return o(void 0,g)}function h(p,g,y){if(y in a)return o(p,g);if(y in r)return o(void 0,p)}const b={url:m,method:m,data:m,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(p,g,y)=>d(Um(p),Um(g),y,!0)};return W.forEach(Object.keys({...r,...a}),function(g){const y=b[g]||d,_=y(r[g],a[g],g);W.isUndefined(_)&&y!==h||(i[g]=_)}),i}const If=r=>{const a=br({},r);let{data:i,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:m,headers:f,auth:h}=a;if(a.headers=f=St.from(f),a.url=Lf(zf(a.baseURL,a.url,a.allowAbsoluteUrls),r.params,r.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),W.isFormData(i)){if(mt.hasStandardBrowserEnv||mt.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(W.isFunction(i.getHeaders)){const b=i.getHeaders(),p=["content-type","content-length"];Object.entries(b).forEach(([g,y])=>{p.includes(g.toLowerCase())&&f.set(g,y)})}}if(mt.hasStandardBrowserEnv&&(o&&W.isFunction(o)&&(o=o(a)),o||o!==!1&&Jg(a.url))){const b=d&&m&&Xg.read(m);b&&f.set(d,b)}return a},ty=typeof XMLHttpRequest<"u",sy=ty&&function(r){return new Promise(function(i,o){const d=If(r);let m=d.data;const f=St.from(d.headers).normalize();let{responseType:h,onUploadProgress:b,onDownloadProgress:p}=d,g,y,_,C,j;function w(){C&&C(),j&&j(),d.cancelToken&&d.cancelToken.unsubscribe(g),d.signal&&d.signal.removeEventListener("abort",g)}let N=new XMLHttpRequest;N.open(d.method.toUpperCase(),d.url,!0),N.timeout=d.timeout;function L(){if(!N)return;const E=St.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),$={data:!h||h==="text"||h==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:E,config:r,request:N};Df(function(D){i(D),w()},function(D){o(D),w()},$),N=null}"onloadend"in N?N.onloadend=L:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(L)},N.onabort=function(){N&&(o(new Ne("Request aborted",Ne.ECONNABORTED,r,N)),N=null)},N.onerror=function(k){const $=k&&k.message?k.message:"Network Error",I=new Ne($,Ne.ERR_NETWORK,r,N);I.event=k||null,o(I),N=null},N.ontimeout=function(){let k=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const $=d.transitional||Ff;d.timeoutErrorMessage&&(k=d.timeoutErrorMessage),o(new Ne(k,$.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,r,N)),N=null},m===void 0&&f.setContentType(null),"setRequestHeader"in N&&W.forEach(f.toJSON(),function(k,$){N.setRequestHeader($,k)}),W.isUndefined(d.withCredentials)||(N.withCredentials=!!d.withCredentials),h&&h!=="json"&&(N.responseType=d.responseType),p&&([_,j]=Tl(p,!0),N.addEventListener("progress",_)),b&&N.upload&&([y,C]=Tl(b),N.upload.addEventListener("progress",y),N.upload.addEventListener("loadend",C)),(d.cancelToken||d.signal)&&(g=E=>{N&&(o(!E||E.type?new nn(null,r,N):E),N.abort(),N=null)},d.cancelToken&&d.cancelToken.subscribe(g),d.signal&&(d.signal.aborted?g():d.signal.addEventListener("abort",g)));const F=Yg(d.url);if(F&&mt.protocols.indexOf(F)===-1){o(new Ne("Unsupported protocol "+F+":",Ne.ERR_BAD_REQUEST,r));return}N.send(m||null)})},ry=(r,a)=>{const{length:i}=r=r?r.filter(Boolean):[];if(a||i){let o=new AbortController,d;const m=function(p){if(!d){d=!0,h();const g=p instanceof Error?p:this.reason;o.abort(g instanceof Ne?g:new nn(g instanceof Error?g.message:g))}};let f=a&&setTimeout(()=>{f=null,m(new Ne(`timeout ${a} of ms exceeded`,Ne.ETIMEDOUT))},a);const h=()=>{r&&(f&&clearTimeout(f),f=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(m):p.removeEventListener("abort",m)}),r=null)};r.forEach(p=>p.addEventListener("abort",m));const{signal:b}=o;return b.unsubscribe=()=>W.asap(h),b}},ny=function*(r,a){let i=r.byteLength;if(i<a){yield r;return}let o=0,d;for(;o<i;)d=o+a,yield r.slice(o,d),o=d},ay=async function*(r,a){for await(const i of ly(r))yield*ny(i,a)},ly=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const a=r.getReader();try{for(;;){const{done:i,value:o}=await a.read();if(i)break;yield o}}finally{await a.cancel()}},Bm=(r,a,i,o)=>{const d=ay(r,a);let m=0,f,h=b=>{f||(f=!0,o&&o(b))};return new ReadableStream({async pull(b){try{const{done:p,value:g}=await d.next();if(p){h(),b.close();return}let y=g.byteLength;if(i){let _=m+=y;i(_)}b.enqueue(new Uint8Array(g))}catch(p){throw h(p),p}},cancel(b){return h(b),d.return()}},{highWaterMark:2})},$m=64*1024,{isFunction:vl}=W,iy=(({Request:r,Response:a})=>({Request:r,Response:a}))(W.global),{ReadableStream:Wm,TextEncoder:qm}=W.global,Hm=(r,...a)=>{try{return!!r(...a)}catch{return!1}},oy=r=>{r=W.merge.call({skipUndefined:!0},iy,r);const{fetch:a,Request:i,Response:o}=r,d=a?vl(a):typeof fetch=="function",m=vl(i),f=vl(o);if(!d)return!1;const h=d&&vl(Wm),b=d&&(typeof qm=="function"?(j=>w=>j.encode(w))(new qm):async j=>new Uint8Array(await new i(j).arrayBuffer())),p=m&&h&&Hm(()=>{let j=!1;const w=new i(mt.origin,{body:new Wm,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!w}),g=f&&h&&Hm(()=>W.isReadableStream(new o("").body)),y={stream:g&&(j=>j.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!y[j]&&(y[j]=(w,N)=>{let L=w&&w[j];if(L)return L.call(w);throw new Ne(`Response type '${j}' is not supported`,Ne.ERR_NOT_SUPPORT,N)})});const _=async j=>{if(j==null)return 0;if(W.isBlob(j))return j.size;if(W.isSpecCompliantForm(j))return(await new i(mt.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(W.isArrayBufferView(j)||W.isArrayBuffer(j))return j.byteLength;if(W.isURLSearchParams(j)&&(j=j+""),W.isString(j))return(await b(j)).byteLength},C=async(j,w)=>{const N=W.toFiniteNumber(j.getContentLength());return N??_(w)};return async j=>{let{url:w,method:N,data:L,signal:F,cancelToken:E,timeout:k,onDownloadProgress:$,onUploadProgress:I,responseType:D,headers:H,withCredentials:ae="same-origin",fetchOptions:xe}=If(j),ne=a||fetch;D=D?(D+"").toLowerCase():"text";let q=ry([F,E&&E.toAbortSignal()],k),O=null;const re=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let Z;try{if(I&&p&&N!=="get"&&N!=="head"&&(Z=await C(H,L))!==0){let R=new i(w,{method:"POST",body:L,duplex:"half"}),P;if(W.isFormData(L)&&(P=R.headers.get("content-type"))&&H.setContentType(P),R.body){const[te,ie]=zm(Z,Tl(Im(I)));L=Bm(R.body,$m,te,ie)}}W.isString(ae)||(ae=ae?"include":"omit");const le=m&&"credentials"in i.prototype,V={...xe,signal:q,method:N.toUpperCase(),headers:H.normalize().toJSON(),body:L,duplex:"half",credentials:le?ae:void 0};O=m&&new i(w,V);let G=await(m?ne(O,xe):ne(w,V));const U=g&&(D==="stream"||D==="response");if(g&&($||U&&re)){const R={};["status","statusText","headers"].forEach(fe=>{R[fe]=G[fe]});const P=W.toFiniteNumber(G.headers.get("content-length")),[te,ie]=$&&zm(P,Tl(Im($),!0))||[];G=new o(Bm(G.body,$m,te,()=>{ie&&ie(),re&&re()}),R)}D=D||"text";let Y=await y[W.findKey(y,D)||"text"](G,j);return!U&&re&&re(),await new Promise((R,P)=>{Df(R,P,{data:Y,headers:St.from(G.headers),status:G.status,statusText:G.statusText,config:j,request:O})})}catch(le){throw re&&re(),le&&le.name==="TypeError"&&/Load failed|fetch/i.test(le.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,j,O),{cause:le.cause||le}):Ne.from(le,le&&le.code,j,O)}}},cy=new Map,Uf=r=>{let a=r&&r.env||{};const{fetch:i,Request:o,Response:d}=a,m=[o,d,i];let f=m.length,h=f,b,p,g=cy;for(;h--;)b=m[h],p=g.get(b),p===void 0&&g.set(b,p=h?new Map:oy(a)),g=p;return p};Uf();const gc={http:Sg,xhr:sy,fetch:{get:Uf}};W.forEach(gc,(r,a)=>{if(r){try{Object.defineProperty(r,"name",{value:a})}catch{}Object.defineProperty(r,"adapterName",{value:a})}});const Vm=r=>`- ${r}`,dy=r=>W.isFunction(r)||r===null||r===!1;function uy(r,a){r=W.isArray(r)?r:[r];const{length:i}=r;let o,d;const m={};for(let f=0;f<i;f++){o=r[f];let h;if(d=o,!dy(o)&&(d=gc[(h=String(o)).toLowerCase()],d===void 0))throw new Ne(`Unknown adapter '${h}'`);if(d&&(W.isFunction(d)||(d=d.get(a))))break;m[h||"#"+f]=d}if(!d){const f=Object.entries(m).map(([b,p])=>`adapter ${b} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=i?f.length>1?`since :
`+f.map(Vm).join(`
`):" "+Vm(f[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return d}const Bf={getAdapter:uy,adapters:gc};function Vo(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new nn(null,r)}function Gm(r){return Vo(r),r.headers=St.from(r.headers),r.data=Ho.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Bf.getAdapter(r.adapter||aa.adapter,r)(r).then(function(o){return Vo(r),o.data=Ho.call(r,r.transformResponse,o),o.headers=St.from(o.headers),o},function(o){return Mf(o)||(Vo(r),o&&o.response&&(o.response.data=Ho.call(r,r.transformResponse,o.response),o.response.headers=St.from(o.response.headers))),Promise.reject(o)})}const $f="1.13.2",Bl={};["object","boolean","number","function","string","symbol"].forEach((r,a)=>{Bl[r]=function(o){return typeof o===r||"a"+(a<1?"n ":" ")+r}});const Ym={};Bl.transitional=function(a,i,o){function d(m,f){return"[Axios v"+$f+"] Transitional option '"+m+"'"+f+(o?". "+o:"")}return(m,f,h)=>{if(a===!1)throw new Ne(d(f," has been removed"+(i?" in "+i:"")),Ne.ERR_DEPRECATED);return i&&!Ym[f]&&(Ym[f]=!0,console.warn(d(f," has been deprecated since v"+i+" and will be removed in the near future"))),a?a(m,f,h):!0}};Bl.spelling=function(a){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${a}`),!0)};function my(r,a,i){if(typeof r!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const o=Object.keys(r);let d=o.length;for(;d-- >0;){const m=o[d],f=a[m];if(f){const h=r[m],b=h===void 0||f(h,m,r);if(b!==!0)throw new Ne("option "+m+" must be "+b,Ne.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ne("Unknown option "+m,Ne.ERR_BAD_OPTION)}}const Nl={assertOptions:my,validators:Bl},ns=Nl.validators;let yr=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Mm,response:new Mm}}async request(a,i){try{return await this._request(a,i)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const m=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?m&&!String(o.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+m):o.stack=m}catch{}}throw o}}_request(a,i){typeof a=="string"?(i=i||{},i.url=a):i=a||{},i=br(this.defaults,i);const{transitional:o,paramsSerializer:d,headers:m}=i;o!==void 0&&Nl.assertOptions(o,{silentJSONParsing:ns.transitional(ns.boolean),forcedJSONParsing:ns.transitional(ns.boolean),clarifyTimeoutError:ns.transitional(ns.boolean)},!1),d!=null&&(W.isFunction(d)?i.paramsSerializer={serialize:d}:Nl.assertOptions(d,{encode:ns.function,serialize:ns.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Nl.assertOptions(i,{baseUrl:ns.spelling("baseURL"),withXsrfToken:ns.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let f=m&&W.merge(m.common,m[i.method]);m&&W.forEach(["delete","get","head","post","put","patch","common"],j=>{delete m[j]}),i.headers=St.concat(f,m);const h=[];let b=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(i)===!1||(b=b&&w.synchronous,h.unshift(w.fulfilled,w.rejected))});const p=[];this.interceptors.response.forEach(function(w){p.push(w.fulfilled,w.rejected)});let g,y=0,_;if(!b){const j=[Gm.bind(this),void 0];for(j.unshift(...h),j.push(...p),_=j.length,g=Promise.resolve(i);y<_;)g=g.then(j[y++],j[y++]);return g}_=h.length;let C=i;for(;y<_;){const j=h[y++],w=h[y++];try{C=j(C)}catch(N){w.call(this,N);break}}try{g=Gm.call(this,C)}catch(j){return Promise.reject(j)}for(y=0,_=p.length;y<_;)g=g.then(p[y++],p[y++]);return g}getUri(a){a=br(this.defaults,a);const i=zf(a.baseURL,a.url,a.allowAbsoluteUrls);return Lf(i,a.params,a.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(a){yr.prototype[a]=function(i,o){return this.request(br(o||{},{method:a,url:i,data:(o||{}).data}))}});W.forEach(["post","put","patch"],function(a){function i(o){return function(m,f,h){return this.request(br(h||{},{method:a,headers:o?{"Content-Type":"multipart/form-data"}:{},url:m,data:f}))}}yr.prototype[a]=i(),yr.prototype[a+"Form"]=i(!0)});let fy=class Wf{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(m){i=m});const o=this;this.promise.then(d=>{if(!o._listeners)return;let m=o._listeners.length;for(;m-- >0;)o._listeners[m](d);o._listeners=null}),this.promise.then=d=>{let m;const f=new Promise(h=>{o.subscribe(h),m=h}).then(d);return f.cancel=function(){o.unsubscribe(m)},f},a(function(m,f,h){o.reason||(o.reason=new nn(m,f,h),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const i=this._listeners.indexOf(a);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const a=new AbortController,i=o=>{a.abort(o)};return this.subscribe(i),a.signal.unsubscribe=()=>this.unsubscribe(i),a.signal}static source(){let a;return{token:new Wf(function(d){a=d}),cancel:a}}};function py(r){return function(i){return r.apply(null,i)}}function hy(r){return W.isObject(r)&&r.isAxiosError===!0}const rc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rc).forEach(([r,a])=>{rc[a]=r});function qf(r){const a=new yr(r),i=jf(yr.prototype.request,a);return W.extend(i,yr.prototype,a,{allOwnKeys:!0}),W.extend(i,a,null,{allOwnKeys:!0}),i.create=function(d){return qf(br(r,d))},i}const Be=qf(aa);Be.Axios=yr;Be.CanceledError=nn;Be.CancelToken=fy;Be.isCancel=Mf;Be.VERSION=$f;Be.toFormData=Ul;Be.AxiosError=Ne;Be.Cancel=Be.CanceledError;Be.all=function(a){return Promise.all(a)};Be.spread=py;Be.isAxiosError=hy;Be.mergeConfig=br;Be.AxiosHeaders=St;Be.formToJSON=r=>Of(W.isHTMLForm(r)?new FormData(r):r);Be.getAdapter=Bf.getAdapter;Be.HttpStatusCode=rc;Be.default=Be;const{Axios:Pb,AxiosError:Tb,CanceledError:Rb,isCancel:Ab,CancelToken:Lb,VERSION:Fb,all:Ob,Cancel:Mb,isAxiosError:Db,spread:zb,toFormData:Ib,AxiosHeaders:Ub,HttpStatusCode:Bb,formToJSON:$b,getAdapter:Wb,mergeConfig:qb}=Be,Q=Be.create({baseURL:"/api",withCredentials:!0,timeout:3e4,headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});Q.interceptors.request.use(r=>(r.method==="get"&&(r.params={...r.params,_t:Date.now()}),r),r=>Promise.reject(r));Q.interceptors.response.use(r=>r,r=>Promise.reject(r));function je(r){return Be.isAxiosError(r)?r.response?.data?.message||"An error occurred":"An unexpected error occurred"}const Xs={register:r=>Q.post("/auth?action=register",r),login:r=>Q.post("/auth?action=login",r),logout:()=>Q.post("/auth?action=logout"),checkAuth:()=>Q.get("/auth?action=check-auth"),verifyEmail:r=>Q.post("/auth?action=verify-email",{token:r}),forgotPassword:r=>Q.post("/auth?action=forgot-password",{email:r}),resetPassword:(r,a)=>Q.post("/auth?action=reset-password",{token:r,new_password:a})},Gs={getProfile:r=>Q.get(`/users?action=get-profile&user_code=${r}`),updateProfile:r=>Q.post("/users?action=update-profile",r),changePassword:r=>Q.post("/users?action=change-password",r),updateSettings:r=>Q.post("/users?action=update-settings",r),getChildAccounts:()=>Q.get("/users?action=get-child-accounts"),updateParentControls:r=>Q.post("/users?action=update-parent-controls",r),getChildActivity:(r,a,i)=>Q.get(`/users?action=get-child-activity&child_user_code=${r}&limit=${a||50}&offset=${i||0}`),getStamps:()=>Q.get("/users?action=get-stamps"),setActiveStamp:r=>Q.post("/users?action=set-active-stamp",{stamp_id:r}),getAvatars:()=>Q.get("/users?action=get-avatars"),setAvatar:r=>Q.post("/users?action=set-avatar",{avatar_id:r}),getStats:()=>Q.get("/users?action=get-stats")};function Rl(r){return r?{user_card_id:r.user_card_id,user_id:r.user_id,published_card_id:r.published_card_id,card_template_id:r.card_template_id,card_name:r.card_name,card_type:r.type_name||r.card_type,card_description:r.description||r.card_description,image_url:r.character_image_path||r.image_url,attack:r.attack_score??r.attack??0,defense:r.defense_score??r.defense??0,speed:r.speed_score??r.speed??0,rarity:r.status_name||r.rarity,acquired_at:r.acquired_date||r.acquired_at,ownership_count:r.stamp_count??r.ownership_count??0,active_stamp_id:r.active_stamp_id,stamp_image_url:r.stamp_image_url,in_deck:r.in_deck||r.is_in_deck||!1,available_for_battle:r.available_for_battle!==!1&&!r.is_in_marketplace&&!r.is_in_trade,is_in_marketplace:r.is_in_marketplace||!1,is_in_trade:r.is_in_trade||!1,listing_id:r.listing_id,marketplace_price:r.marketplace_price,educational_facts:r.science_fact||r.educational_facts,attack_name:r.attack_name,attack_description:r.attack_description,header_color_1:r.header_color1,header_color_2:r.header_color2,border_color_1:r.border_color1,border_color_2:r.border_color2}:null}const wr={purchasePack:r=>Q.post("/cards?action=purchase-pack",{pack_size:r}),getCollection:async r=>{const a=new URLSearchParams({action:"collection"});r&&Object.entries(r).forEach(([o,d])=>{d!==void 0&&a.append(o,String(d))});const i=await Q.get(`/cards?${a}`);return i.data.success&&i.data.data?.cards&&(i.data.data.cards=i.data.data.cards.map(Rl)),i},getCard:r=>Q.get(`/cards?action=get-card&card_id=${r}`)},tt={createDeck:(r,a)=>Q.post("/battles?action=create-deck",{deck_name:r,cards:a}),getDecks:async()=>{const r=await Q.get("/battles?action=get-decks");return r.data.success&&r.data.data?.decks&&(r.data.data.decks=r.data.data.decks.map(a=>({...a,deck_id:a.battle_deck_id||a.deck_id,card_count:a.card_count||0}))),r},getDeckDetails:async r=>{const a=await Q.get(`/battles?action=get-deck-details&deck_id=${r}`);return a.data.success&&a.data.data?.cards&&(a.data.data.cards=a.data.data.cards.map(Rl)),a},deleteDeck:r=>Q.delete("/battles?action=delete-deck",{data:{deck_id:r}}),validateDeck:r=>Q.post("/battles?action=validate-deck",{card_ids:r}),initiateBattle:r=>Q.post("/battles?action=initiate-battle",r),getBattleStatus:r=>Q.get(`/battles?action=get-battle-status&battle_id=${r}`),selectCard:(r,a)=>Q.post("/battles?action=select-card",{battle_id:r,card_id:a}),executeAttack:r=>Q.post("/battles?action=execute-attack",{battle_id:r}),forfeitBattle:r=>Q.post("/battles?action=forfeit-battle",{battle_id:r}),getBattleHistory:(r,a)=>Q.get(`/battles?action=battle-history&limit=${r||20}&offset=${a||0}`),setDefaultDeck:r=>Q.post("/battles?action=set-default-deck",{deck_id:r}),getDefaultDeck:()=>Q.get("/battles?action=get-default-deck"),getFriendDefaultDeck:async r=>{const a=await Q.get(`/battles?action=get-friend-default-deck&friend_user_code=${r}`);return a.data.success&&a.data.data?.cards&&(a.data.data.cards=a.data.data.cards.map(Rl)),a},sendBattleInvitation:(r,a,i)=>Q.post("/battles?action=send-battle-invitation",{friend_user_code:r,deck_id:a,battle_mode:i}),respondBattleInvitation:(r,a,i)=>Q.post("/battles?action=respond-battle-invitation",{invitation_id:r,response:a,deck_id:i}),getPendingBattleInvitations:()=>Q.get("/battles?action=get-pending-battle-invitations"),getBattleInvitationDetails:r=>Q.get(`/battles?action=get-battle-invitation-details&invitation_id=${r}`),cancelBattleInvitation:r=>Q.post("/battles?action=cancel-battle-invitation",{invitation_id:r}),logPhaseResult:(r,a,i,o,d,m)=>Q.post("/battles?action=log-phase-result",{battle_id:r,phase_number:a,winner_card_id:i,loser_card_id:o,winner_stats:d,loser_stats:m}),completeBattleFrontend:(r,a,i)=>Q.post("/battles?action=complete-battle-frontend",{battle_id:r,player1_wins:a,player2_wins:i})},as={createTrade:r=>Q.post("/trades?action=create-trade",{recipient_user_code:r}),addCardToTrade:(r,a,i)=>Q.post("/trades?action=add-card-to-trade",{trade_id:r,card_id:a,side:i}),addCreditsToTrade:(r,a,i)=>Q.post("/trades?action=add-credits-to-trade",{trade_id:r,amount:a,side:i}),counterOffer:r=>Q.post("/trades?action=counter-offer",{trade_id:r}),acceptTrade:r=>Q.post("/trades?action=accept-trade",{trade_id:r}),rejectTrade:r=>Q.post("/trades?action=reject-trade",{trade_id:r}),approveTrade:r=>Q.post("/trades?action=approve-trade",{trade_id:r}),cancelTrade:r=>Q.post("/trades?action=cancel-trade",{trade_id:r}),getTrade:r=>Q.get(`/trades?action=get-trade&trade_id=${r}`),getActiveTrades:()=>Q.get("/trades?action=get-active-trades"),getTradeHistory:(r,a)=>Q.get(`/trades?action=get-trade-history&limit=${r||20}&offset=${a||0}`),addComment:(r,a)=>Q.post("/trades?action=add-comment",{trade_id:r,comment:a}),getComments:r=>Q.get(`/trades?action=get-comments&trade_id=${r}`)},_t={createListing:(r,a)=>Q.post("/marketplace?action=create-listing",{user_card_id:r,asking_price:a}),searchListings:r=>{const a=new URLSearchParams({action:"search-listings"});return r&&Object.entries(r).forEach(([i,o])=>{o!==void 0&&a.append(i,String(o))}),Q.get(`/marketplace?${a}`)},getListing:r=>Q.get(`/marketplace?action=get-listing&listing_id=${r}`),getMyListings:()=>Q.get("/marketplace?action=my-listings"),makeOffer:(r,a,i=!1)=>Q.post("/marketplace?action=make-offer",{listing_id:r,offer_amount:a,is_counter_offer:i}),respondToOffer:(r,a)=>Q.post("/marketplace?action=respond-to-offer",{offer_id:r,response:a}),confirmPurchase:r=>Q.post("/marketplace?action=confirm-purchase",{offer_id:r}),cancelListing:r=>Q.post("/marketplace?action=cancel-listing",{listing_id:r}),updateListing:(r,a)=>Q.post("/marketplace?action=update-listing",{listing_id:r,asking_price:a}),getPurchaseHistory:(r,a)=>Q.get(`/marketplace?action=purchase-history&limit=${r||20}&offset=${a||0}`),getSalesHistory:(r,a)=>Q.get(`/marketplace?action=sales-history&limit=${r||20}&offset=${a||0}`),getOffersReceived:r=>Q.get(`/marketplace?action=my-offers-received${r?`&status=${r}`:""}`),getOffersMade:r=>Q.get(`/marketplace?action=my-offers-made${r?`&status=${r}`:""}`)},Rt={getFriendCode:()=>Q.get("/friends?action=get-friend-code"),regenerateFriendCode:()=>Q.post("/friends?action=regenerate-friend-code"),sendFriendRequest:r=>Q.post("/friends?action=send-friend-request",r.includes("-")?{friend_code:r}:{friend_user_code:r}),getFriendRequests:(r="received")=>Q.get(`/friends?action=get-friend-requests&type=${r}`),respondToRequest:(r,a)=>Q.post("/friends?action=respond-to-request",{friendship_id:r,response:a}),getFriends:()=>Q.get("/friends?action=get-friends"),removeFriend:r=>Q.delete("/friends?action=remove-friend",{data:{friendship_id:r}}),blockUser:r=>Q.post("/friends?action=block-user",{blocked_user_code:r}),unblockUser:r=>Q.delete("/friends?action=unblock-user",{data:{blocked_user_code:r}}),getBlockedUsers:()=>Q.get("/friends?action=get-blocked-users"),searchFriends:r=>Q.get(`/friends?action=search-friends&query=${encodeURIComponent(r)}`),searchUsers:r=>Q.get(`/friends?action=search-users&query=${encodeURIComponent(r)}`)},Qr={getConversations:()=>Q.get("/chat?action=get-conversations"),getMessages:(r,a,i)=>Q.get(`/chat?action=get-messages&friend_user_code=${r}&limit=${a||50}&offset=${i||0}`),sendMessage:(r,a)=>Q.post("/chat?action=send-message",{recipient_user_code:r,message_text:a}),markAsRead:r=>Q.post("/chat?action=mark-as-read",{friend_user_code:r}),deleteMessage:r=>Q.delete("/chat?action=delete-message",{data:{message_id:r}}),getUnreadCount:()=>Q.get("/chat?action=get-unread-count")},Kr={getNotifications:(r=!1,a,i)=>Q.get(`/notifications?action=get-notifications&unread_only=${r}&limit=${a||20}&offset=${i||0}`),getUnreadCount:()=>Q.get("/notifications?action=get-unread-count"),markAsRead:r=>Q.post("/notifications?action=mark-as-read",{notification_id:r}),markAllRead:()=>Q.post("/notifications?action=mark-all-read"),deleteNotification:r=>Q.delete("/notifications?action=delete-notification",{data:{notification_id:r}}),getSettings:()=>Q.get("/notifications?action=get-notification-settings"),updateSettings:r=>Q.post("/notifications?action=update-notification-settings",r)},Hf={getProducts:r=>{const a=new URLSearchParams({action:"get-products"});return r&&a.append("type",r),Q.get(`/cart?${a}`)},getCart:()=>Q.get("/cart?action=get"),addToCart:(r,a=1,i="GBP")=>Q.post("/cart?action=add",{product_id:r,quantity:a,currency:i}),updateCartItem:(r,a)=>Q.put("/cart?action=update",{cart_item_id:r,quantity:a}),removeFromCart:r=>Q.delete(`/cart?action=remove&cart_item_id=${r}`),clearCart:()=>Q.delete("/cart?action=clear"),applyPromoCode:r=>Q.post("/cart?action=apply-promo",{promo_code:r})},_l={createOrder:r=>Q.post("/checkout?action=create-order",r),createPayment:r=>Q.post("/checkout?action=create-payment",{order_id:r}),confirmPayment:r=>Q.post("/checkout?action=confirm-payment",{order_id:r}),getOrder:r=>Q.get(`/checkout?action=get-order&order_id=${r}`),getOrders:(r,a)=>Q.get(`/checkout?action=get-orders&limit=${r||20}&offset=${a||0}`)},xr=Object.freeze(Object.defineProperty({__proto__:null,authApi:Xs,battlesApi:tt,cardsApi:wr,cartApi:Hf,chatApi:Qr,checkoutApi:_l,friendsApi:Rt,handleApiError:je,marketplaceApi:_t,notificationsApi:Kr,tradesApi:as,transformCardFromApi:Rl,userApi:Gs},Symbol.toStringTag,{value:"Module"}));class xy{ws=null;url;authToken=null;reconnectAttempts=0;maxReconnectAttempts=5;reconnectDelay=2e3;messageHandlers=new Set;pingInterval=null;isIntentionallyClosed=!1;constructor(a="ws://localhost:8443"){this.url=a}connect(a){if(this.ws?.readyState===WebSocket.OPEN){console.log("WebSocket already connected");return}this.authToken=a,this.isIntentionallyClosed=!1,console.log("[WebSocket] Attempting to connect to:",this.url);try{this.ws=new WebSocket(this.url),this.ws.onopen=()=>{console.log("[WebSocket] Connection opened successfully!"),this.reconnectAttempts=0,this.authenticate(),this.startPing()},this.ws.onmessage=i=>{try{const o=JSON.parse(i.data);this.handleMessage(o)}catch(o){console.error("Failed to parse WebSocket message:",o)}},this.ws.onerror=i=>{console.error("[WebSocket] Connection error:",i),console.error("[WebSocket] Error details - URL:",this.url,"ReadyState:",this.ws?.readyState)},this.ws.onclose=i=>{console.log("[WebSocket] Connection closed - Code:",i.code,"Reason:",i.reason,"Clean:",i.wasClean),this.stopPing(),!this.isIntentionallyClosed&&this.reconnectAttempts<this.maxReconnectAttempts&&this.reconnect()}}catch(i){console.error("[WebSocket] Failed to create WebSocket connection:",i)}}disconnect(){this.isIntentionallyClosed=!0,this.stopPing(),this.ws&&(this.ws.close(),this.ws=null)}reconnect(){this.reconnectAttempts++;const a=this.reconnectDelay*this.reconnectAttempts;console.log(`Reconnecting in ${a}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.authToken&&!this.isIntentionallyClosed&&this.connect(this.authToken)},a)}authenticate(){this.authToken&&this.send({type:"authenticate",auth_token:this.authToken})}startPing(){this.pingInterval=window.setInterval(()=>{this.send({type:"ping"})},3e4)}stopPing(){this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}handleMessage(a){switch(console.log("[WebSocket] Received message:",a.type,a),this.messageHandlers.forEach(i=>i(a)),a.type){case"authenticated":console.log("[WebSocket] Authenticated as user",a.user_code);break;case"auth_error":console.error("[WebSocket] Authentication error:",a.message),this.disconnect();break;case"pong":break;case"chat_message":console.log("[WebSocket] Chat message received:",a.message);break;case"error":console.error("[WebSocket] Error:",a.message);break}}send(a){this.ws?.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify(a)):console.warn("WebSocket not connected, message not sent:",a)}sendMessage(a,i){this.send({type:"chat_message",recipient_user_id:a,message_text:i})}sendTyping(a,i){this.send({type:"typing",recipient_user_id:a,is_typing:i})}onMessage(a){return this.messageHandlers.add(a),()=>this.messageHandlers.delete(a)}isConnected(){return this.ws?.readyState===WebSocket.OPEN}}const kl=new xy;var gy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yy=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(r,a)=>{const i=v.forwardRef(({color:o="currentColor",size:d=24,strokeWidth:m=2,absoluteStrokeWidth:f,className:h="",children:b,...p},g)=>v.createElement("svg",{ref:g,...gy,width:d,height:d,stroke:o,strokeWidth:f?Number(m)*24/Number(d):m,className:["lucide",`lucide-${yy(r)}`,h].join(" "),...p},[...a.map(([y,_])=>v.createElement(y,_)),...Array.isArray(b)?b:[b]]));return i.displayName=`${r}`,i};const yc=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Vf=ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const la=ue("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const $l=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const ls=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const vy=ue("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);const Qm=ue("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const by=ue("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);const nc=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const jy=ue("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const wy=ue("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);const Km=ue("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);const an=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const At=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Gf=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Ny=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const is=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const ac=ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const en=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Al=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const _y=ue("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const ky=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Sy=ue("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);const Cy=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const lc=ue("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const Yf=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Qf=ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const os=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Ey=ue("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);const Py=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Zn=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Jr=ue("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const Ty=ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const Ry=ue("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);const ft=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const ln=ue("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);const Ay=ue("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const Jt=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Ly=ue("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);const ia=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Ks=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const vc=ue("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const Kf=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const ic=ue("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const ea=ue("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);const Fy=ue("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const jr=ue("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const Nr=ue("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const bc=ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const Jf=ue("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);const Kt=ue("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);const Jm=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const Zs=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Oy=ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const jc=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Sl=ue("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const My=ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const Xf=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Qt=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Js=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Zf=ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Ae=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const vr=ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function ep(r){var a,i,o="";if(typeof r=="string"||typeof r=="number")o+=r;else if(typeof r=="object")if(Array.isArray(r)){var d=r.length;for(a=0;a<d;a++)r[a]&&(i=ep(r[a]))&&(o&&(o+=" "),o+=i)}else for(i in r)r[i]&&(o&&(o+=" "),o+=i);return o}function Dy(){for(var r,a,i=0,o="",d=arguments.length;i<d;i++)(r=arguments[i])&&(a=ep(r))&&(o&&(o+=" "),o+=a);return o}function nt(r){const a=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&a==="[object Date]"?new r.constructor(+r):typeof r=="number"||a==="[object Number]"||typeof r=="string"||a==="[object String]"?new Date(r):new Date(NaN)}function zy(r,a){return r instanceof Date?new r.constructor(a):new Date(a)}const bl=43200,Xm=1440;let Iy={};function Uy(){return Iy}function Zm(r){const a=nt(r),i=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return i.setUTCFullYear(a.getFullYear()),+r-+i}function Cl(r,a){const i=nt(r),o=nt(a),d=i.getTime()-o.getTime();return d<0?-1:d>0?1:d}function By(r){return zy(r,Date.now())}function $y(r,a){const i=nt(r),o=nt(a),d=i.getFullYear()-o.getFullYear(),m=i.getMonth()-o.getMonth();return d*12+m}function Wy(r){return a=>{const o=(r?Math[r]:Math.trunc)(a);return o===0?0:o}}function qy(r,a){return+nt(r)-+nt(a)}function Hy(r){const a=nt(r);return a.setHours(23,59,59,999),a}function Vy(r){const a=nt(r),i=a.getMonth();return a.setFullYear(a.getFullYear(),i+1,0),a.setHours(23,59,59,999),a}function Gy(r){const a=nt(r);return+Hy(a)==+Vy(a)}function Yy(r,a){const i=nt(r),o=nt(a),d=Cl(i,o),m=Math.abs($y(i,o));let f;if(m<1)f=0;else{i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-d*m);let h=Cl(i,o)===-d;Gy(nt(r))&&m===1&&Cl(r,o)===1&&(h=!1),f=d*(m-Number(h))}return f===0?0:f}function Qy(r,a,i){const o=qy(r,a)/1e3;return Wy(i?.roundingMethod)(o)}const Ky={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jy=(r,a,i)=>{let o;const d=Ky[r];return typeof d=="string"?o=d:a===1?o=d.one:o=d.other.replace("{{count}}",a.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"in "+o:o+" ago":o};function Go(r){return(a={})=>{const i=a.width?String(a.width):r.defaultWidth;return r.formats[i]||r.formats[r.defaultWidth]}}const Xy={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zy={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ev={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tv={date:Go({formats:Xy,defaultWidth:"full"}),time:Go({formats:Zy,defaultWidth:"full"}),dateTime:Go({formats:ev,defaultWidth:"full"})},sv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rv=(r,a,i,o)=>sv[r];function Yn(r){return(a,i)=>{const o=i?.context?String(i.context):"standalone";let d;if(o==="formatting"&&r.formattingValues){const f=r.defaultFormattingWidth||r.defaultWidth,h=i?.width?String(i.width):f;d=r.formattingValues[h]||r.formattingValues[f]}else{const f=r.defaultWidth,h=i?.width?String(i.width):r.defaultWidth;d=r.values[h]||r.values[f]}const m=r.argumentCallback?r.argumentCallback(a):a;return d[m]}}const nv={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},av={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lv={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iv={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ov={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dv=(r,a)=>{const i=Number(r),o=i%100;if(o>20||o<10)switch(o%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},uv={ordinalNumber:dv,era:Yn({values:nv,defaultWidth:"wide"}),quarter:Yn({values:av,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Yn({values:lv,defaultWidth:"wide"}),day:Yn({values:iv,defaultWidth:"wide"}),dayPeriod:Yn({values:ov,defaultWidth:"wide",formattingValues:cv,defaultFormattingWidth:"wide"})};function Qn(r){return(a,i={})=>{const o=i.width,d=o&&r.matchPatterns[o]||r.matchPatterns[r.defaultMatchWidth],m=a.match(d);if(!m)return null;const f=m[0],h=o&&r.parsePatterns[o]||r.parsePatterns[r.defaultParseWidth],b=Array.isArray(h)?fv(h,y=>y.test(f)):mv(h,y=>y.test(f));let p;p=r.valueCallback?r.valueCallback(b):b,p=i.valueCallback?i.valueCallback(p):p;const g=a.slice(f.length);return{value:p,rest:g}}}function mv(r,a){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&a(r[i]))return i}function fv(r,a){for(let i=0;i<r.length;i++)if(a(r[i]))return i}function pv(r){return(a,i={})=>{const o=a.match(r.matchPattern);if(!o)return null;const d=o[0],m=a.match(r.parsePattern);if(!m)return null;let f=r.valueCallback?r.valueCallback(m[0]):m[0];f=i.valueCallback?i.valueCallback(f):f;const h=a.slice(d.length);return{value:f,rest:h}}}const hv=/^(\d+)(th|st|nd|rd)?/i,xv=/\d+/i,gv={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yv={any:[/^b/i,/^(a|c)/i]},vv={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bv={any:[/1/i,/2/i,/3/i,/4/i]},jv={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wv={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nv={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_v={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kv={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sv={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cv={ordinalNumber:pv({matchPattern:hv,parsePattern:xv,valueCallback:r=>parseInt(r,10)}),era:Qn({matchPatterns:gv,defaultMatchWidth:"wide",parsePatterns:yv,defaultParseWidth:"any"}),quarter:Qn({matchPatterns:vv,defaultMatchWidth:"wide",parsePatterns:bv,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Qn({matchPatterns:jv,defaultMatchWidth:"wide",parsePatterns:wv,defaultParseWidth:"any"}),day:Qn({matchPatterns:Nv,defaultMatchWidth:"wide",parsePatterns:_v,defaultParseWidth:"any"}),dayPeriod:Qn({matchPatterns:kv,defaultMatchWidth:"any",parsePatterns:Sv,defaultParseWidth:"any"})},Ev={code:"en-US",formatDistance:Jy,formatLong:tv,formatRelative:rv,localize:uv,match:Cv,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pv(r,a,i){const o=Uy(),d=i?.locale??o.locale??Ev,m=2520,f=Cl(r,a);if(isNaN(f))throw new RangeError("Invalid time value");const h=Object.assign({},i,{addSuffix:i?.addSuffix,comparison:f});let b,p;f>0?(b=nt(a),p=nt(r)):(b=nt(r),p=nt(a));const g=Qy(p,b),y=(Zm(p)-Zm(b))/1e3,_=Math.round((g-y)/60);let C;if(_<2)return i?.includeSeconds?g<5?d.formatDistance("lessThanXSeconds",5,h):g<10?d.formatDistance("lessThanXSeconds",10,h):g<20?d.formatDistance("lessThanXSeconds",20,h):g<40?d.formatDistance("halfAMinute",0,h):g<60?d.formatDistance("lessThanXMinutes",1,h):d.formatDistance("xMinutes",1,h):_===0?d.formatDistance("lessThanXMinutes",1,h):d.formatDistance("xMinutes",_,h);if(_<45)return d.formatDistance("xMinutes",_,h);if(_<90)return d.formatDistance("aboutXHours",1,h);if(_<Xm){const j=Math.round(_/60);return d.formatDistance("aboutXHours",j,h)}else{if(_<m)return d.formatDistance("xDays",1,h);if(_<bl){const j=Math.round(_/Xm);return d.formatDistance("xDays",j,h)}else if(_<bl*2)return C=Math.round(_/bl),d.formatDistance("aboutXMonths",C,h)}if(C=Yy(p,b),C<12){const j=Math.round(_/bl);return d.formatDistance("xMonths",j,h)}else{const j=C%12,w=Math.trunc(C/12);return j<3?d.formatDistance("aboutXYears",w,h):j<9?d.formatDistance("overXYears",w,h):d.formatDistance("almostXYears",w+1,h)}}function Tv(r,a){return Pv(r,By(r),a)}function Wl(...r){return Dy(r)}function pt(r){if(!r)return"Unknown";const a=new Date(r);return isNaN(a.getTime())?"Unknown":Tv(a,{addSuffix:!0})}function cs(r){return`${r.toLocaleString()} GeoCoin${r!==1?"s":""}`}function ef(r){return typeof r=="string"?{mode1_friendly:"Friendly Battle",mode2_competitive:"Competitive Battle",mode3_ultimate:"Ultimate Battle"}[r]||"Unknown Mode":{1:"Friendly Battle",2:"Competitive Battle",3:"Ultimate Battle"}[r]||"Unknown Mode"}function Rv(r){return typeof r=="string"?{mode1_friendly:"Friendly battle - No cards at stake",mode2_competitive:"Competitive - Winner takes defeated cards per phase",mode3_ultimate:"Ultimate - Winner takes all losing cards"}[r]||"":{1:"Friendly battle - No cards at stake",2:"Competitive - Winner takes defeated cards per phase",3:"Ultimate - Winner takes all losing cards"}[r]||""}function tp(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}function Av(r){const a=/^[a-zA-Z0-9_]{3,20}$/.test(r),i=/\d/.test(r);return a&&i}function sp(r){const a=[];return r.length<8&&a.push("Password must be at least 8 characters"),/[A-Z]/.test(r)||a.push("Password must contain at least one uppercase letter"),/[a-z]/.test(r)||a.push("Password must contain at least one lowercase letter"),/[0-9]/.test(r)||a.push("Password must contain at least one number"),/[!@#$%^&*(),.?":{}|<>]/.test(r)||a.push("Password must contain at least one special character"),{isValid:a.length===0,errors:a}}function Lv(){const{user:r,logout:a}=Ge(),i=r?.account_type_name==="parent",o=r?.account_type_name==="admin"||r?.account_type_name==="sysadmin"||r?.account_type_name==="god",d=async()=>{try{await Xs.logout(),a(),window.location.href="/login"}catch(f){console.error("Logout error:",f)}},m=[{to:"/dashboard",icon:Yf,label:"Dashboard"},{to:"/collection",icon:ft,label:"Collection"},{to:"/battles",icon:Kt,label:"Battles"},{to:"/marketplace",icon:Jf,label:"Marketplace"},{to:"/trading",icon:la,label:"Trading"},{to:"/friends",icon:Js,label:"Friends"},{to:"/chat",icon:Jr,label:"Chat"},{to:"/settings",icon:Kf,label:"Settings"}];return i&&m.push({to:"/parent-controls",icon:ic,label:"Parent Controls"}),o&&m.push({to:"/admin/card-templates",icon:ea,label:"Admin Panel"}),e.jsxs("aside",{className:"flex w-64 flex-col bg-space-800/80 backdrop-blur-md border-r-2 border-space-600/50",children:[e.jsx("div",{className:"flex h-20 items-center justify-center border-b-2 border-space-600/50 px-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nr,{className:"h-6 w-6 text-cyan-400"}),e.jsx("img",{src:"/images/geologoflat.png",alt:"GEOBEASTS",className:"h-8 w-auto site-side-logo"})]})}),e.jsx("nav",{className:"flex-1 space-y-2 p-4",children:m.map(f=>e.jsxs(Xo,{to:f.to,className:({isActive:h})=>Wl("flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold transition-all duration-300",h?"bg-space-700/80 text-cyan-300 shadow-glow-sm":"text-gray-400 hover:bg-space-700/50 hover:text-cyan-300"),style:({isActive:h})=>h?{boxShadow:"0 0 20px rgba(0, 245, 255, 0.3), inset 0 0 20px rgba(0, 245, 255, 0.1)"}:{},end:f.to==="/",children:[e.jsx(f.icon,{className:"h-5 w-5"}),e.jsx("span",{children:f.label})]},f.to))}),e.jsxs("div",{className:"border-t-2 border-space-600/50 p-4",children:[e.jsxs("div",{className:"mb-3 rounded-xl bg-space-700/50 p-3 border border-space-600/50",children:[e.jsx("p",{className:"text-sm font-bold text-cyan-300",children:r?.username}),e.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[r?.account_type_name," Account"]})]}),e.jsxs("button",{onClick:d,className:"flex w-full items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold text-red-400 transition-all duration-300 hover:bg-red-900/30 hover:text-red-300",style:{boxShadow:"none"},onMouseEnter:f=>f.currentTarget.style.boxShadow="0 0 15px rgba(255, 100, 100, 0.3)",onMouseLeave:f=>f.currentTarget.style.boxShadow="none",children:[e.jsx(Py,{className:"h-5 w-5"}),e.jsx("span",{children:"Logout"})]})]})]})}const ql=vf()(bf((r,a)=>({cart:null,isLoading:!1,isOpen:!1,setCart:i=>r({cart:i}),setLoading:i=>r({isLoading:i}),setOpen:i=>r({isOpen:i}),toggleCart:()=>r(i=>({isOpen:!i.isOpen})),addItem:async(i,o=1)=>{try{r({isLoading:!0});const{cartApi:d}=await hr(async()=>{const{cartApi:f}=await Promise.resolve().then(()=>xr);return{cartApi:f}},void 0);(await d.addToCart(i.product_id,o,"GBP")).data.success&&(await a().fetchCart(),r({isOpen:!0}))}catch(d){throw console.error("Failed to add item to cart:",d),d}finally{r({isLoading:!1})}},updateItem:async(i,o)=>{try{r({isLoading:!0});const{cartApi:d}=await hr(async()=>{const{cartApi:m}=await Promise.resolve().then(()=>xr);return{cartApi:m}},void 0);await d.updateCartItem(i,o),await a().fetchCart()}catch(d){throw console.error("Failed to update cart item:",d),d}finally{r({isLoading:!1})}},removeItem:async i=>{try{r({isLoading:!0});const{cartApi:o}=await hr(async()=>{const{cartApi:d}=await Promise.resolve().then(()=>xr);return{cartApi:d}},void 0);await o.removeFromCart(i),await a().fetchCart()}catch(o){throw console.error("Failed to remove cart item:",o),o}finally{r({isLoading:!1})}},clearCart:async()=>{try{r({isLoading:!0});const{cartApi:i}=await hr(async()=>{const{cartApi:o}=await Promise.resolve().then(()=>xr);return{cartApi:o}},void 0);await i.clearCart(),r({cart:null})}catch(i){throw console.error("Failed to clear cart:",i),i}finally{r({isLoading:!1})}},fetchCart:async()=>{try{r({isLoading:!0});const{cartApi:i}=await hr(async()=>{const{cartApi:d}=await Promise.resolve().then(()=>xr);return{cartApi:d}},void 0),o=await i.getCart();if(o.data.success){let d=o.data.data?.cart||o.data.message?.cart;d&&(d={...d,subtotal:parseFloat(d.subtotal),discount:parseFloat(d.discount),total:parseFloat(d.total),total_credits:parseInt(d.total_credits),items:d.items.map(m=>({...m,quantity:parseInt(m.quantity),price_at_add:parseFloat(m.price_at_add),discount_amount:parseFloat(m.discount_amount),item_total:parseFloat(m.item_total),credits_amount:m.credits_amount?parseInt(m.credits_amount):null,bonus_credits:parseInt(m.bonus_credits)}))},r({cart:d}))}}catch(i){console.error("Failed to fetch cart:",i)}finally{r({isLoading:!1})}},applyPromoCode:async i=>{try{r({isLoading:!0});const{cartApi:o}=await hr(async()=>{const{cartApi:m}=await Promise.resolve().then(()=>xr);return{cartApi:m}},void 0),d=await o.applyPromoCode(i);return d.data.success&&await a().fetchCart(),d.data}catch(o){throw console.error("Failed to apply promo code:",o),o}finally{r({isLoading:!1})}}}),{name:"cart-storage",partialize:r=>({isOpen:r.isOpen})}));function Fv(){const{cart:r,toggleCart:a,fetchCart:i}=ql(),{isAuthenticated:o}=Ge();if(v.useEffect(()=>{o&&i()},[o]),!o)return null;const d=r?.item_count||0;return e.jsxs("button",{onClick:a,className:"relative p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Shopping cart",children:[e.jsx(jr,{className:"h-6 w-6"}),d>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d>9?"9+":d})]})}function Ov(){const{user:r}=Ge(),[a,i]=v.useState(0);return v.useEffect(()=>{const o=async()=>{try{const d=await Kr.getUnreadCount();i(d.data.data?.unread_count||0)}catch(d){console.error("Failed to fetch unread notification count:",d)}};if(r){o();const d=setInterval(o,3e4);return()=>clearInterval(d)}},[r]),e.jsxs("header",{className:"flex h-20 items-center justify-between border-b-2 border-space-600/50 bg-space-800/60 backdrop-blur-md px-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("h2",{className:"text-xl font-bold text-white",children:["Welcome back, ",e.jsx("span",{className:"text-cyan-300",children:r?.given_name||r?.username}),"!"]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(We,{to:"/shop",className:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border border-yellow-500/50 px-4 py-2 text-sm font-bold text-yellow-300 transition-all duration-300 hover:from-yellow-600/30 hover:to-orange-600/30",style:{boxShadow:"0 0 15px rgba(255, 200, 0, 0.2)"},children:[e.jsx(vr,{className:"h-4 w-4"}),e.jsx("span",{children:cs(r?.credits_balance||0)})]}),e.jsx("div",{className:"rounded-xl text-gray-400 transition-all duration-300 hover:bg-space-700/50 hover:text-cyan-300",children:e.jsx(Fv,{})}),e.jsxs(We,{to:"/notifications",className:"relative rounded-xl p-3 text-gray-400 transition-all duration-300 hover:bg-space-700/50 hover:text-cyan-300",children:[e.jsx(nc,{className:"h-5 w-5"}),a>0&&e.jsxs("span",{className:"absolute top-2 right-2 flex h-2.5 w-2.5",children:[e.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-pink-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex h-2.5 w-2.5 rounded-full bg-pink-500",style:{boxShadow:"0 0 8px rgba(255, 0, 255, 0.6)"}})]})]}),e.jsx(We,{to:"/profile",className:"flex items-center gap-2 rounded-xl p-2 text-gray-400 transition-all duration-300 hover:bg-space-700/50 hover:text-cyan-300",children:r?.avatar_url?e.jsx("img",{src:r.avatar_url,alt:r.username,className:"h-10 w-10 rounded-full border-2 border-cyan-500/50",style:{boxShadow:"0 0 10px rgba(0, 245, 255, 0.3)"}}):e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 text-white border-2 border-cyan-400/50",style:{boxShadow:"0 0 15px rgba(0, 245, 255, 0.4)"},children:e.jsx(Qt,{className:"h-5 w-5"})})})]})]})}function Mv(){return e.jsxs("div",{className:"flex h-screen overflow-hidden",children:[e.jsx(Lv,{}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(Ov,{}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e.jsx(Ml,{})})]})]})}function Dv(){const{isAuthenticated:r}=Ge();return r?e.jsx(fc,{to:"/dashboard",replace:!0}):e.jsxs("div",{className:"flex min-h-screen relative overflow-hidden",children:[e.jsxs("div",{className:"flex flex-1 flex-col justify-center py-12 px-4 sm:px-6 lg:px-8 relative z-10",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[e.jsx(Nr,{className:"h-10 w-10 text-cyan-400 animate-pulse"}),e.jsx("img",{src:"/images/geologoflat.png",alt:"GEOBEASTS"})]}),e.jsx("p",{className:"mt-2 text-lg font-bold text-cyan-300 uppercase tracking-widest",children:"Battle Card Game"})]})}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-space-800/90 backdrop-blur-md py-8 px-4 sm:rounded-2xl sm:px-10 border-2 border-space-600/50",style:{boxShadow:"0 0 40px rgba(0, 245, 255, 0.15), 0 20px 60px rgba(0,0,0,0.5)"},children:e.jsx(Ml,{})})}),e.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:e.jsx("p",{children:" 2025 GeoBeasts. All rights reserved."})})]}),e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 rounded-full animate-float",style:{background:"radial-gradient(circle, rgba(0, 245, 255, 0.15) 0%, transparent 70%)",filter:"blur(40px)"}}),e.jsx("div",{className:"absolute bottom-20 right-20 w-80 h-80 rounded-full animate-float",style:{background:"radial-gradient(circle, rgba(170, 0, 255, 0.15) 0%, transparent 70%)",filter:"blur(40px)",animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/2 right-1/4 w-64 h-64 rounded-full animate-float",style:{background:"radial-gradient(circle, rgba(255, 0, 255, 0.1) 0%, transparent 70%)",filter:"blur(30px)",animationDelay:"4s"}}),e.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-48 h-48 rounded-full animate-float",style:{background:"radial-gradient(circle, rgba(255, 200, 0, 0.1) 0%, transparent 70%)",filter:"blur(25px)",animationDelay:"1s"}})]})]})}function zv(){const r=[{to:"/admin",icon:Yf,label:"Dashboard",end:!0},{to:"/admin/card-templates",icon:ft,label:"Card Templates"},{to:"/admin/card-types",icon:lc,label:"Card Types"},{to:"/admin/card-status",icon:bc,label:"Rarity/Status"},{to:"/admin/users",icon:Js,label:"Users"},{to:"/admin/promotions",icon:_y,label:"Promotions"}];return e.jsxs("div",{className:"flex h-screen bg-space-900",children:[e.jsxs("aside",{className:"w-64 bg-space-800/80 backdrop-blur-md border-r-2 border-space-600/50 flex flex-col",children:[e.jsx("div",{className:"h-20 flex items-center justify-between border-b-2 border-space-600/50 px-6",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-cyan-300 text-glow-sm",children:"Admin Panel"}),e.jsx("p",{className:"text-xs text-gray-400",children:"System Management"})]})}),e.jsx("nav",{className:"flex-1 space-y-1 p-4",children:r.map(a=>e.jsxs(Xo,{to:a.to,end:a.end,className:({isActive:i})=>Wl("flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold transition-all duration-300",i?"bg-space-700/80 text-cyan-300 shadow-glow-sm":"text-gray-400 hover:bg-space-700/50 hover:text-cyan-300"),style:({isActive:i})=>i?{boxShadow:"0 0 20px rgba(0, 245, 255, 0.3), inset 0 0 20px rgba(0, 245, 255, 0.1)"}:{},children:[e.jsx(a.icon,{className:"h-5 w-5"}),e.jsx("span",{children:a.label})]},a.to))}),e.jsx("div",{className:"border-t-2 border-space-600/50 p-4",children:e.jsxs(Xo,{to:"/",className:"flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold text-gray-400 hover:bg-space-700/50 hover:text-cyan-300 transition-all duration-300",children:[e.jsx($l,{className:"h-5 w-5"}),e.jsx("span",{children:"Back to App"})]})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto p-8",children:e.jsx(Ml,{})})]})}function Iv(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-space-900 via-space-800 to-purple-900",children:[e.jsxs("div",{className:"container mx-auto px-4 py-16",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("img",{src:"/images/geologoflat.png",alt:"GEOBEASTS",className:"h-32"})}),e.jsx("p",{className:"text-2xl text-white text-glow-sm mb-2",children:"Collect, Battle & Trade Geological Trading Cards"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Discover the power of Earth's minerals in an epic card game adventure"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs(We,{to:"/register",className:"btn-primary text-lg px-8 py-3",children:["Start Your Journey",e.jsx(ls,{className:"h-5 w-5"})]}),e.jsx(We,{to:"/login",className:"btn-secondary text-lg px-8 py-3",children:"Login"})]})]}),e.jsxs("div",{className:"card p-8 mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-8",children:"Powerful Mineral Cards"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8 justify-items-center",children:[e.jsx("div",{className:"transform scale-75 origin-top",dangerouslySetInnerHTML:{__html:'<div class="geob-card geob-basic geob-lifted transition-all duration-300" style="font-size: 20px; position: relative; font-family: Futura, sans-serif; padding: 1em; max-width: 30em; width: 30em; border: 0px; border-radius: 15px; color: rgb(17, 17, 17); background-color: rgba(0, 0, 0, 0); background-position: 0% 0%, 0% 0%, 0% 0%; background-repeat: no-repeat; background-attachment: scroll, scroll, scroll; background-image: linear-gradient(70deg, rgb(71, 71, 71) 0%, rgb(134, 134, 134) 100%), linear-gradient(90deg, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.02) 50%, rgba(255, 255, 255, 0.18) 100%), repeating-linear-gradient(90deg, rgba(0, 0, 0, 0.04) 0px, rgba(0, 0, 0, 0.04) 1px, rgba(255, 255, 255, 0.02) 1px, rgba(255, 255, 255, 0.02) 3px); background-size: cover, 100% 60%, 100% 4px; background-origin: padding-box, padding-box, padding-box; background-clip: border-box, border-box, border-box; background-blend-mode: normal, overlay, multiply; box-shadow: rgba(255, 255, 255, 0.35) 0px 2px 6px inset, rgba(0, 0, 0, 0.06) 0px -2px 8px inset, rgba(0, 0, 0, 0.4) 5px 5px 5px, black 5px 5px 5px;"><div class="geob-card-content geob-flat" style="display: block; position: relative; background: rgb(35, 5, 103); border-radius: 10px; padding: 0px; border: 1px solid rgb(0, 0, 85);"><div class="geob-status geob-legend" style="box-shadow: rgb(51, 51, 51) -2px 3px 0px; font-size: 1.1em; position: absolute; left: 16em; width: 9em; top: -0.8em; border-radius: 0.7em; padding: 0.1em 0.5em; font-style: italic; float: right; color: white; background: linear-gradient(45deg, rgb(66, 1, 106) 0%, rgb(143, 0, 88) 100%); z-index: 10;">LEGENDARY</div><div class="geob-name" style="text-shadow: rgb(17, 17, 17) 0.1em 0.1em 0px; font-size: 1.6em; background: linear-gradient(70deg, rgb(51, 153, 153) 0%, rgb(102, 204, 204)); margin: 0px; padding: 0.3em; top: 0px; border-radius: 10px 10px 0px 0px; color: white;"><h2 style="margin: 0px; color: inherit;">Diamond Crusher</h2><p style="margin: 0px; font-size: 0.7em; color: inherit;">A majestic crystalline titan that towers over the battlefield.</p></div><div class="geob-scores" style="clear: both; background: linear-gradient(90deg, rgb(33, 3, 116) 0%, rgb(2, 66, 130) 100%); padding: 0.2em 0px;"><ul style="list-style: none; margin: 0px; padding: 0px; text-align: center;"><li style="float: left; padding-left: 1.2em; margin: 0px 1.8em; text-align: center; color: rgb(242, 203, 8); font-weight: bolder;">SPEED<br><div style="font-weight: bold; font-size: 2.5em; color: rgb(255, 189, 33); text-shadow: rgb(17, 17, 17) 0.1em 0.1em 0px;">60</div></li><li style="float: left; padding-left: 1.2em; margin: 0px 1.8em; text-align: center; color: rgb(242, 203, 8); font-weight: bolder;">ATTACK<br><div style="font-weight: bold; font-size: 2.5em; color: rgb(0, 170, 0); text-shadow: rgb(17, 17, 17) 0.1em 0.1em 0px;">75</div></li><li style="float: left; padding-left: 1.2em; margin: 0px 1.8em; text-align: center; color: rgb(242, 203, 8); font-weight: bolder;">DEFENCE<br><div style="font-weight: bold; font-size: 2.5em; color: rgb(0, 170, 0); text-shadow: rgb(17, 17, 17) 0.1em 0.1em 0px;">100</div></li></ul><div style="clear: both; visibility: hidden; max-height: 0px; max-width: 0px;">.</div></div><div class="geob-image" style="overflow: hidden; width: 30em; height: 15em; margin-top: 0.5em; position: relative;"><img src="/images/diamondcrusher.png" title="card image" style="width: 27.7em; float: left; display: block;"></div><div class="geob-beast-attack" style="color: rgb(3, 14, 81); background: linear-gradient(to right, rgba(54, 54, 54, 0.9), rgba(89, 84, 84, 0.6)); padding: 0.8em; float: left; margin-top: -5em; width: 28em; border-radius: 0px 1em 1em 0px; min-height: 5em; position: relative; z-index: 10;"><h2 style="opacity: 1; color: white; margin: 0px;">Crystal Strike <span style="text-decoration: none; background: rgb(0, 170, 0); color: white; font-size: 2em; font-weight: bolder; box-shadow: rgba(255, 255, 255, 0.35) 0px 2px 6px inset, rgba(0, 0, 0, 0.06) 0px -2px 8px inset, rgba(0, 0, 0, 0.4) 5px 5px 5px; float: right; padding: 0px 0.2em; border-radius: 2em; margin-left: 1em;"></span></h2><p style="color: white;">A majestic crystalline titan that towers over the battlefield.</p></div><div class="geob-card-facts" style="background: rgb(25, 3, 77); border-radius: 1em; padding: 0.5em; min-height: 10em; clear: both; margin: 0px 0.4em; box-shadow: rgb(102, 204, 204) -2px 0px 0px;"><h2 style="color: rgb(211, 2, 2); vertical-align: middle; margin: auto; padding-top: 0.5em;">Science fact</h2><p style="color: white;">Diamonds are the hardest material on Earth and can cut through almost anything! They sparkle with rainbow colours and are so rare that pirates and kings hunted for them.</p></div></div></div>'}}),e.jsx("div",{className:"transform scale-75 origin-top",dangerouslySetInnerHTML:{__html:'<div class="geob-card geob-basic geob-lifted transition-all duration-300" style="font-size: 20px; position: relative; font-family: Futura, sans-serif; padding: 1em; max-width: 30em; width: 30em; border: 0px; border-radius: 15px; color: rgb(17, 17, 17); background-color: rgba(0, 0, 0, 0); background-position: 0% 0%, 0% 0%, 0% 0%; background-repeat: no-repeat; background-attachment: scroll, scroll, scroll; background-image: linear-gradient(70deg, rgb(71, 71, 71) 0%, rgb(134, 134, 134) 100%), linear-gradient(90deg, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.02) 50%, rgba(255, 255, 255, 0.18) 100%), repeating-linear-gradient(90deg, rgba(0, 0, 0, 0.04) 0px, rgba(0, 0, 0, 0.04) 1px, rgba(255, 255, 255, 0.02) 1px, rgba(255, 255, 255, 0.02) 3px); background-size: cover, 100% 60%, 100% 4px; background-origin: padding-box, padding-box, padding-box; background-clip: border-box, border-box, border-box; background-blend-mode: normal, overlay, multiply; box-shadow: rgba(255, 255, 255, 0.35) 0px 2px 6px inset, rgba(0, 0, 0, 0.06) 0px -2px 8px inset, rgba(0, 0, 0, 0.4) 5px 5px 5px, black 5px 5px 5px;"><div class="geob-card-content geob-flat" style="display: block; position: relative; background: rgb(80, 15, 15); border-radius: 10px; padding: 0px; border: 1px solid rgb(0, 0, 85);"><div class="geob-status geob-legend" style="box-shadow: rgb(51, 51, 51) -2px 3px 0px; font-size: 1.1em; position: absolute; left: 16em; width: 9em; top: -0.8em; border-radius: 0.7em; padding: 0.1em 0.5em; font-style: italic; float: right; color: white; background: linear-gradient(45deg, rgb(107, 33, 168) 0%, rgb(147, 51, 234) 100%); z-index: 10;">EPIC</div><div class="geob-name" style="text-shadow: rgb(17, 17, 17) 0.1em 0.1em 0px; font-size: 1.6em; background: linear-gradient(70deg, rgb(153, 27, 27) 0%, rgb(220, 38, 38)); margin: 0px; padding: 0.3em; top: 0px; border-radius: 10px 10px 0px 0px; color: white;"><h2 style="margin: 0px; color: inherit;">Obsidian Warrior</h2><p style="margin: 0px; font-size: 0.7em; color: inherit;">A fierce fighter forged from volcanic glass. The Obsidian Warrior is fast and super sharp!</p></div><div class="geob-scores" style="clear: both; background: linear-gradient(90deg, rgb(33, 3, 116) 0%, rgb(2, 66, 130) 100%); padding: 0.2em 0px;"><ul style="list-style: none; margin: 0px; padding: 0px; text-align: center;"><li style="float: left; padding-left: 1.2em; margin: 0px 1.8em; text-align: center; color: rgb(242, 203, 8); font-weight: bolder;">SPEED<br><div style="font-weight: bold; font-size: 2.5em; color: rgb(255, 189, 33); text-shadow: rgb(17, 17, 17) 0.1em 0.1em 0px;">75</div></li><li style="float: left; padding-left: 1.2em; margin: 0px 1.8em; text-align: center; color: rgb(242, 203, 8); font-weight: bolder;">ATTACK<br><div style="font-weight: bold; font-size: 2.5em; color: rgb(0, 170, 0); text-shadow: rgb(17, 17, 17) 0.1em 0.1em 0px;">80</div></li><li style="float: left; padding-left: 1.2em; margin: 0px 1.8em; text-align: center; color: rgb(242, 203, 8); font-weight: bolder;">DEFENCE<br><div style="font-weight: bold; font-size: 2.5em; color: rgb(0, 170, 0); text-shadow: rgb(17, 17, 17) 0.1em 0.1em 0px;">70</div></li></ul><div style="clear: both; visibility: hidden; max-height: 0px; max-width: 0px;">.</div></div><div class="geob-image" style="overflow: hidden; width: 30em; height: 15em; margin-top: 0.5em; position: relative;"><img src="/images/obsidian_warrior.png" title="card image" style="width: 27.7em; float: left; display: block;"></div><div class="geob-beast-attack" style="color: rgb(3, 14, 81); background: linear-gradient(to right, rgba(54, 54, 54, 0.9), rgba(89, 84, 84, 0.6)); padding: 0.8em; float: left; margin-top: -5em; width: 28em; border-radius: 0px 1em 1em 0px; min-height: 5em; position: relative; z-index: 10;"><h2 style="opacity: 1; color: white; margin: 0px;">Igneous Strike <span style="text-decoration: none; background: rgb(0, 170, 0); color: white; font-size: 2em; font-weight: bolder; box-shadow: rgba(255, 255, 255, 0.35) 0px 2px 6px inset, rgba(0, 0, 0, 0.06) 0px -2px 8px inset, rgba(0, 0, 0, 0.4) 5px 5px 5px; float: right; padding: 0px 0.2em; border-radius: 2em; margin-left: 1em;"></span></h2><p style="color: white;">A fierce fighter forged from volcanic glass. Fast, sharp and deadly!</p></div><div class="geob-card-facts" style="background: rgb(25, 3, 77); border-radius: 1em; padding: 0.5em; min-height: 10em; clear: both; margin: 0px 0.4em; box-shadow: rgb(239, 68, 68) -2px 0px 0px;"><h2 style="color: rgb(211, 2, 2); vertical-align: middle; margin: auto; padding-top: 0.5em;">Science fact</h2><p style="color: white;">Obsidian is volcanic glass formed when lava cools so quickly that crystals cannot form. Ancient people used obsidian to make extremely sharp tools and weapons!</p></div></div></div>'}}),e.jsx("div",{className:"transform scale-75 origin-top",dangerouslySetInnerHTML:{__html:'<div class="geob-card geob-basic geob-lifted transition-all duration-300" style="font-size: 20px; position: relative; font-family: Futura, sans-serif; padding: 1em; max-width: 30em; width: 30em; border: 0px; border-radius: 15px; color: rgb(17, 17, 17); background-color: rgba(0, 0, 0, 0); background-position: 0% 0%, 0% 0%, 0% 0%; background-repeat: no-repeat; background-attachment: scroll, scroll, scroll; background-image: linear-gradient(70deg, rgb(71, 71, 71) 0%, rgb(134, 134, 134) 100%), linear-gradient(90deg, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.02) 50%, rgba(255, 255, 255, 0.18) 100%), repeating-linear-gradient(90deg, rgba(0, 0, 0, 0.04) 0px, rgba(0, 0, 0, 0.04) 1px, rgba(255, 255, 255, 0.02) 1px, rgba(255, 255, 255, 0.02) 3px); background-size: cover, 100% 60%, 100% 4px; background-origin: padding-box, padding-box, padding-box; background-clip: border-box, border-box, border-box; background-blend-mode: normal, overlay, multiply; box-shadow: rgba(255, 255, 255, 0.35) 0px 2px 6px inset, rgba(0, 0, 0, 0.06) 0px -2px 8px inset, rgba(0, 0, 0, 0.4) 5px 5px 5px, black 5px 5px 5px;"><div class="geob-card-content geob-flat" style="display: block; position: relative; background: rgb(55, 10, 85); border-radius: 10px; padding: 0px; border: 1px solid rgb(0, 0, 85);"><div class="geob-status geob-legend" style="box-shadow: rgb(51, 51, 51) -2px 3px 0px; font-size: 1.1em; position: absolute; left: 16em; width: 9em; top: -0.8em; border-radius: 0.7em; padding: 0.1em 0.5em; font-style: italic; float: right; color: white; background: linear-gradient(45deg, rgb(107, 33, 168) 0%, rgb(147, 51, 234) 100%); z-index: 10;">EPIC</div><div class="geob-name" style="text-shadow: rgb(17, 17, 17) 0.1em 0.1em 0px; font-size: 1.6em; background: linear-gradient(70deg, rgb(107, 33, 168) 0%, rgb(168, 85, 247)); margin: 0px; padding: 0.3em; top: 0px; border-radius: 10px 10px 0px 0px; color: white;"><h2 style="margin: 0px; color: inherit;">Marble Monk</h2><p style="margin: 0px; font-size: 0.7em; color: inherit;">A wise stone sage with centuries of geological knowledge.</p></div><div class="geob-scores" style="clear: both; background: linear-gradient(90deg, rgb(33, 3, 116) 0%, rgb(2, 66, 130) 100%); padding: 0.2em 0px;"><ul style="list-style: none; margin: 0px; padding: 0px; text-align: center;"><li style="float: left; padding-left: 1.2em; margin: 0px 1.8em; text-align: center; color: rgb(242, 203, 8); font-weight: bolder;">SPEED<br><div style="font-weight: bold; font-size: 2.5em; color: rgb(255, 189, 33); text-shadow: rgb(17, 17, 17) 0.1em 0.1em 0px;">45</div></li><li style="float: left; padding-left: 1.2em; margin: 0px 1.8em; text-align: center; color: rgb(242, 203, 8); font-weight: bolder;">ATTACK<br><div style="font-weight: bold; font-size: 2.5em; color: rgb(0, 170, 0); text-shadow: rgb(17, 17, 17) 0.1em 0.1em 0px;">55</div></li><li style="float: left; padding-left: 1.2em; margin: 0px 1.8em; text-align: center; color: rgb(242, 203, 8); font-weight: bolder;">DEFENCE<br><div style="font-weight: bold; font-size: 2.5em; color: rgb(0, 170, 0); text-shadow: rgb(17, 17, 17) 0.1em 0.1em 0px;">95</div></li></ul><div style="clear: both; visibility: hidden; max-height: 0px; max-width: 0px;">.</div></div><div class="geob-image" style="overflow: hidden; width: 30em; height: 15em; margin-top: 0.5em; position: relative;"><img src="/images/marblemonk.png" title="card image" style="width: 27.7em; float: left; display: block;"></div><div class="geob-beast-attack" style="color: rgb(3, 14, 81); background: linear-gradient(to right, rgba(54, 54, 54, 0.9), rgba(89, 84, 84, 0.6)); padding: 0.8em; float: left; margin-top: -5em; width: 28em; border-radius: 0px 1em 1em 0px; min-height: 5em; position: relative; z-index: 10;"><h2 style="opacity: 1; color: white; margin: 0px;">Metamorphic Strike <span style="text-decoration: none; background: rgb(0, 170, 0); color: white; font-size: 2em; font-weight: bolder; box-shadow: rgba(255, 255, 255, 0.35) 0px 2px 6px inset, rgba(0, 0, 0, 0.06) 0px -2px 8px inset, rgba(0, 0, 0, 0.4) 5px 5px 5px; float: right; padding: 0px 0.2em; border-radius: 2em; margin-left: 1em;"></span></h2><p style="color: white;">A wise stone sage with centuries of geological knowledge.</p></div><div class="geob-card-facts" style="background: rgb(25, 3, 77); border-radius: 1em; padding: 0.5em; min-height: 10em; clear: both; margin: 0px 0.4em; box-shadow: rgb(168, 85, 247) -2px 0px 0px;"><h2 style="color: rgb(211, 2, 2); vertical-align: middle; margin: auto; padding-top: 0.5em;">Science fact</h2><p style="color: white;">Marble is limestone that has been transformed by heat and pressure deep underground. Famous sculptures like the Statue of David are carved from marble!</p></div></div></div>'}})]}),e.jsx("p",{className:"text-center text-gray-300",children:"Collect over 50 unique mineral cards, each with special abilities and stats!"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16",children:[e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-cyan-500/20 flex items-center justify-center",children:e.jsx(Nr,{className:"h-8 w-8 text-cyan-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Collect Cards"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Open booster packs and build your collection of rare geological minerals"})]}),e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:e.jsx(Kt,{className:"h-8 w-8 text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Epic Battles"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Challenge friends to strategic card battles and climb the leaderboard"})]}),e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-purple-500/20 flex items-center justify-center",children:e.jsx(Fy,{className:"h-8 w-8 text-purple-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Trade & Sell"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Trade cards with friends or sell on the marketplace for in-game GeoCoins"})]}),e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-500/20 flex items-center justify-center",children:e.jsx(Js,{className:"h-8 w-8 text-green-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Connect"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Make friends, chat safely, and build your GeoBeasts community"})]})]}),e.jsxs("div",{className:"card p-8 mb-16 border-2 border-green-500/50 bg-gradient-to-br from-green-500/10 to-emerald-500/10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center",children:e.jsx(ea,{className:"h-6 w-6 text-green-400"})}),e.jsx("h2",{className:"text-3xl font-bold text-white",children:"Built with Child Safety at Our Core"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(My,{className:"h-5 w-5 text-green-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Parent Accounts"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Parents can create child accounts and monitor all activity, friend requests, and communications"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(os,{className:"h-5 w-5 text-green-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Secure Friend System"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Friend requests require exact username matches (with numbers) or unique friend codes - no random discovery"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(en,{className:"h-5 w-5 text-green-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Activity Logging"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"All child actions are logged and visible to parents, including trades, battles, and messages"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(Zn,{className:"h-5 w-5 text-green-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Email Verification"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"All accounts require verified email addresses before accessing the platform"})]})]})]}),e.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:e.jsxs("p",{className:"text-white text-center",children:[e.jsx("strong",{children:"Parents:"})," You have full control and visibility over your child's experience. Create a parent account first, then add child accounts to monitor their GeoBeasts journey."]})})]}),e.jsxs("div",{className:"card p-8 mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-8",children:"How GeoBeasts Works"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-cyan-500/20 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl font-bold text-cyan-400",children:"1"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Create Account"}),e.jsx("p",{className:"text-gray-300",children:"Sign up as a parent or individual player. Parents can create child accounts for safe play."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-purple-500/20 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl font-bold text-purple-400",children:"2"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Build Collection"}),e.jsx("p",{className:"text-gray-300",children:"Open booster packs, trade with friends, and hunt for rare legendary minerals."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-pink-500/20 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl font-bold text-pink-400",children:"3"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Battle & Trade"}),e.jsx("p",{className:"text-gray-300",children:"Challenge friends to battles, trade duplicate cards, and become a GeoBeasts champion!"})]})]})]}),e.jsxs("div",{className:"card p-12 text-center bg-gradient-to-r from-cyan-500/20 to-purple-500/20 border-2 border-cyan-500/50",children:[e.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Ready to Start Your Adventure?"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Join thousands of players collecting, battling, and trading geological cards!"}),e.jsxs(We,{to:"/register",className:"btn-primary text-xl px-12 py-4 inline-flex items-center gap-3",children:["Create Free Account",e.jsx(ls,{className:"h-6 w-6"})]})]})]}),e.jsx("footer",{className:"border-t border-space-600 py-8",children:e.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-400 text-sm",children:[e.jsx("p",{children:" 2025 GeoBeasts. All rights reserved."}),e.jsx("p",{className:"mt-2",children:"A safe, educational card game for all ages."})]})})]})}function we({size:r="medium",className:a}){const i={small:"h-4 w-4 border-2",medium:"h-8 w-8 border-2",large:"h-12 w-12 border-3"};return e.jsx("div",{className:Wl("inline-block animate-spin rounded-full border-primary-600 border-t-transparent",i[r],a),role:"status","aria-label":"Loading",children:e.jsx("span",{className:"sr-only",children:"Loading..."})})}function Uv(){const r=Lt(),{setUser:a}=Ge(),[i,o]=v.useState({username_or_email:"",password:""}),[d,m]=v.useState(""),[f,h]=v.useState(!1),b=async p=>{p.preventDefault(),m(""),h(!0);try{const g=await Xs.login(i);g.data.success&&g.data.data?(a(g.data.data),r("/dashboard")):m(g.data.message||"Login failed")}catch(g){m(je(g))}finally{h(!1)}};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-center text-2xl font-bold text-cyan-300",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(We,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]}),e.jsx("script",{src:"https://www.google.com/recaptcha/enterprise.js?render=6LdVAS0sAAAAACmiWHqObrXJPr4N52xQmWub8cWK"}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[d&&e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 text-sm text-red-600",children:d}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username_or_email",className:"block text-sm font-medium text-gray-700",children:"Username or Email"}),e.jsx("input",{id:"username_or_email",name:"username_or_email",type:"text",required:!0,value:i.username_or_email,onChange:p=>o({...i,username_or_email:p.target.value}),className:"input mt-1",placeholder:"Enter your username or email",disabled:f})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:i.password,onChange:p=>o({...i,password:p.target.value}),className:"input mt-1",placeholder:"Enter your password",disabled:f})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(We,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot password?"})})]}),e.jsx("input",{type:"hidden",id:"g-recaptcha-response",name:"g-recaptcha-response"}),e.jsx("button",{type:"submit",disabled:f,className:"btn-primary w-full justify-center",children:f?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(Ey,{className:"h-4 w-4"}),e.jsx("span",{children:"Sign In"})]})})]})]})}function Bv(){const r=Lt(),[a,i]=v.useState("parent"),[o,d]=v.useState({username:"",given_name:"",surname:"",email:"",password:"",confirm_password:"",dob:"",parent_account_id:""}),[m,f]=v.useState({}),[h,b]=v.useState(!1),p=()=>{const y={};Av(o.username)||(y.username="Username must be 3-20 characters and include at least 1 number"),o.given_name.trim()||(y.given_name="First name is required"),o.surname.trim()||(y.surname="Last name is required"),tp(o.email)||(y.email="Invalid email address");const _=sp(o.password);return _.isValid||(y.password=_.errors[0]),o.password!==o.confirm_password&&(y.confirm_password="Passwords do not match"),o.dob||(y.dob="Date of birth is required"),a==="child"&&!o.parent_account_id&&(y.parent_account_id="Parent account code is required for child accounts"),f(y),Object.keys(y).length===0},g=async y=>{if(y.preventDefault(),!!p()){b(!0);try{const _={username:o.username,given_name:o.given_name,surname:o.surname,email:o.email,password:o.password,dob:o.dob,account_type:a,...a==="child"&&{parent_user_code:o.parent_account_id}},C=await Xs.register(_);C.data.success?(alert(C.data.message||"Registration successful! Please check your email to verify your account."),r("/login")):f({general:C.data.message||"Registration failed"})}catch(_){f({general:je(_)})}finally{b(!1)}}};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-center text-2xl font-bold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(We,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[m.general&&e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 text-sm text-red-600",children:m.general}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>i("parent"),className:`p-4 rounded-lg border-2 text-left transition-colors ${a==="parent"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Parent Account"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Full access, manage child accounts"})]}),e.jsxs("button",{type:"button",onClick:()=>i("child"),className:`p-4 rounded-lg border-2 text-left transition-colors ${a==="child"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Child Account"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Requires parent approval"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[a==="child"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"parent_account_id",className:"block text-sm font-medium text-gray-700",children:"Parent Account Code"}),e.jsx("input",{id:"parent_account_id",name:"parent_account_id",type:"text",required:!0,value:o.parent_account_id,onChange:y=>d({...o,parent_account_id:y.target.value}),className:m.parent_account_id?"input-error mt-1":"input mt-1",placeholder:"Enter your parent's account code",disabled:h}),m.parent_account_id&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:m.parent_account_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:o.username,onChange:y=>d({...o,username:y.target.value}),className:m.username?"input-error mt-1":"input mt-1",placeholder:"Choose a username",disabled:h}),m.username&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:m.username})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"given_name",className:"block text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("input",{id:"given_name",name:"given_name",type:"text",required:!0,value:o.given_name,onChange:y=>d({...o,given_name:y.target.value}),className:m.given_name?"input-error mt-1":"input mt-1",placeholder:"First name",disabled:h}),m.given_name&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:m.given_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"surname",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),e.jsx("input",{id:"surname",name:"surname",type:"text",required:!0,value:o.surname,onChange:y=>d({...o,surname:y.target.value}),className:m.surname?"input-error mt-1":"input mt-1",placeholder:"Last name",disabled:h}),m.surname&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:m.surname})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:a==="child"?"Parent's Email Address":"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:o.email,onChange:y=>d({...o,email:y.target.value}),className:m.email?"input-error mt-1":"input mt-1",placeholder:a==="child"?"parent@email.com":"your@email.com",disabled:h}),a==="child"&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter your parent's email address for account verification"}),m.email&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:m.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dob",className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),e.jsx("input",{id:"dob",name:"dob",type:"date",required:!0,value:o.dob,onChange:y=>d({...o,dob:y.target.value}),className:m.dob?"input-error mt-1":"input mt-1",disabled:h}),m.dob&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:m.dob})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:o.password,onChange:y=>d({...o,password:y.target.value}),className:m.password?"input-error mt-1":"input mt-1",placeholder:"Create a strong password",disabled:h}),m.password&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:m.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),e.jsx("input",{id:"confirm_password",name:"confirm_password",type:"password",required:!0,value:o.confirm_password,onChange:y=>d({...o,confirm_password:y.target.value}),className:m.confirm_password?"input-error mt-1":"input mt-1",placeholder:"Confirm your password",disabled:h}),m.confirm_password&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:m.confirm_password})]})]}),e.jsx("button",{type:"submit",disabled:h,className:"btn-primary w-full justify-center",children:h?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(Xf,{className:"h-4 w-4"}),e.jsx("span",{children:"Create Account"})]})}),e.jsx("p",{className:"text-xs text-center text-gray-500",children:"By creating an account, you agree to our Terms of Service and Privacy Policy"})]})]})}function $v(){const r=Lt(),[a]=gf(),[i,o]=v.useState("verifying"),[d,m]=v.useState("");v.useEffect(()=>{const h=a.get("token");if(!h){o("error"),m("No verification token provided");return}f(h)},[a]);const f=async h=>{try{const b=await Xs.verifyEmail(h);b.data.success&&(o("success"),m(b.data.message||"Email verified successfully!"),setTimeout(()=>{r("/login")},3e3))}catch(b){o("error"),m(je(b))}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-space-900 via-space-800 to-purple-900 p-4",children:e.jsx("div",{className:"card w-full max-w-md",children:e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent",children:"Email Verification"})}),e.jsxs("div",{className:"text-center",children:[i==="verifying"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(Qf,{className:"h-16 w-16 text-cyan-400 animate-spin"})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Verifying your email..."}),e.jsx("p",{className:"text-gray-400",children:"Please wait while we verify your email address."})]}),i==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(an,{className:"h-16 w-16 text-green-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Email Verified!"}),e.jsx("p",{className:"text-gray-400 mb-4",children:d}),e.jsx("p",{className:"text-sm text-cyan-400",children:"Redirecting to login page in 3 seconds..."})]}),i==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(Zf,{className:"h-16 w-16 text-red-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Verification Failed"}),e.jsx("p",{className:"text-red-400 mb-6",children:d}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>r("/login"),className:"w-full btn-primary",children:"Go to Login"}),e.jsx("button",{onClick:()=>r("/register"),className:"w-full btn-secondary",children:"Register Again"})]})]})]}),i!=="success"&&e.jsx("div",{className:"mt-8 pt-6 border-t border-space-600",children:e.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-400",children:[e.jsx(Zn,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),e.jsx("p",{children:"If you didn't receive the verification email, please check your spam folder or contact support."})]})})]})})})}function Wv(){const[r,a]=v.useState(""),[i,o]=v.useState(!1),[d,m]=v.useState(""),[f,h]=v.useState(!1),b=async p=>{if(p.preventDefault(),m(""),o(!0),!r.trim()){m("Email is required"),o(!1);return}try{const g=await Xs.forgotPassword(r);g.data.success?h(!0):m(g.data.message||"Failed to send reset email")}catch(g){m(je(g))}finally{o(!1)}};return f?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-space-900 via-space-800 to-purple-900 p-4",children:e.jsx("div",{className:"card w-full max-w-md",children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(an,{className:"h-16 w-16 text-green-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Check Your Email"}),e.jsxs("p",{className:"text-gray-400 mb-6",children:["If an account exists with the email ",e.jsx("strong",{className:"text-white",children:r}),", you will receive a password reset link shortly."]}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"The link will expire in 1 hour. Check your spam folder if you don't see it."}),e.jsx(We,{to:"/login",className:"btn-primary w-full",children:"Return to Login"})]})})}):e.jsxs("div",{children:[e.jsx("div",{className:"mb-6",children:e.jsxs(We,{to:"/login",className:"inline-flex items-center gap-2 text-cyan-400 hover:text-cyan-300 transition-colors",children:[e.jsx($l,{className:"h-4 w-4"}),"Back to Login"]})}),e.jsx("h2",{className:"text-center text-2xl font-bold text-cyan-300 mb-2",children:"Reset Your Password"}),e.jsx("p",{className:"text-center text-sm text-gray-400 mb-8",children:"Enter your email address and we'll send you a link to reset your password"}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[d&&e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 text-sm text-red-600",children:d}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"email",type:"email",value:r,onChange:p=>a(p.target.value),placeholder:"your.email@example.com",className:"input pl-10",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"btn-primary w-full",children:i?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(Zn,{className:"h-5 w-5"}),e.jsx("span",{children:"Send Reset Link"})]})})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-400",children:["Remember your password?"," ",e.jsx(We,{to:"/login",className:"font-medium text-cyan-400 hover:text-cyan-300",children:"Sign in"})]})]})}function qv(){const r=Lt(),[a]=gf(),i=a.get("token"),[o,d]=v.useState(""),[m,f]=v.useState(""),[h,b]=v.useState(!1),[p,g]=v.useState(!1),[y,_]=v.useState(!1),[C,j]=v.useState("idle"),[w,N]=v.useState(""),[L,F]=v.useState([]);v.useEffect(()=>{i||(j("error"),N("No reset token provided"))},[i]);const E=$=>{d($);const I=sp($);F(I.errors)},k=async $=>{if($.preventDefault(),N(""),!i){N("Invalid reset link");return}if(L.length>0){N("Please fix password requirements");return}if(o!==m){N("Passwords do not match");return}_(!0);try{const I=await Xs.resetPassword(i,o);I.data.success?(j("success"),setTimeout(()=>{r("/login")},3e3)):N(I.data.message||"Failed to reset password")}catch(I){N(je(I))}finally{_(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-space-900 via-space-800 to-purple-900 p-4",children:e.jsx("div",{className:"card w-full max-w-md",children:e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent",children:"Reset Password"})}),C==="success"&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(an,{className:"h-16 w-16 text-green-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Password Reset Successful!"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Your password has been reset successfully."}),e.jsx("p",{className:"text-sm text-cyan-400",children:"Redirecting to login page in 3 seconds..."})]}),C==="error"&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(Zf,{className:"h-16 w-16 text-red-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Invalid Reset Link"}),e.jsx("p",{className:"text-red-400 mb-6",children:w||"This password reset link is invalid or has expired."}),e.jsx("button",{onClick:()=>r("/forgot-password"),className:"btn-primary w-full mb-3",children:"Request New Link"}),e.jsx("button",{onClick:()=>r("/login"),className:"btn-secondary w-full",children:"Go to Login"})]}),C==="idle"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-center text-sm text-gray-400 mb-6",children:"Enter your new password below"}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[w&&e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 text-sm text-red-600",children:w}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(os,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"password",type:h?"text":"password",value:o,onChange:$=>E($.target.value),placeholder:"Enter new password",className:"input pl-10 pr-12",required:!0}),e.jsx("button",{type:"button",onClick:()=>b(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:h?e.jsx(ac,{className:"h-5 w-5"}):e.jsx(en,{className:"h-5 w-5"})})]}),o&&L.length>0&&e.jsx("div",{className:"mt-2 space-y-1",children:L.map(($,I)=>e.jsxs("p",{className:"text-xs text-red-400",children:[" ",$]},I))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(os,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"confirm-password",type:p?"text":"password",value:m,onChange:$=>f($.target.value),placeholder:"Confirm new password",className:"input pl-10 pr-12",required:!0}),e.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:p?e.jsx(ac,{className:"h-5 w-5"}):e.jsx(en,{className:"h-5 w-5"})})]}),m&&o!==m&&e.jsx("p",{className:"mt-2 text-xs text-red-400",children:"Passwords do not match"})]}),e.jsx("button",{type:"submit",disabled:y||L.length>0||o!==m,className:"btn-primary w-full",children:y?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"h-5 w-5"}),e.jsx("span",{children:"Reset Password"})]})})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-400",children:["Remember your password?"," ",e.jsx("button",{onClick:()=>r("/login"),className:"font-medium text-cyan-400 hover:text-cyan-300",children:"Sign in"})]})]})]})})})}function Hv(r){switch(r){case"Igneous":return{header:"linear-gradient(70deg, #991b1b 0%, #dc2626)",border:"#ef4444"};case"Metamorphic":return{header:"linear-gradient(70deg, #6b21a8 0%, #a855f7)",border:"#a855f7"};case"Sedimentary":return{header:"linear-gradient(70deg, #92400e 0%, #f59e0b)",border:"#f59e0b"};case"Ore":return{header:"linear-gradient(70deg, #44403c 0%, #78716c)",border:"#a8a29e"};case"Metal":return{header:"linear-gradient(70deg, #1e3a5f 0%, #60a5fa)",border:"#60a5fa"};case"Jewel":return{header:"linear-gradient(70deg, #86198f 0%, #e879f9)",border:"#e879f9"};case"Crystal":default:return{header:"linear-gradient(70deg, #339999 0%, #66CCCC)",border:"#66CCCC"}}}function Vv(r){switch(r){case"Legendary":return"linear-gradient(45deg, #42016a 0%, #8f0058 100%)";case"Epic":return"linear-gradient(45deg, #6b21a8 0%, #9333ea 100%)";case"Rare":return"linear-gradient(45deg, #1e40af 0%, #3b82f6 100%)";case"Common":default:return"linear-gradient(45deg, #374151 0%, #6b7280 100%)"}}function Gv(r){switch(r){case"Igneous":return"rgb(80, 15, 15)";case"Metamorphic":return"rgb(55, 10, 85)";case"Sedimentary":return"rgb(70, 40, 10)";case"Ore":return"rgb(40, 40, 38)";case"Metal":return"rgb(15, 35, 60)";case"Jewel":return"rgb(70, 15, 70)";case"Crystal":default:return"rgb(35, 5, 103)"}}function ht({card:r,onClick:a,selected:i,showStamp:o=!0,className:d,size:m="small"}){if(!r)return null;const f=r.card_type||"Crystal",h=r.rarity||"Common",b=r.card_name||"Unknown",p=r.speed??0,g=r.attack??0,y=r.defense??0,_=Hv(f),C=Vv(h),j=Gv(f),w=m==="tiny"?"3px":m==="small"?"6px":m==="normal"?"11px":m==="zoomed"?"20px":"7.5px",[N,L]=v.useState(!1),[F,E]=v.useState(!1),[k,$]=v.useState(!1),I=v.useRef(null),H=m==="zoomed"?r.image_url?r.image_url.replace(/\.(jpg|jpeg|png|gif|webp)$/i,".mp4"):null:null,ae=()=>{E(!0),L(!1)},xe=()=>{E(!1),L(!0),I.current&&I.current.play().catch(()=>{})},ne=()=>{$(!0),L(!1)};return e.jsxs("div",{onClick:a,className:Wl("geob-card geob-basic geob-lifted transition-all duration-300",a&&"cursor-pointer hover:scale-105",i&&"ring-4 ring-cyan-400",d),style:{fontSize:w,position:"relative",fontFamily:"Futura, sans-serif",padding:"1em",maxWidth:"30em",width:"30em",border:0,borderRadius:"15px",color:"#111",background:"linear-gradient(70deg, #474747 0%, #868686 100%), linear-gradient(90deg, rgba(255,255,255,0.18) 0%, rgba(255,255,255,0.02) 50%, rgba(255,255,255,0.18) 100%), repeating-linear-gradient(90deg, rgba(0,0,0,0.04) 0 1px, rgba(255,255,255,0.02) 1px 3px)",backgroundBlendMode:"normal, overlay, multiply",backgroundSize:"cover, 100% 60%, 100% 4px",backgroundRepeat:"no-repeat",boxShadow:"inset 0 2px 6px rgba(255,255,255,0.35), inset 0 -2px 8px rgba(0,0,0,0.06), 5px 5px 5px rgba(0,0,0,0.4), 5px 5px 5px black"},children:[e.jsxs("div",{className:"geob-card-content geob-flat",style:{display:"block",position:"relative",background:j,borderRadius:"10px",padding:0,border:"1px solid #000055"},children:[e.jsx("div",{className:"geob-status geob-legend",style:{boxShadow:"-2px 3px 0 #333",fontSize:"1.1em",position:"absolute",left:"16em",width:"9em",top:"-0.8em",borderRadius:"0.7em",padding:"0.1em 0.5em",fontStyle:"italic",float:"right",color:"white",background:C,zIndex:10},children:h.toUpperCase()}),e.jsxs("div",{className:"geob-name",style:{textShadow:"0.1em 0.1em 0 #111",fontSize:"1.6em",background:_.header,margin:0,padding:"0.3em",top:0,borderRadius:"10px 10px 0 0",color:"white"},children:[e.jsx("h2",{style:{margin:0,color:"inherit"},children:b}),e.jsx("p",{style:{margin:0,fontSize:"0.7em",color:"inherit"},children:r.card_description||`A powerful ${f} type GeoBeast`})]}),e.jsxs("div",{className:"geob-scores",style:{clear:"both",background:"linear-gradient(90deg, #210374 0%, #024282 100%)",padding:"0.2em 0"},children:[e.jsxs("ul",{style:{listStyle:"none",margin:0,padding:0,textAlign:"center"},children:[e.jsxs("li",{style:{float:"left",paddingLeft:"1.2em",margin:"0 1.8em 0 1.8em",textAlign:"center",color:"#f2cb08",fontWeight:"bolder"},children:["SPEED",e.jsx("br",{}),e.jsx("div",{style:{fontWeight:"bold",fontSize:"2.5em",color:"#ffbd21",textShadow:"0.1em 0.1em 0 #111"},children:p})]}),e.jsxs("li",{style:{float:"left",paddingLeft:"1.2em",margin:"0 1.8em 0 1.8em",textAlign:"center",color:"#f2cb08",fontWeight:"bolder"},children:["ATTACK",e.jsx("br",{}),e.jsx("div",{style:{fontWeight:"bold",fontSize:"2.5em",color:"#00AA00",textShadow:"0.1em 0.1em 0 #111"},children:g})]}),e.jsxs("li",{style:{float:"left",paddingLeft:"1.2em",margin:"0 1.8em 0 1.8em",textAlign:"center",color:"#f2cb08",fontWeight:"bolder"},children:["DEFENCE",e.jsx("br",{}),e.jsx("div",{style:{fontWeight:"bold",fontSize:"2.5em",color:"#00AA00",textShadow:"0.1em 0.1em 0 #111"},children:y})]})]}),e.jsx("div",{style:{clear:"both",visibility:"hidden",maxHeight:0,maxWidth:0},children:"."})]}),e.jsx("div",{className:"geob-image",style:{overflow:"hidden",width:"30em",height:"15em",marginTop:"0.5em",position:"relative"},children:r.image_url?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:r.image_url,title:"card image",style:{width:"27.7em",float:"left",display:N?"none":"block"}}),H&&!F&&!k&&e.jsx("video",{ref:I,src:H,onLoadedData:xe,onError:ae,onEnded:ne,muted:!0,playsInline:!0,style:{width:"27.7em",float:"left",display:N?"block":"none",objectFit:"cover"},title:"card video"})]}):e.jsx("div",{style:{width:"30em",float:"left",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",fontSize:"8em"},children:""})}),e.jsxs("div",{className:"geob-beast-attack",style:{color:"rgb(3, 14, 81)",background:"linear-gradient(to right, rgba(54,54,54,0.9), rgba(89,84,84,0.6))",padding:"0.8em",float:"left",marginTop:"-5em",width:"28em",borderRadius:"0 1em 1em 0",minHeight:"5em",position:"relative",zIndex:10},children:[e.jsxs("h2",{style:{opacity:1,color:"white",margin:0},children:[f," Strike"," ",e.jsx("span",{style:{textDecoration:"none",background:"#00AA00",color:"white",fontSize:"2em",fontWeight:"bolder",boxShadow:"inset 0 2px 6px rgba(255,255,255,0.35), inset 0 -2px 8px rgba(0,0,0,0.06), 5px 5px 5px rgba(0,0,0,0.4)",float:"right",padding:"0 0.2em",borderRadius:"2em",marginLeft:"1em"},children:""})]}),e.jsx("p",{style:{color:"white"},children:r.card_description||`Unleashes the power of ${f.toLowerCase()} elements.`})]}),e.jsxs("div",{className:"geob-card-facts",style:{background:"rgb(25, 3, 77)",borderRadius:"1em",padding:"0.5em",minHeight:"10em",clear:"both",margin:"0 0.4em",boxShadow:`${_.border} -2px 0px 0`},children:[e.jsx("h2",{style:{color:"#d30202",verticalAlign:"middle",margin:"auto",paddingTop:"0.5em"},children:"Science fact"}),e.jsx("p",{style:{color:"white"},children:r.educational_facts||`${f} rocks are fascinating geological formations with unique properties.`})]}),o&&(r.ownership_count??0)>0&&m==="small"&&e.jsxs("div",{style:{position:"absolute",bottom:"0.5em",right:"0.5em",background:"rgba(0,0,0,0.7)",color:"white",padding:"0.2em 0.5em",borderRadius:"0.5em",fontSize:"0.9em"},children:["#",r.ownership_count]}),r.in_deck&&e.jsx("div",{style:{position:"absolute",top:"2em",left:"0.5em",background:"#9333ea",color:"white",padding:"0.2em 0.5em",borderRadius:"0.5em",fontSize:"0.8em",fontWeight:"bold"},children:"In Deck"}),r.available_for_battle===!1&&e.jsx("div",{style:{position:"absolute",inset:0,background:r.is_in_marketplace?"rgba(0,100,200,0.7)":r.is_in_trade?"rgba(200,100,0,0.7)":"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px"},children:e.jsxs("div",{style:{textAlign:"center",color:"white"},children:[e.jsx("div",{style:{fontWeight:"bold"},children:r.is_in_marketplace?"Listed for Sale":r.is_in_trade?"In Trade":"Recharging"}),e.jsx("div",{style:{fontSize:"0.8em",opacity:.8},children:"Not available"})]})})]}),i&&e.jsx("div",{style:{position:"absolute",top:"0.5em",right:"0.5em",width:"2em",height:"2em",background:"#00f5ff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"black",fontWeight:"bold",boxShadow:"0 0 10px #00f5ff"},children:""})]})}function wc({card:r,isOpen:a,onClose:i}){if(!a||!r)return null;const o=r.speed??0,d=r.attack??0,m=r.defense??0;return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",children:e.jsxs("div",{className:"w-full max-w-7xl rounded-2xl shadow-2xl animate-scale-in max-h-[90vh] overflow-y-auto",style:{background:"linear-gradient(135deg, #0f172a 0%, #020617 50%, #1e1e3f 100%)",border:"1px solid rgba(0, 245, 255, 0.2)"},children:[e.jsxs("div",{className:"flex items-center justify-between p-6",style:{borderBottom:"1px solid rgba(0, 245, 255, 0.2)"},children:[e.jsx("h2",{className:"text-2xl font-bold text-white",style:{textShadow:"0 0 20px rgba(0, 245, 255, 0.5)"},children:r.card_name}),e.jsx("button",{onClick:i,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-space-700 hover:text-white",children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(ht,{card:r,size:"zoomed",showStamp:!0})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl p-4",style:{background:"rgba(0, 245, 255, 0.05)",border:"1px solid rgba(0, 245, 255, 0.2)"},children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"#00f5ff"},children:"Ownership Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Acquired"}),e.jsx("span",{className:"font-medium text-white",children:pt(r.acquired_at)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Previous Owners"}),e.jsx("span",{className:"font-medium text-white",children:r.ownership_count})]}),r.stamp_image_url&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Your Stamp"}),e.jsx("img",{src:r.stamp_image_url,alt:"Stamp",className:"h-8 w-8 rounded-full",style:{border:"2px solid #00f5ff"}})]})]})]}),e.jsxs("div",{className:"rounded-xl p-4",style:{background:"rgba(0, 245, 255, 0.05)",border:"1px solid rgba(0, 245, 255, 0.2)"},children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"#00f5ff"},children:"Status"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.in_deck&&e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{background:"#9333ea",color:"white"},children:"In Battle Deck"}),r.available_for_battle?e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{background:"#00ff88",color:"black"},children:"Available for Battle"}):e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{background:"#ef4444",color:"white"},children:"Recharging"})]})]}),e.jsxs("div",{className:"rounded-xl p-4",style:{background:"rgba(0, 245, 255, 0.05)",border:"1px solid rgba(0, 245, 255, 0.2)"},children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"#00f5ff"},children:"Stat Distribution"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Speed"}),e.jsxs("span",{className:"font-medium text-yellow-400",children:[o,"/100"]})]}),e.jsx("div",{className:"h-2 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.1)"},children:e.jsx("div",{className:"h-full transition-all",style:{width:`${o}%`,background:"linear-gradient(90deg, #f59e0b, #fbbf24)",boxShadow:"0 0 10px #f59e0b"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Attack"}),e.jsxs("span",{className:"font-medium text-green-400",children:[d,"/100"]})]}),e.jsx("div",{className:"h-2 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.1)"},children:e.jsx("div",{className:"h-full transition-all",style:{width:`${d}%`,background:"linear-gradient(90deg, #00AA00, #22c55e)",boxShadow:"0 0 10px #00AA00"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Defence"}),e.jsxs("span",{className:"font-medium text-blue-400",children:[m,"/100"]})]}),e.jsx("div",{className:"h-2 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.1)"},children:e.jsx("div",{className:"h-full transition-all",style:{width:`${m}%`,background:"linear-gradient(90deg, #3b82f6, #60a5fa)",boxShadow:"0 0 10px #3b82f6"}})})]})]})]}),e.jsxs("div",{className:"rounded-xl p-4",style:{background:"rgba(0, 245, 255, 0.05)",border:"1px solid rgba(0, 245, 255, 0.2)"},children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"#00f5ff"},children:"Card Info"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Type"}),e.jsx("span",{className:"font-medium text-white",children:r.card_type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Rarity"}),e.jsx("span",{className:"font-medium text-white",children:r.rarity})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Total Stats"}),e.jsx("span",{className:"font-medium text-cyan-400",children:o+d+m})]})]})]})]})]}),r.educational_facts&&e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"rounded-xl p-6",style:{background:"linear-gradient(135deg, rgba(211, 2, 2, 0.1) 0%, rgba(0, 245, 255, 0.05) 100%)",border:"2px solid rgba(211, 2, 2, 0.3)",boxShadow:"0 4px 20px rgba(211, 2, 2, 0.2)"},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{background:"rgba(211, 2, 2, 0.2)",border:"1px solid rgba(211, 2, 2, 0.4)"},children:e.jsx(jy,{className:"h-6 w-6",style:{color:"#d30202"}})}),e.jsx("h3",{className:"text-xl font-bold uppercase tracking-wide",style:{color:"#d30202",textShadow:"0 0 10px rgba(211, 2, 2, 0.5)"},children:"Science Fact"})]}),e.jsx("div",{className:"text-base leading-relaxed",style:{color:"#e0e0e0",background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:r.educational_facts})]})})]}),e.jsx("div",{className:"flex items-center justify-end gap-3 p-6",style:{borderTop:"1px solid rgba(0, 245, 255, 0.2)",background:"rgba(0, 0, 0, 0.3)"},children:e.jsx("button",{onClick:i,className:"px-6 py-2 rounded-lg font-medium transition-all",style:{background:"rgba(0, 245, 255, 0.1)",border:"1px solid rgba(0, 245, 255, 0.3)",color:"#00f5ff"},children:"Close"})})]})})}function Yv(){const{user:r}=Ge(),[a,i]=v.useState({totalCards:0,battlesWon:0,totalFriends:0}),[o,d]=v.useState([]),[m,f]=v.useState([]),[h,b]=v.useState(!0),[p,g]=v.useState(null);v.useEffect(()=>{y()},[]);const y=async()=>{b(!0);try{const j=await wr.getCollection();if(j.data.success&&j.data.data){const L=j.data.data.cards||j.data.data||[];i(E=>({...E,totalCards:L.length}));const F=[...L].sort((E,k)=>{const $=(E.attack??0)+(E.defense??0)+(E.speed??0);return(k.attack??0)+(k.defense??0)+(k.speed??0)-$});d(F.slice(0,7))}const w=await tt.getBattleHistory(3);if(w.data.success&&w.data.data){const L=w.data.data.battles||w.data.data||[];f(L);const F=L.filter(E=>!E.winner_user_id&&!E.winner_user_code?!1:E.winner_user_code===r?.user_code?!0:E.winner_user_id&&(E.player1_username===r?.username||E.player2_username===r?.username)).length;i(E=>({...E,battlesWon:F}))}const N=await Rt.getFriends();if(N.data.success&&N.data.data){const L=N.data.data.friends||N.data.data;i(F=>({...F,totalFriends:Array.isArray(L)?L.length:0}))}}catch(j){console.error("Failed to load dashboard data:",j)}finally{b(!1)}},_=v.useCallback((j,w)=>{const N=(w-1)/2,L=j-N,F=Math.min(45,w*5),E=L/Math.max(1,N)*(F/2),k=Math.min(100,600/w),$=L*k,I=Math.abs(L)*8,D=Math.max(.7,1-Math.abs(L/w)*.3);return{transform:`translateX(${$}px) translateY(${I}px) rotate(${E}deg) scale(${D})`,zIndex:Math.round((w-Math.abs(L))*10)}},[]),C=j=>{g(o[j])};return h?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(we,{size:"large"})}):e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("div",{className:"flex gap-6 mb-8",children:[e.jsxs("div",{className:"w-64 flex-shrink-0 space-y-4",children:[e.jsxs("div",{className:"card p-4 bg-gradient-to-br from-cyan-600 to-blue-700 border-cyan-500/50",style:{boxShadow:"0 0 30px rgba(0, 245, 255, 0.3)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Nr,{className:"h-4 w-4 text-cyan-300"}),e.jsx("h2",{className:"text-lg font-bold text-white truncate",children:r?.username})]}),e.jsx("p",{className:"text-xs text-cyan-200",children:"Welcome back!"}),e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx(vr,{className:"h-5 w-5 text-yellow-300"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:cs(r?.credits_balance||0)})]})]}),e.jsxs(We,{to:"/collection",className:"card p-3 card-hover group flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-900/50 border border-blue-500/50 flex items-center justify-center",style:{boxShadow:"0 0 15px rgba(59, 130, 246, 0.3)"},children:e.jsx(ft,{className:"h-5 w-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Cards"}),e.jsx("p",{className:"text-xl font-bold text-cyan-300",children:a.totalCards})]}),e.jsx(ls,{className:"h-4 w-4 text-gray-600 group-hover:text-cyan-400"})]}),e.jsxs(We,{to:"/battles",className:"card p-3 card-hover group flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-900/50 border border-green-500/50 flex items-center justify-center",style:{boxShadow:"0 0 15px rgba(0, 255, 136, 0.3)"},children:e.jsx(Kt,{className:"h-5 w-5 text-green-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Wins"}),e.jsx("p",{className:"text-xl font-bold text-green-400",children:a.battlesWon})]}),e.jsx(ls,{className:"h-4 w-4 text-gray-600 group-hover:text-cyan-400"})]}),e.jsxs(We,{to:"/friends",className:"card p-3 card-hover group flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-900/50 border border-purple-500/50 flex items-center justify-center",style:{boxShadow:"0 0 15px rgba(170, 0, 255, 0.3)"},children:e.jsx(Js,{className:"h-5 w-5 text-purple-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Friends"}),e.jsx("p",{className:"text-xl font-bold text-purple-400",children:a.totalFriends})]}),e.jsx(ls,{className:"h-4 w-4 text-gray-600 group-hover:text-cyan-400"})]}),e.jsxs("div",{className:"card p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-bold text-white",children:"Recent Battles"}),e.jsx(We,{to:"/battles",className:"text-xs text-cyan-400 hover:text-cyan-300",children:"View All"})]}),m.length===0?e.jsx("p",{className:"text-xs text-gray-500 text-center py-3",children:"No battles yet"}):e.jsx("div",{className:"space-y-2",children:m.map(j=>{const w=j.winner_user_code===r?.user_code||j.winner_user_id&&(j.player1_username===r?.username||j.player2_username===r?.username),N=!j.winner_user_code&&!j.winner_user_id;return e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-xl bg-space-700/50 border border-space-600/50",children:[e.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center ${w?"bg-green-900/50 border border-green-500/50":N?"bg-gray-800/50 border border-gray-600/50":"bg-red-900/50 border border-red-500/50"}`,children:w?e.jsx(Sl,{className:"h-3 w-3 text-green-400"}):e.jsx(Kt,{className:`h-3 w-3 ${N?"text-gray-400":"text-red-400"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-xs font-bold text-white truncate",children:["vs ",j.player2_username||"AI"]}),e.jsx("p",{className:"text-[10px] text-gray-500",children:pt(j.started_at)})]}),e.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${w?"bg-green-900/50 text-green-400 border border-green-500/50":N?"bg-gray-800/50 text-gray-400 border border-gray-600/50":"bg-red-900/50 text-red-400 border border-red-500/50"}`,children:w?"W":N?"D":"L"})]},j.battle_id)})})]})]}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"card p-6 min-h-[500px] relative overflow-hidden border-space-600/30",style:{background:"linear-gradient(135deg, #0f172a 0%, #020617 50%, #1e1e3f 100%)",boxShadow:"0 0 60px rgba(0, 245, 255, 0.1), inset 0 1px 0 rgba(255,255,255,0.05)"},children:[e.jsxs("div",{className:"absolute inset-0 opacity-30",children:[e.jsx("div",{className:"absolute top-10 left-10 w-40 h-40 bg-cyan-500 rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute bottom-10 right-10 w-48 h-48 bg-purple-500 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-56 h-56 bg-amber-500 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2 animate-float",style:{animationDelay:"4s"}})]}),e.jsxs("div",{className:"relative z-10 text-center mb-4",children:[e.jsx("h2",{className:"text-3xl font-display font-bold text-white",style:{textShadow:"0 0 20px rgba(0, 245, 255, 0.5)"},children:"Your Top Beasts"}),e.jsx("p",{className:"text-sm text-cyan-300 mt-1",children:"Click a card to view details"})]}),e.jsx("div",{className:"relative flex items-center justify-center",style:{height:"380px",perspective:"1500px"},children:o.length===0?e.jsxs("div",{className:"text-center",children:[e.jsx(ft,{className:"mx-auto h-16 w-16 text-gray-600 mb-4"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"No cards in your collection yet"}),e.jsxs(We,{to:"/collection",className:"btn-primary inline-flex",children:[e.jsx(ft,{className:"h-5 w-5"}),e.jsx("span",{children:"Get Your First Cards"})]})]}):o.map((j,w)=>{const N=_(w,o.length);return e.jsx("div",{className:"absolute cursor-pointer transition-all duration-500 ease-out hover:scale-110",style:{transformOrigin:"bottom center",...N},onClick:()=>C(w),children:e.jsx(ht,{card:j,showStamp:!1,size:"small"})},j.user_card_id)})}),o.length>0&&e.jsx("div",{className:"relative z-10 text-center mt-4",children:e.jsxs(We,{to:"/collection",className:"inline-flex items-center gap-2 text-sm font-bold text-cyan-400 hover:text-cyan-300 transition-colors",style:{textShadow:"0 0 10px rgba(0, 245, 255, 0.5)"},children:["View Full Collection",e.jsx(ls,{className:"h-4 w-4"})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(We,{to:"/marketplace",className:"card p-4 card-hover group flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-900/50 border border-orange-500/50 flex items-center justify-center",style:{boxShadow:"0 0 15px rgba(255, 136, 0, 0.3)"},children:e.jsx(jc,{className:"h-6 w-6 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:"Marketplace"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Buy and sell cards"})]}),e.jsx(ls,{className:"h-5 w-5 text-gray-600 ml-auto group-hover:text-orange-400"})]}),e.jsxs(We,{to:"/trading",className:"card p-4 card-hover group flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-900/50 border border-indigo-500/50 flex items-center justify-center",style:{boxShadow:"0 0 15px rgba(100, 100, 255, 0.3)"},children:e.jsx(ls,{className:"h-6 w-6 text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:"Trade Cards"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Exchange with friends"})]}),e.jsx(ls,{className:"h-5 w-5 text-gray-600 ml-auto group-hover:text-indigo-400"})]}),e.jsxs(We,{to:"/battles",className:"card p-4 card-hover group flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-900/50 border border-red-500/50 flex items-center justify-center",style:{boxShadow:"0 0 15px rgba(255, 100, 100, 0.3)"},children:e.jsx(Kt,{className:"h-6 w-6 text-red-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:"Battle Now"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Challenge other players"})]}),e.jsx(ls,{className:"h-5 w-5 text-gray-600 ml-auto group-hover:text-red-400"})]})]}),e.jsx(wc,{card:p,isOpen:!!p,onClose:()=>g(null)})]})}const Qv=[{size:3,cost:3,description:"Starter Pack",popular:!1},{size:5,cost:5,description:"Standard Pack",popular:!0},{size:10,cost:10,description:"Mega Pack",popular:!1},{size:20,cost:20,description:"Ultimate Pack",popular:!1}];function Kv({isOpen:r,onClose:a,onPurchaseSuccess:i}){const{user:o,refreshUser:d}=Ge(),[m,f]=v.useState(5),[h,b]=v.useState(!1),[p,g]=v.useState("");if(!r)return null;const y=async()=>{g(""),b(!0);try{const C=await wr.purchasePack(m);C.data.success?(await d(),i(),a()):g(C.data.message||"Purchase failed")}catch(C){g(je(C))}finally{b(!1)}},_=(o?.credits_balance||0)>=m;return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-2xl rounded-2xl bg-white shadow-2xl animate-scale-in",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-primary-100 p-2",children:e.jsx(ft,{className:"h-6 w-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Purchase Card Pack"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Your balance: ",cs(o?.credits_balance||0)]})]})]}),e.jsx("button",{onClick:a,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6",children:[p&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-50 border border-red-200 p-4 text-sm text-red-600",children:p}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:Qv.map(C=>e.jsxs("button",{onClick:()=>f(C.size),disabled:h,className:Jv("relative rounded-xl border-2 p-6 text-left transition-all",m===C.size?"border-primary-500 bg-primary-50 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow-md",h&&"opacity-50 cursor-not-allowed"),children:[C.popular&&e.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2",children:e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-orange-500 px-3 py-1 text-xs font-medium text-white",children:[e.jsx(Nr,{className:"h-3 w-3"}),"Popular"]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:C.size}),e.jsx("div",{className:"text-sm text-gray-600",children:C.description})]}),e.jsx(ft,{className:"h-8 w-8 text-primary-600"})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:cs(C.cost)}),m===C.size&&e.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-primary-500 text-white text-xs",children:""})]}),e.jsxs("div",{className:"mt-3 space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Common"}),e.jsx("span",{children:"60%"})]}),e.jsxs("div",{className:"flex justify-between text-blue-600",children:[e.jsx("span",{children:"Rare"}),e.jsx("span",{children:"25%"})]}),e.jsxs("div",{className:"flex justify-between text-purple-600",children:[e.jsx("span",{children:"Epic"}),e.jsx("span",{children:"10%"})]}),e.jsxs("div",{className:"flex justify-between text-orange-600",children:[e.jsx("span",{children:"Legendary"}),e.jsx("span",{children:"5%"})]})]})]},C.size))}),!_&&e.jsx("div",{className:"mt-4 rounded-lg bg-amber-50 border border-amber-200 p-4",children:e.jsxs("p",{className:"text-sm text-amber-800",children:["You don't have enough GeoCoins for this pack. You need"," ",cs(m-(o?.credits_balance||0))," more GeoCoins."]})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 bg-gray-50 p-6",children:[e.jsx("button",{onClick:a,disabled:h,className:"btn-secondary",children:"Cancel"}),e.jsx("button",{onClick:y,disabled:h||!_,className:"btn-primary",children:h?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsxs("span",{children:["Purchase ",m," Cards"]})]})})]})]})})}function Jv(...r){return r.filter(Boolean).join(" ")}function Xv({cards:r,onClose:a}){v.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const i=()=>{window.print()},o=9,d=[];for(let m=0;m<r.length;m+=o)d.push(r.slice(m,m+o));return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black/80 print:hidden",onClick:a}),e.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4 print:p-0",children:e.jsxs("div",{className:"relative bg-space-900 rounded-lg shadow-xl max-w-7xl w-full print:max-w-none print:bg-white print:shadow-none",children:[e.jsxs("div",{className:"sticky top-0 z-10 bg-space-800 border-b border-space-600 p-4 flex items-center justify-between print:hidden",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Print Collection"}),e.jsxs("p",{className:"text-sm text-cyan-300 mt-1",children:[r.length," cards  ",d.length," pages"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:i,className:"btn-primary",children:"Print Collection"}),e.jsx("button",{onClick:a,className:"btn-secondary",children:"Close"})]})]}),e.jsx("div",{className:"print-content",children:d.map((m,f)=>e.jsxs("div",{className:"page-break print:page-break-after-always bg-white p-8",style:{width:"210mm",minHeight:"297mm",margin:"0 auto"},children:[e.jsxs("div",{className:"mb-6 print:mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"GeoBeasts Card Collection"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Page ",f+1," of ",d.length]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:m.map(h=>e.jsx("div",{className:"flex justify-center",children:e.jsx(ht,{card:h,size:"print",showStamp:!0})},h.user_card_id))}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-300 text-center print:mt-4",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["GeoBeasts Trading Card Game  Printed on ",new Date().toLocaleDateString()]})})]},f))})]})}),e.jsx("style",{children:`
        @media print {
          body {
            margin: 0;
            padding: 0;
          }

          .page-break:last-child {
            page-break-after: avoid;
          }

          @page {
            size: A4 portrait;
            margin: 10mm;
          }

          /* Hide non-printable elements */
          .print\\:hidden {
            display: none !important;
          }

          /* Force background colors and images to print */
          * {
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
            color-adjust: exact !important;
          }

          /* Ensure card backgrounds print */
          .geob-card,
          .geob-card-content,
          .geob-name,
          .geob-scores,
          .geob-beast-attack,
          .geob-card-facts,
          .geob-status {
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
            color-adjust: exact !important;
          }
        }
      `})]})}function oa({isOpen:r,onClose:a,title:i,message:o,buttonText:d="Great!"}){return r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 backdrop-blur-sm",onClick:a}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"card w-full max-w-md animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"relative flex items-center justify-center p-8 border-b border-space-600 bg-gradient-to-br from-green-900/20 to-cyan-900/20 border-green-500/30 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/10 via-cyan-500/10 to-green-500/10 animate-pulse"}),e.jsxs("div",{className:"relative flex flex-col items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(an,{className:"h-16 w-16 text-green-400 animate-in zoom-in duration-500"}),e.jsx(Nr,{className:"absolute -top-1 -right-1 h-6 w-6 text-cyan-400 animate-pulse"})]}),e.jsx("h2",{className:"text-2xl font-bold text-center",children:i})]}),e.jsx("button",{onClick:a,className:"absolute top-4 right-4 p-1 hover:bg-space-700 rounded-lg transition-colors",children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-gray-300 text-center leading-relaxed",children:o})}),e.jsx("div",{className:"p-6 pt-0",children:e.jsx("button",{onClick:a,className:"w-full px-4 py-3 rounded-lg font-semibold text-white bg-gradient-to-r from-green-600 to-cyan-600 hover:from-green-700 hover:to-cyan-700 transition-all transform hover:scale-105",children:d})})]})})]}):null}function Zv({isOpen:r,onClose:a,card:i,onSuccess:o}){const[d,m]=v.useState(""),[f,h]=v.useState(!1),[b,p]=v.useState(!1),[g,y]=v.useState(""),[_,C]=v.useState(""),{user:j}=Ge(),w=Lt();if(!r)return null;const N=()=>{a(),w("/trading",{state:{selectedCard:i}})},L=async k=>{k.preventDefault();const $=parseFloat(d);if(isNaN($)||$<=0){C("Please enter a valid price");return}h(!0),C("");try{const I=await _t.createListing(i.user_card_id,$);I.data.success&&(y(I.data.message||"Listing created successfully!"),p(!0),o?.())}catch(I){C(je(I))}finally{h(!1)}},F=()=>{p(!1),a()},E=()=>{const k={Common:1,Rare:5,Epic:20,Legendary:50}[i.rarity]||10,$=Math.floor((i.attack+i.defense+i.speed)/300*k);return k+$};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:a}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"card w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Sell Card"}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-space-700 rounded-lg transition-colors",children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-cyan-400 mb-3",children:"Card Preview"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(ht,{card:i,size:"normal",showStamp:!0})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-400 space-y-1",children:[e.jsxs("p",{children:[" Rarity: ",e.jsx("span",{className:"text-white font-semibold",children:i.rarity})]}),e.jsxs("p",{children:[" Ownership History: ",e.jsxs("span",{className:"text-white font-semibold",children:[i.ownership_count," stamps"]})]}),e.jsxs("p",{children:[" Battle Stats: ",e.jsxs("span",{className:"text-white font-semibold",children:[i.attack," ",i.defense," ",i.speed,""]})]})]})]}),e.jsx("div",{children:e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium mb-2",children:"Asking Price (GeoCoins)"}),e.jsxs("div",{className:"relative",children:[e.jsx(is,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"price",type:"number",min:"1",step:"1",value:d,onChange:k=>m(k.target.value),placeholder:"Enter price...",className:"input pl-10",required:!0})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["Suggested price: ",e.jsxs("span",{className:"text-cyan-400 font-semibold",children:[E()," GeoCoins"]})]})]}),e.jsxs("div",{className:"bg-space-800/50 border border-cyan-500/20 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-cyan-400 mb-2",children:"Important Information"}),e.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[e.jsx("li",{children:" Your card will be visible to all users on the marketplace"}),e.jsx("li",{children:' Your username will be anonymous (shown as "Seller #XXX")'}),e.jsx("li",{children:" Buyers can make counter-offers below your asking price"}),e.jsx("li",{children:" You must approve each offer before sale completes"}),e.jsx("li",{children:" Card cannot be used in battles while listed"})]})]}),j&&j.account_type_id===2&&e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-yellow-400",children:" Parent approval required before your listing goes live"})}),_&&e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-400",children:_})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"btn-secondary flex-1",disabled:f,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary flex-1",disabled:f,children:f?"Listing...":"List for Sale"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-space-600"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-space-800 px-2 text-gray-400",children:"or"})})]}),e.jsxs("button",{type:"button",onClick:N,className:"btn-secondary w-full justify-center bg-purple-500/10 hover:bg-purple-500/20 border-purple-500/30 text-purple-400",disabled:f,children:[e.jsx(la,{className:"h-4 w-4"}),e.jsx("span",{children:"Trade This Card Instead"})]})]})]})})]})})]})}),e.jsx(oa,{isOpen:b,onClose:F,title:"Card Listed!",message:g,buttonText:"Great!"})]})}function rp({isOpen:r,onClose:a,onConfirm:i,title:o,message:d,confirmText:m="Confirm",cancelText:f="Cancel",variant:h="info",isLoading:b=!1}){if(!r)return null;const g={danger:{icon:Vf,iconColor:"text-red-400",bgColor:"bg-red-900/20",borderColor:"border-red-500/30",buttonClass:"bg-red-600 hover:bg-red-700"},success:{icon:an,iconColor:"text-green-400",bgColor:"bg-green-900/20",borderColor:"border-green-500/30",buttonClass:"bg-green-600 hover:bg-green-700"},info:{icon:Cy,iconColor:"text-cyan-400",bgColor:"bg-cyan-900/20",borderColor:"border-cyan-500/30",buttonClass:"bg-cyan-600 hover:bg-cyan-700"}}[h],y=g.icon;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 backdrop-blur-sm",onClick:a}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"card w-full max-w-md animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:`flex items-center gap-3 p-6 border-b border-space-600 ${g.bgColor} ${g.borderColor}`,children:[e.jsx(y,{className:`h-6 w-6 ${g.iconColor}`}),e.jsx("h2",{className:"text-xl font-bold flex-1",children:o}),e.jsx("button",{onClick:a,className:"p-1 hover:bg-space-700 rounded-lg transition-colors",disabled:b,children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-gray-300 leading-relaxed",children:d})}),e.jsxs("div",{className:"flex gap-3 p-6 pt-0",children:[e.jsx("button",{onClick:a,className:"btn-secondary flex-1",disabled:b,children:f}),e.jsx("button",{onClick:i,className:`flex-1 px-4 py-2 rounded-lg font-semibold text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${g.buttonClass}`,disabled:b,children:b?"Processing...":m})]})]})})]})}function eb({isOpen:r,onClose:a,card:i,listingId:o,currentPrice:d=0,onSuccess:m}){const[f,h]=v.useState(d.toString()),[b,p]=v.useState(!1),[g,y]=v.useState(!1),[_,C]=v.useState(!1),[j,w]=v.useState(""),[N,L]=v.useState("");if(v.useEffect(()=>{r&&d&&(h(d.toString()),L(""))},[r,d]),!r)return null;const F=async D=>{if(D.preventDefault(),!o){L("Listing ID is required");return}const H=parseFloat(f);if(isNaN(H)||H<=0){L("Please enter a valid price");return}p(!0),L("");try{const ae=await _t.updateListing(o,H);ae.data.success&&(w(ae.data.message||"Listing price updated successfully!"),C(!0),m?.())}catch(ae){L(je(ae))}finally{p(!1)}},E=()=>{if(!o){L("Listing ID is required");return}y(!0)},k=async()=>{y(!1),p(!0),L("");try{const D=await _t.cancelListing(o);D.data.success&&(w(D.data.message||"Listing cancelled successfully!"),C(!0),m?.())}catch(D){L(je(D))}finally{p(!1)}},$=()=>{C(!1),a()},I=()=>{const D={Common:1,Rare:5,Epic:20,Legendary:50}[i.rarity]||10,H=Math.floor((i.attack+i.defense+i.speed)/300*D);return D+H};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:a}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"card w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Edit Listing"}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-space-700 rounded-lg transition-colors",children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-cyan-400 mb-3",children:"Card Preview"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(ht,{card:i,size:"normal",showStamp:!0})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-400 space-y-1",children:[e.jsxs("p",{children:[" Rarity: ",e.jsx("span",{className:"text-white font-semibold",children:i.rarity})]}),e.jsxs("p",{children:[" Ownership History: ",e.jsxs("span",{className:"text-white font-semibold",children:[i.ownership_count," stamps"]})]}),e.jsxs("p",{children:[" Battle Stats: ",e.jsxs("span",{className:"text-white font-semibold",children:[i.attack," ",i.defense," ",i.speed,""]})]})]})]}),e.jsxs("div",{children:[e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium mb-2",children:"Asking Price (GeoCoins)"}),e.jsxs("div",{className:"relative",children:[e.jsx(is,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"price",type:"number",min:"1",step:"1",value:f,onChange:D=>h(D.target.value),placeholder:"Enter price...",className:"input pl-10",required:!0})]}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("p",{className:"text-xs text-gray-400",children:["Current price: ",e.jsxs("span",{className:"text-white font-semibold",children:[d," GeoCoins"]})]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Suggested price: ",e.jsxs("span",{className:"text-cyan-400 font-semibold",children:[I()," GeoCoins"]})]})]})]}),e.jsxs("div",{className:"bg-space-800/50 border border-cyan-500/20 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-cyan-400 mb-2",children:"Update Information"}),e.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[e.jsx("li",{children:" Updating the price will not affect existing offers"}),e.jsx("li",{children:" New buyers will see the updated price"}),e.jsx("li",{children:" You can update the price multiple times"})]})]}),N&&e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-400",children:N})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:a,className:"btn-secondary flex-1",disabled:b,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary flex-1",disabled:b,children:b?"Updating...":"Update Price"})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-space-600",children:[e.jsx("h4",{className:"text-sm font-semibold text-red-400 mb-2",children:"Danger Zone"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Cancel this listing to remove it from the marketplace and make the card available for battles again."}),e.jsxs("button",{type:"button",onClick:E,className:"btn-secondary w-full text-red-400 border-red-400/30 hover:bg-red-900/20",disabled:b,children:[e.jsx(Zs,{className:"h-4 w-4"}),e.jsx("span",{children:"Cancel Listing"})]})]})]})]})})]})}),e.jsx(rp,{isOpen:g,onClose:()=>y(!1),onConfirm:k,title:"Cancel Listing?",message:"Are you sure you want to cancel this listing? The card will be removed from the marketplace and become available for battles again. This action cannot be undone.",confirmText:"Yes, Cancel Listing",cancelText:"Keep Listing",variant:"danger",isLoading:b}),e.jsx(oa,{isOpen:_,onClose:$,title:j.includes("cancelled")?"Listing Cancelled!":"Price Updated!",message:j,buttonText:"Done"})]})}function tb(){const[r,a]=v.useState([]),[i,o]=v.useState([]),[d,m]=v.useState(!0),[f,h]=v.useState(""),[b,p]=v.useState(!1),[g,y]=v.useState(null),[_,C]=v.useState(!1),[j,w]=v.useState(null),[N,L]=v.useState(null),[F,E]=v.useState(""),[k,$]=v.useState("all"),[I,D]=v.useState("all"),[H,ae]=v.useState("acquired");v.useEffect(()=>{xe()},[]),v.useEffect(()=>{ne()},[r,F,k,I,H]);const xe=async()=>{m(!0),h("");try{const V=await wr.getCollection();V.data.success&&V.data.data?a(V.data.data.cards||[]):h(V.data.message||"Failed to load collection")}catch(V){h(je(V))}finally{m(!1)}},ne=()=>{let V=[...r];if(F){const U=F.toLowerCase();V=V.filter(Y=>(Y.card_name||"").toLowerCase().includes(U)||(Y.card_type||"").toLowerCase().includes(U))}k!=="all"&&(V=V.filter(U=>U.card_type===k)),I!=="all"&&(V=V.filter(U=>U.rarity===I));const G={Legendary:4,Epic:3,Rare:2,Common:1};V.sort((U,Y)=>{switch(H){case"name":return(U.card_name||"").localeCompare(Y.card_name||"");case"rarity":return(G[Y.rarity]||0)-(G[U.rarity]||0);case"attack":return(Y.attack??0)-(U.attack??0);case"defense":return(Y.defense??0)-(U.defense??0);case"speed":return(Y.speed??0)-(U.speed??0);case"acquired":return new Date(Y.acquired_at||0).getTime()-new Date(U.acquired_at||0).getTime();default:return 0}}),o(V)},q=()=>{xe()},O=["all","Igneous","Metamorphic","Sedimentary","Ore","Metal","Jewel","Crystal","Fossil"],re=["all","Common","Rare","Epic","Legendary"],Z={total:r.length,common:r.filter(V=>V.rarity==="Common").length,rare:r.filter(V=>V.rarity==="Rare").length,epic:r.filter(V=>V.rarity==="Epic").length,legendary:r.filter(V=>V.rarity==="Legendary").length},le={igneous:r.filter(V=>V.card_type==="Igneous").length,metamorphic:r.filter(V=>V.card_type==="Metamorphic").length,sedimentary:r.filter(V=>V.card_type==="Sedimentary").length,ore:r.filter(V=>V.card_type==="Ore").length,metal:r.filter(V=>V.card_type==="Metal").length,jewel:r.filter(V=>V.card_type==="Jewel").length,crystal:r.filter(V=>V.card_type==="Crystal").length,fossil:r.filter(V=>V.card_type==="Fossil").length};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Card Collection"}),e.jsxs("p",{className:"mt-1 text-cyan-300",children:[Z.total," cards total  ",i.length," shown"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>C(!0),className:"btn-secondary",disabled:r.length===0,children:[e.jsx(Ly,{className:"h-5 w-5"}),e.jsx("span",{children:"Print Collection"})]}),e.jsxs("button",{onClick:()=>p(!0),className:"btn-primary",children:[e.jsx(ft,{className:"h-5 w-5"}),e.jsx("span",{children:"Buy Card Pack"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-cyan-300 mb-2 uppercase tracking-wide",children:"By Rarity"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-cyan-300 mb-1",children:"Total Cards"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:Z.total})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Common"}),e.jsx("div",{className:"text-2xl font-bold text-gray-300",children:Z.common})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-blue-400 mb-1",children:"Rare"}),e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:Z.rare})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-purple-400 mb-1",children:"Epic"}),e.jsx("div",{className:"text-2xl font-bold text-purple-400",children:Z.epic})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-orange-400 mb-1",children:"Legendary"}),e.jsx("div",{className:"text-2xl font-bold text-orange-400",children:Z.legendary})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-cyan-300 mb-2 uppercase tracking-wide",children:"By Type"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-4",children:[e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-red-400 mb-1",children:"Igneous"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:le.igneous})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-purple-400 mb-1",children:"Metamorphic"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:le.metamorphic})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-yellow-400 mb-1",children:"Sedimentary"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:le.sedimentary})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-stone-400 mb-1",children:"Ore"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:le.ore})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-blue-400 mb-1",children:"Metal"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:le.metal})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-pink-400 mb-1",children:"Jewel"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:le.jewel})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-cyan-400 mb-1",children:"Crystal"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:le.crystal})]}),e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"text-sm text-amber-400 mb-1",children:"Fossil"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:le.fossil})]})]})]}),e.jsx("div",{className:"card p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:F,onChange:V=>E(V.target.value),placeholder:"Search cards...",className:"input pl-10"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Al,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("select",{value:k,onChange:V=>$(V.target.value),className:"input pl-10 appearance-none",children:O.map(V=>e.jsx("option",{value:V,children:V==="all"?"All Types":V},V))})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Al,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("select",{value:I,onChange:V=>D(V.target.value),className:"input pl-10 appearance-none",children:re.map(V=>e.jsx("option",{value:V,children:V==="all"?"All Rarities":V},V))})]}),e.jsxs("div",{className:"relative",children:[e.jsx(vy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsxs("select",{value:H,onChange:V=>ae(V.target.value),className:"input pl-10 appearance-none",children:[e.jsx("option",{value:"acquired",children:"Recently Acquired"}),e.jsx("option",{value:"name",children:"Name (A-Z)"}),e.jsx("option",{value:"rarity",children:"Rarity (High-Low)"}),e.jsx("option",{value:"attack",children:"Attack (High-Low)"}),e.jsx("option",{value:"defense",children:"Defense (High-Low)"}),e.jsx("option",{value:"speed",children:"Speed (High-Low)"})]})]})]})}),d&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}),f&&e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 text-red-600",children:f}),!d&&!f&&r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ft,{className:"mx-auto h-16 w-16 text-space-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No cards yet"}),e.jsx("p",{className:"text-cyan-300 mb-6",children:"Purchase your first card pack to get started!"}),e.jsxs("button",{onClick:()=>p(!0),className:"btn-primary inline-flex",children:[e.jsx(ft,{className:"h-5 w-5"}),e.jsx("span",{children:"Buy Card Pack"})]})]}),!d&&!f&&r.length>0&&i.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ks,{className:"mx-auto h-16 w-16 text-space-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No cards found"}),e.jsx("p",{className:"text-cyan-300 mb-4",children:"Try adjusting your filters or search query"}),e.jsx("button",{onClick:()=>{E(""),$("all"),D("all")},className:"btn-secondary inline-flex",children:"Clear Filters"})]}),!d&&!f&&i.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6",children:i.map(V=>e.jsxs("div",{className:"relative group",children:[e.jsx(ht,{card:V,onClick:()=>y(V),showStamp:!0,size:"small"}),V.is_in_marketplace?e.jsxs("button",{onClick:G=>{G.stopPropagation(),L(V)},className:"absolute bottom-2 right-2 btn-secondary text-xs py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity bg-cyan-600 hover:bg-cyan-700 border-cyan-500",title:"Edit listing",children:[e.jsx(ln,{className:"h-3 w-3"}),e.jsx("span",{children:"Edit"})]}):e.jsxs("button",{onClick:G=>{G.stopPropagation(),w(V)},className:"absolute bottom-2 right-2 btn-primary text-xs py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity",title:"Sell this card",children:[e.jsx(is,{className:"h-3 w-3"}),e.jsx("span",{children:"Sell"})]})]},V.user_card_id))}),e.jsx(Kv,{isOpen:b,onClose:()=>p(!1),onPurchaseSuccess:q}),e.jsx(wc,{card:g,isOpen:!!g,onClose:()=>y(null)}),e.jsx(Zv,{isOpen:!!j,onClose:()=>w(null),card:j,onSuccess:()=>{xe(),w(null)}}),e.jsx(eb,{isOpen:!!N,onClose:()=>L(null),card:N,listingId:N?.listing_id,currentPrice:N?.marketplace_price,onSuccess:()=>{xe(),L(null)}}),_&&e.jsx(Xv,{cards:r,onClose:()=>C(!1)})]})}function sb({isOpen:r,onClose:a,onDeckCreated:i,editingDeck:o}){const[d,m]=v.useState([]),[f,h]=v.useState([]),[b,p]=v.useState(""),[g,y]=v.useState(!1),[_,C]=v.useState(!1),[j,w]=v.useState("");v.useEffect(()=>{if(r)if(L(),o){p(o.deck_name||"");const I=o.deck_id;console.log("Loading deck for editing:",{deckId:I,editingDeck:o}),I&&typeof I=="number"?N(I):(console.error("Editing deck has invalid deck_id:",o),w("Invalid deck ID. Please try again."))}else p(""),h([])},[r,o]);const N=async I=>{console.log("loadDeckForEditing called with deckId:",I);try{console.log("Calling battlesApi.getDeckDetails with:",I);const D=await tt.getDeckDetails(I);if(console.log("getDeckDetails response:",D.data),D.data.success&&D.data.data?.cards){const H=D.data.data.cards.map(ae=>ae.user_card_id);console.log("Loaded card IDs for deck:",H),h(H)}else console.warn("No cards found in deck details response")}catch(D){console.error("Failed to load deck details:",D),w("Failed to load deck details. Please try again.")}},L=async()=>{y(!0),w("");try{const I=await wr.getCollection();if(I.data.success&&I.data.data?.cards){const D=I.data.data.cards.filter(H=>H.available_for_battle);m(D)}}catch(I){w(je(I))}finally{y(!1)}},F=I=>{f.includes(I)?h(f.filter(D=>D!==I)):f.length<5&&h([...f,I])},E=async()=>{if(!b.trim()){w("Please enter a deck name");return}if(f.length!==5){w("Please select exactly 5 cards");return}C(!0),w("");try{o&&await tt.deleteDeck(o.deck_id);const I=await tt.createDeck(b,f);I.data.success?(i(),a(),k()):w(I.data.message||`Failed to ${o?"update":"create"} deck`)}catch(I){w(je(I))}finally{C(!1)}},k=()=>{p(""),h([]),w("")};if(!r)return null;const $=d.filter(I=>f.includes(I.user_card_id));return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-6xl rounded-2xl bg-white shadow-2xl animate-scale-in my-8",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-space-600 p-6 bg-space-800/50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:o?"Edit Battle Deck":"Create Battle Deck"}),e.jsxs("p",{className:"text-sm text-cyan-300",children:["Select 5 cards for your battle deck (",f.length,"/5 selected)"]})]}),e.jsx("button",{onClick:()=>{a(),k()},className:"rounded-lg p-2 text-space-400 transition-colors hover:bg-space-700 hover:text-cyan-300",children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 bg-space-900",children:[j&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-900/30 border border-red-500/50 p-4 text-sm text-red-300",children:j}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"deckName",className:"block text-sm font-medium text-cyan-300 mb-2",children:"Deck Name"}),e.jsx("input",{id:"deckName",type:"text",value:b,onChange:I=>p(I.target.value),placeholder:"Enter a name for your deck...",className:"input",disabled:_})]}),f.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-cyan-300 mb-3",children:"Selected Cards"}),e.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[$.map(I=>e.jsx("div",{className:"relative",children:e.jsx(ht,{card:I,selected:!0,onClick:()=>F(I.user_card_id),size:"small"})},I.user_card_id)),Array.from({length:5-f.length}).map((I,D)=>e.jsx("div",{className:"aspect-[2.5/3.5] rounded-xl border-2 border-dashed border-space-600 flex items-center justify-center text-space-500",children:e.jsx(Jt,{className:"h-8 w-8"})},`empty-${D}`))]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-cyan-300 mb-3",children:"Available Cards"}),g?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}):d.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-cyan-300",children:"No available cards. All your cards are either in other decks or recharging."})}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 max-h-[400px] overflow-y-auto p-1",children:d.map(I=>e.jsxs("div",{className:`relative ${f.length>=5&&!f.includes(I.user_card_id)?"opacity-50 pointer-events-none":""}`,children:[e.jsx(ht,{card:I,selected:f.includes(I.user_card_id),onClick:()=>F(I.user_card_id),size:"small"}),f.includes(I.user_card_id)&&e.jsx("div",{className:"absolute top-2 right-2 bg-primary-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:f.indexOf(I.user_card_id)+1})]},I.user_card_id))})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-space-600 bg-space-800/50 p-6",children:[e.jsx("button",{onClick:()=>{a(),k()},disabled:_,className:"btn-secondary",children:"Cancel"}),e.jsx("button",{onClick:E,disabled:_||f.length!==5||!b.trim(),className:"btn-primary",children:_?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(At,{className:"h-4 w-4"}),e.jsx("span",{children:o?"Update Deck":"Create Deck"})]})})]})]})})}function rb({deckId:r}){const[a,i]=v.useState([]),[o,d]=v.useState(!0),[m,f]=v.useState(!1);v.useEffect(()=>{h()},[r]);const h=async()=>{d(!0),f(!1);try{const j=await tt.getDeckDetails(r);j.data.success&&j.data.data?.cards?i(j.data.data.cards.slice(0,5)):f(!0)}catch(j){console.error("Failed to fetch deck cards:",j),f(!0)}finally{d(!1)}};if(o)return e.jsx("div",{className:"flex justify-center items-center h-20",children:e.jsx(we,{size:"small"})});if(m||a.length===0)return e.jsx("div",{className:"text-xs text-gray-400 text-center py-4",children:"No cards found"});const b=a.length,p=80,g=-p/2,y=b>1?p/(b-1):0,_=90,C=25;return e.jsx("div",{className:"relative flex items-center justify-center",style:{height:"140px",marginTop:"10px",marginBottom:"10px"},children:a.map((j,w)=>{const N=g+y*w,L=(w-(b-1)/2)*C,F=Math.abs(N)*.5;return e.jsx("div",{style:{position:"absolute",transform:`translateX(${L}px) translateY(${F}px) rotate(${N}deg)`,transformOrigin:"center bottom",transition:"all 0.3s ease",zIndex:w,pointerEvents:"none"},children:e.jsx("div",{style:{width:`${_}px`},children:e.jsx(ht,{card:j,size:"tiny",showStamp:!1})})},j.user_card_id)})})}function nb({isOpen:r,onClose:a,battleId:i,playerDeck:o,opponentDeck:d,battleMode:m,opponentName:f,playerDeckName:h="Your Deck",opponentDeckName:b="Opponent Deck"}){const[p,g]=v.useState({phase:1,playerCard:null,opponentCard:null,playerScore:{speed:0,attack:0,defense:0},opponentScore:{speed:0,attack:0,defense:0},playerWins:0,opponentWins:0,isComplete:!1,winner:null}),[y,_]=v.useState([]),[C,j]=v.useState(!1),[w,N]=v.useState(null),L=v.useRef(null);v.useEffect(()=>{r&&o.length>0&&d.length>0&&k()},[r,o,d]),v.useEffect(()=>{L.current?.scrollIntoView({behavior:"smooth"})},[y]);const F=(O,re="info")=>{_(Z=>[...Z,{id:`${Date.now()}-${Math.random()}`,message:O,type:re,timestamp:Date.now()}])},E=O=>{const re=Math.floor(O*(Math.random()*.1-.05));return Math.max(1,O+re)},k=()=>{_([]),F(`Battle ${i} started!`,"info"),F(`Mode: ${H(m)}`,"info"),F("Selecting first cards...","info"),setTimeout(()=>{$(1)},1667)},$=(O,re,Z)=>{if(O>5){D(re,Z);return}F(`
=== PHASE ${O} ===`,"info");const le=o[O-1],V=d[O-1],G=E(le.speed||50),U=E(le.attack||50),Y=E(le.defense||50),R=E(V.speed||50),P=E(V.attack||50),te=E(V.defense||50);g(ve=>({...ve,phase:O,playerCard:le,opponentCard:V,playerScore:{speed:G,attack:U,defense:Y},opponentScore:{speed:R,attack:P,defense:te}})),F(`You play: ${le.card_name}`,"info"),F(`${f} plays: ${V.card_name}`,"info");const ie=G-(le.speed||50),fe=R-(V.speed||50);(Math.abs(ie)>0||Math.abs(fe)>0)&&F("Daily variance applied to beast stats!","info"),setTimeout(()=>{const ve=(le.attack||0)>=(V.attack||0)?"player":"opponent";F(`${ve==="player"?"Your":f+"'s"} ${ve==="player"?le.card_name:V.card_name} attacks first!`,"attack"),setTimeout(()=>{I(ve,le,V)},1667)},1667)},I=(O,re,Z,le={speed:re.speed||0,attack:re.attack||0,defense:re.defense||0},V={speed:Z.speed||0,attack:Z.attack||0,defense:Z.defense||0})=>{N(O),j(!0);const G=O==="player"?re:Z,U=O==="player"?Z:re,Y=O==="player"?le:V,R=O==="player"?V:le;F(`${O==="player"?"Your":f+"'s"} ${G.card_name} attacks!`,"attack"),setTimeout(()=>{const P=Y.speed;if(R.speed>P){F(`The attack missed! ${U.card_name} was too fast!`,"miss");const ie=O==="player"?"opponent":"player";setTimeout(()=>{j(!1),I(ie,re,Z,le,V)},1667)}else{const ie=Y.attack,fe=R.defense;let ve=0;ie>fe?ve=ie-fe:ve=10;const ke=Math.max(0,R.defense-ve);F(`HIT! ${U.card_name} takes ${ve} damage!`,"hit"),F(`${U.card_name} defense: ${R.defense}  ${ke}`,"info");const he=Math.max(0,Y.speed-10);F(`${G.card_name} speed reduced: ${Y.speed}  ${he}`,"info");const _e=O==="player"?{...le,speed:he}:{...le,defense:ke},Ye=O==="opponent"?{...V,speed:he}:{...V,defense:ke};g(Qe=>({...Qe,playerScore:_e,opponentScore:Ye})),setTimeout(()=>{if(j(!1),ke<=0){const Qe=O;F(`${Qe==="player"?"Your":f+"'s"} ${G.card_name} wins this phase!`,Qe==="player"?"victory":"defeat");const _s=Qe==="player"?re:Z,ks=Qe==="player"?Z:re,ms=Qe==="player"?{speed:re.speed||0,attack:re.attack||0,defense:re.defense||0}:{speed:Z.speed||0,attack:Z.attack||0,defense:Z.defense||0},Ss=Qe==="player"?{speed:Z.speed||0,attack:Z.attack||0,defense:Z.defense||0}:{speed:re.speed||0,attack:re.attack||0,defense:re.defense||0};let er=0,fs=0,ee=0,Re=0;g(lt=>(Re=lt.phase,er=lt.phase+1,fs=Qe==="player"?lt.playerWins+1:lt.playerWins,ee=Qe==="opponent"?lt.opponentWins+1:lt.opponentWins,{...lt,playerWins:fs,opponentWins:ee})),tt.logPhaseResult(i,Re,_s.user_card_id,ks.user_card_id,{start_speed:ms.speed,start_attack:ms.attack,start_defense:ms.defense,end_speed:Y.speed,end_attack:Y.attack,end_defense:Y.defense},{start_speed:Ss.speed,start_attack:Ss.attack,start_defense:Ss.defense,end_speed:R.speed,end_attack:R.attack,end_defense:ke}).catch(lt=>{console.error("Failed to log phase result:",lt)}),setTimeout(()=>{$(er,fs,ee)},2667)}else setTimeout(()=>{I(O,re,Z,_e,Ye)},1667)},1667)}},1667)},D=(O,re)=>{const Z=O??p.playerWins,le=re??p.opponentWins;let V;Z>le?(V="player",F(`
 VICTORY! You won the battle!`,"victory")):le>Z?(V="opponent",F(`
 DEFEAT! ${f} won the battle!`,"defeat")):(V="draw",F(`
 DRAW! The battle ended in a tie!`,"info")),tt.completeBattleFrontend(i,Z,le).then(G=>{G.data.success&&console.log("Battle completed successfully:",G.data.data)}).catch(G=>{console.error("Failed to complete battle:",G)}),g(G=>({...G,isComplete:!0,winner:V}))},H=O=>{switch(O){case 1:return"Friendly (No Stakes)";case 2:return"Competitive (Winner Takes Phase Cards)";case 3:return"Ultimate (Winner Takes All)"}},ae=O=>{switch(O){case"attack":return"text-yellow-300";case"hit":return"text-red-400";case"miss":return"text-blue-400";case"victory":return"text-green-400 font-bold";case"defeat":return"text-red-500 font-bold";default:return"text-cyan-300"}},xe=O=>{const re={attack:["WHOOSH!","SWOOSH!","ZOOM!","SLASH!"],hit:["POW!","WHAM!","BAM!","SMASH!","BOOM!","CRASH!","THWACK!"],miss:["WHIFF!","SWOOSH!","MISS!","DODGE!"]};if(O in re){const Z=re[O];return Z[Math.floor(Math.random()*Z.length)]}return null},ne=O=>{const re={attack:{c1:"#ff2d95",c2:"#ffd400",badge:"#ff0066",title:"#1b132b"},hit:{c1:"#ff3b3f",c2:"#ffdd57",badge:"#6bffb1",title:"#2b1012"},miss:{c1:"#00d0ff",c2:"#ff0066",badge:"#ffd400",title:"#1b132b"},victory:{c1:"#7cff5f",c2:"#4de0ff",badge:"#ff3a6b",title:"#270f3a"},defeat:{c1:"#ff7f50",c2:"#8b00ff",badge:"#00d4ff",title:"#3a2e2e"},info:{c1:"#667eea",c2:"#764ba2",badge:"#f093fb",title:"#1a202c"}};return re[O]||re.info},q=O=>{const re=xe(O.type),Z=ne(O.type),le=(Math.random()*6-3).toFixed(2);return["attack","hit","miss","victory","defeat"].includes(O.type)?e.jsxs("div",{className:"relative",style:{padding:"16px 18px",border:"8px solid #fff",borderRadius:"4px",background:`linear-gradient(135deg, ${Z.c1}, ${Z.c2})`,boxShadow:"10px 10px 0 rgba(0,0,0,0.7)",transform:`rotate(${le}deg)`,transformOrigin:"center",overflow:"hidden",transition:"transform 0.15s ease",animation:"comicPop 0.45s cubic-bezier(0.2,0.9,0.3,1) both","--tilt":`${le}deg`},onMouseEnter:V=>{V.currentTarget.style.transform=`translateY(-4px) rotate(${le}deg) scale(1.02)`},onMouseLeave:V=>{V.currentTarget.style.transform=`rotate(${le}deg)`},children:[e.jsx("div",{style:{content:'""',position:"absolute",inset:0,background:"radial-gradient(circle at 10% 10%, rgba(0,0,0,0.08) 1px, transparent 2px), radial-gradient(circle at 60% 40%, rgba(0,0,0,0.06) 1px, transparent 3px)",backgroundSize:"6px 6px, 10px 10px",opacity:.25,mixBlendMode:"multiply",pointerEvents:"none",transform:"scale(1.6) rotate(8deg)"}}),re&&e.jsx("div",{style:{position:"absolute",top:"8px",right:"8px",background:Z.badge,color:"#fff",padding:"6px 12px",fontFamily:"'Bangers', 'Comic Sans MS', cursive",fontSize:"20px",borderRadius:"6px",border:"3px solid #fff",WebkitTextStroke:"1px #000",transform:"rotate(-6deg)",boxShadow:"6px 6px 0 rgba(0,0,0,0.8)",zIndex:10},children:re}),e.jsx("div",{style:{fontFamily:"'Bangers', 'Comic Sans MS', cursive",fontSize:"18px",lineHeight:"1.25",color:"#fff",fontWeight:900,WebkitTextStroke:"1.5px rgba(0,0,0,0.8)",textShadow:"1px 1px 0 rgba(0,0,0,0.45)",position:"relative",zIndex:1,paddingRight:re?"80px":"0"},children:O.message.toUpperCase()}),e.jsx("div",{style:{marginTop:"8px",fontSize:"10px",color:"#222",fontWeight:700,position:"relative",zIndex:1},children:new Date(O.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}):e.jsx("div",{className:`text-sm ${ae(O.type)} font-mono`,children:O.message})};return r?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:e.jsxs("div",{className:"w-full max-w-7xl h-[90vh] rounded-2xl shadow-2xl animate-scale-in flex flex-col",style:{background:"linear-gradient(135deg, #0f172a 0%, #020617 50%, #1e1e3f 100%)",border:"1px solid rgba(0, 245, 255, 0.2)"},children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-space-600",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",style:{textShadow:"0 0 20px rgba(0, 245, 255, 0.5)"},children:"Battle Arena"}),e.jsxs("p",{className:"text-sm text-cyan-300 mt-1",children:["Phase ",p.phase," of 5  Score: ",p.playerWins," - ",p.opponentWins]})]}),e.jsx("button",{onClick:a,disabled:C&&!p.isComplete,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-space-700 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-6 p-6 min-h-0",children:[e.jsxs("div",{className:"flex flex-col items-center justify-start space-y-4 overflow-hidden",children:[e.jsx("h3",{className:"text-lg font-bold text-cyan-400 flex-shrink-0",children:"You"}),p.playerCard&&e.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold text-cyan-300 text-center px-4 py-2 bg-cyan-900/30 rounded-lg border border-cyan-500/30",children:h}),e.jsx("div",{className:`transition-transform duration-500 ${w==="player"&&C?"scale-110 translate-x-8":""}`,children:e.jsxs("div",{className:"relative",children:[e.jsx(ht,{card:p.playerCard,size:"normal"}),e.jsxs("div",{className:"absolute bottom-2 left-2 right-2 bg-black/80 rounded-lg p-2 space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-white",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(vr,{className:"h-3 w-3 text-yellow-400"})," Speed"]}),e.jsx("span",{className:"font-bold",children:p.playerScore.speed})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-white",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Jm,{className:"h-3 w-3 text-red-400"})," Attack"]}),e.jsx("span",{className:"font-bold",children:p.playerScore.attack})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-white",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ea,{className:"h-3 w-3 text-blue-400"})," Defense"]}),e.jsx("span",{className:"font-bold",children:p.playerScore.defense})]})]})]})})]})]}),e.jsxs("div",{className:"flex flex-col bg-space-900/50 rounded-xl border border-space-600 p-4 min-h-0",children:[e.jsx("h3",{className:"text-lg font-bold text-cyan-400 mb-4 text-center flex-shrink-0",children:"Battle Log"}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 font-mono text-xs min-h-0",children:[y.map(O=>e.jsx("div",{className:"whitespace-pre-wrap",children:q(O)},O.id)),e.jsx("div",{ref:L})]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-start space-y-4 overflow-hidden",children:[e.jsx("h3",{className:"text-lg font-bold text-red-400 flex-shrink-0",children:f}),p.opponentCard&&e.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold text-red-300 text-center px-4 py-2 bg-red-900/30 rounded-lg border border-red-500/30",children:b}),e.jsx("div",{className:`transition-transform duration-500 ${w==="opponent"&&C?"scale-110 -translate-x-8":""}`,children:e.jsxs("div",{className:"relative",children:[e.jsx(ht,{card:p.opponentCard,size:"normal"}),e.jsxs("div",{className:"absolute bottom-2 left-2 right-2 bg-black/80 rounded-lg p-2 space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-white",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(vr,{className:"h-3 w-3 text-yellow-400"})," Speed"]}),e.jsx("span",{className:"font-bold",children:p.opponentScore.speed})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-white",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Jm,{className:"h-3 w-3 text-red-400"})," Attack"]}),e.jsx("span",{className:"font-bold",children:p.opponentScore.attack})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-white",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ea,{className:"h-3 w-3 text-blue-400"})," Defense"]}),e.jsx("span",{className:"font-bold",children:p.opponentScore.defense})]})]})]})})]})]})]}),p.isComplete&&e.jsx("div",{className:"p-6 border-t border-space-600 flex justify-center",children:e.jsx("button",{onClick:a,className:"btn-primary",children:"Close Battle"})})]})}):null}function ab(){const r=us(),[a,i]=v.useState([]),[o,d]=v.useState([]),[m,f]=v.useState(!0),[h,b]=v.useState(!0),[p,g]=v.useState(""),[y,_]=v.useState(!1),[C,j]=v.useState(null),[w,N]=v.useState(null),[L,F]=v.useState(1),[E,k]=v.useState("ai"),[$,I]=v.useState(null),[D,H]=v.useState([]),[ae,xe]=v.useState(!1),[ne,q]=v.useState(!1),[O,re]=v.useState(!1),[Z,le]=v.useState(null),[V,G]=v.useState([]),[U,Y]=v.useState([]),[R,P]=v.useState(""),[te,ie]=v.useState(""),[fe,ve]=v.useState(""),[ke,he]=v.useState(null),[_e,Ye]=v.useState("offline");v.useEffect(()=>{Qe(),_s(),ks(),ms()},[]),v.useEffect(()=>{const ee=r.state;ee?.selectedFriendId&&(k("friend"),I(ee.selectedFriendId))},[r.state]);const Qe=async()=>{f(!0),g("");try{const ee=await tt.getDecks();if(ee.data.success&&ee.data.data){const Re=ee.data.data.decks||[];console.log("Fetched decks:",Re),i(Re)}}catch(ee){console.error("Failed to fetch decks:",ee),g(je(ee))}finally{f(!1)}},_s=async()=>{b(!0);try{const ee=await tt.getBattleHistory(10);ee.data.success&&ee.data.data&&d(ee.data.data.battles||ee.data.data||[])}catch(ee){console.error("Failed to load battle history:",ee)}finally{b(!1)}},ks=async()=>{xe(!0);try{const ee=await Rt.getFriends();if(ee.data.success&&ee.data.data){const Re=ee.data.data.friends||[];H(Re)}}catch(ee){console.error("Failed to load friends:",ee)}finally{xe(!1)}},ms=async()=>{try{const ee=await tt.getDefaultDeck();ee.data.success&&ee.data.data&&he(ee.data.data.battle_deck_id||ee.data.data.deck_id)}catch(ee){console.error("Failed to load default deck:",ee)}},Ss=async ee=>{try{(await tt.setDefaultDeck(ee)).data.success&&he(ee)}catch(Re){alert(je(Re))}},er=async ee=>{if(confirm("Are you sure you want to delete this deck?"))try{(await tt.deleteDeck(ee)).data.success&&(Qe(),w===ee&&N(null))}catch(Re){alert(je(Re))}},fs=async()=>{if(!w){alert("Please select a deck first");return}if(E==="friend"&&!$){alert("Please select a friend to battle");return}q(!0);try{const ee=await tt.getDeckDetails(w);if(!ee.data.success||!ee.data.data?.cards)throw new Error("Failed to load your deck");const Re=ee.data.data.cards,Cs=a.find(Ut=>Ut.deck_id===w)?.deck_name||"Your Deck";ie(Cs);let tr,ps;if(E==="ai")tr=Re.map(Ut=>({...Ut,user_card_id:Ut.user_card_id+1e4,speed:Math.max(10,(Ut.speed||50)+Math.floor(Math.random()*20-10)),attack:Math.max(10,(Ut.attack||50)+Math.floor(Math.random()*20-10)),defense:Math.max(10,(Ut.defense||50)+Math.floor(Math.random()*20-10))})),ps="AI Opponent",ve("AI Deck");else if(ps=D.find(it=>it.friend_user_code===$)?.friend_username||"Friend",_e==="offline")try{const it=await tt.getFriendDefaultDeck($);if(!it.data.success||!it.data.data?.cards)throw new Error("Friend has no default deck set. Please ask them to set one first.");tr=it.data.data.cards,ps=it.data.data.friend_username||ps,ve(it.data.data.deck_name||"Friend's Deck")}catch(it){throw new Error(it.response?.data?.message||"Failed to load friend's deck")}else try{if((await tt.sendBattleInvitation($,w,L)).data.success){alert(`Battle invitation sent to ${ps}! They will be notified in chat.`),q(!1);return}else throw new Error("Failed to send battle invitation")}catch(it){throw new Error(it.response?.data?.message||"Failed to send battle invitation")}const _r=await tt.initiateBattle({deck_id:w,battle_mode:L,opponent_type:E,opponent_user_code:E==="friend"?$:void 0});if(!_r.data.success||!_r.data.data?.battle_id)throw new Error("Failed to create battle");const ca=_r.data.data.battle_id;le(ca),G(Re),Y(tr),P(ps),re(!0),_s()}catch(ee){alert(je(ee))}finally{q(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Battles"}),e.jsx("p",{className:"mt-1 text-cyan-300",children:"Manage your decks and challenge opponents"})]}),e.jsxs("button",{onClick:()=>{j(null),_(!0)},className:"btn-primary",children:[e.jsx(Jt,{className:"h-5 w-5"}),e.jsx("span",{children:"Create Deck"})]})]}),p&&e.jsx("div",{className:"mb-6 rounded-lg bg-red-900/30 border border-red-500/50 p-4 text-red-300",children:p}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Your Decks"}),e.jsx("p",{className:"text-sm text-cyan-300 mt-1",children:"Create and manage your battle decks"})]}),e.jsx("div",{className:"p-6",children:m?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(we,{size:"large"})}):a.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Kt,{className:"mx-auto h-12 w-12 text-space-500 mb-3"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No decks yet"}),e.jsx("p",{className:"text-cyan-300 mb-4",children:"Create your first battle deck to start playing"}),e.jsxs("button",{onClick:()=>{j(null),_(!0)},className:"btn-primary inline-flex",children:[e.jsx(Jt,{className:"h-5 w-5"}),e.jsx("span",{children:"Create Deck"})]})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:a.map(ee=>e.jsxs("div",{className:`card-hover p-4 cursor-pointer transition-all ${w===ee.deck_id?"ring-2 ring-primary-500 bg-primary-900/20":""}`,onClick:()=>{console.log("Deck clicked:",ee.deck_id),N(ee.deck_id)},children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-white",children:ee.deck_name}),e.jsxs("p",{className:"text-sm text-cyan-300",children:[ee.card_count," cards"]})]}),e.jsxs("div",{className:"flex gap-1",onClick:Re=>Re.stopPropagation(),children:[e.jsx("button",{onClick:Re=>{Re.stopPropagation(),Ss(ee.deck_id)},className:`p-2 rounded-lg transition-colors ${ke===ee.deck_id?"text-yellow-400 hover:bg-yellow-900/30":"text-gray-400 hover:bg-gray-900/30"}`,title:ke===ee.deck_id?"Default deck":"Set as default",children:e.jsx(bc,{className:`h-4 w-4 ${ke===ee.deck_id?"fill-current":""}`})}),e.jsx("button",{onClick:Re=>{Re.stopPropagation(),j(ee),_(!0)},className:"p-2 text-cyan-400 hover:bg-cyan-900/30 rounded-lg transition-colors",title:"Edit deck",children:e.jsx(ln,{className:"h-4 w-4"})}),e.jsx("button",{onClick:Re=>{Re.stopPropagation(),er(ee.deck_id)},className:"p-2 text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete deck",children:e.jsx(Zs,{className:"h-4 w-4"})})]})]}),e.jsx(rb,{deckId:ee.deck_id}),e.jsxs("div",{className:"text-xs text-space-400 text-center mt-2",children:["Created ",pt(ee.created_at)]})]},ee.deck_id))})})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Battle History"}),e.jsx("p",{className:"text-sm text-cyan-300 mt-1",children:"Your recent battles"})]}),e.jsx("div",{className:"p-6",children:h?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(we,{size:"large"})}):o.length===0?e.jsx("div",{className:"text-center py-8 text-cyan-300",children:"No battle history yet. Start your first battle!"}):e.jsx("div",{className:"space-y-3",children:o.map(ee=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-space-600 hover:border-cyan-500/50 transition-colors bg-space-700/30",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:ef(ee.battle_mode)}),e.jsxs("div",{className:"text-sm text-cyan-300",children:["vs ",ee.player2_username||"AI Opponent"]}),e.jsx("div",{className:"text-xs text-space-400 mt-1",children:pt(ee.started_at)})]}),e.jsxs("div",{children:[ee.battle_status==="completed"&&e.jsx("span",{className:`badge ${ee.winner_user_code||ee.winner_user_id?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:ee.winner_user_code||ee.winner_user_id?"Won":"Draw"}),ee.battle_status==="in_progress"&&e.jsx("span",{className:"badge bg-blue-100 text-blue-700",children:"In Progress"}),ee.battle_status==="forfeited"&&e.jsx("span",{className:"badge bg-red-100 text-red-700",children:"Forfeited"})]})]},ee.battle_id))})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card sticky top-6",children:[e.jsxs("div",{className:"p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Start Battle"}),e.jsx("p",{className:"text-sm text-cyan-300 mt-1",children:"Choose your mode and deck"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Select Deck"}),w?e.jsxs("div",{className:"p-3 rounded-lg bg-cyan-900/30 border border-cyan-500/50",children:[e.jsx("div",{className:"font-medium text-white",children:a.find(ee=>ee.deck_id===w)?.deck_name}),e.jsxs("div",{className:"text-sm text-cyan-300",children:[a.find(ee=>ee.deck_id===w)?.card_count," cards"]})]}):e.jsx("div",{className:"p-3 rounded-lg bg-space-700/50 border border-space-600 text-sm text-cyan-300",children:"Select a deck from the list above"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Opponent Type"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>{k("ai"),I(null)},className:`p-3 rounded-lg border-2 text-center transition-colors ${E==="ai"?"border-cyan-500 bg-cyan-900/30":"border-space-600 hover:border-space-500 bg-space-700/30"}`,children:[e.jsx("div",{className:"font-medium text-white",children:"AI"}),e.jsx("div",{className:"text-xs text-cyan-300 mt-1",children:"Practice Mode"})]}),e.jsxs("button",{onClick:()=>k("friend"),disabled:L!==1,className:`p-3 rounded-lg border-2 text-center transition-colors ${E==="friend"?"border-cyan-500 bg-cyan-900/30":"border-space-600 hover:border-space-500 bg-space-700/30"} ${L!==1?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(Js,{className:"h-4 w-4 mx-auto mb-1 text-white"}),e.jsx("div",{className:"font-medium text-white",children:"Friend"}),e.jsx("div",{className:"text-xs text-cyan-300 mt-1",children:L===1?"Battle Friends":"Mode 1 Only"})]})]})]}),E==="friend"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Select Friend"}),ae?e.jsx("div",{className:"flex justify-center py-4",children:e.jsx(we,{size:"small"})}):D.length===0?e.jsx("div",{className:"p-3 rounded-lg bg-space-700/50 border border-space-600 text-sm text-cyan-300 text-center",children:"No friends available. Add friends to battle them!"}):e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:D.map(ee=>e.jsxs("button",{onClick:()=>I(ee.friend_user_code||null),className:`w-full p-3 rounded-lg border-2 text-left transition-colors ${$===ee.friend_user_code?"border-cyan-500 bg-cyan-900/30":"border-space-600 hover:border-space-500 bg-space-700/30"}`,children:[e.jsx("div",{className:"font-medium text-white",children:ee.friend_username||ee.username}),e.jsxs("div",{className:"text-xs text-cyan-300 mt-1",children:["Friends since ",ee.friends_since?new Date(ee.friends_since).toLocaleDateString():"Recently"]})]},ee.friendship_id))})]}),$&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Battle Type"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>Ye("offline"),className:`p-3 rounded-lg border-2 text-center transition-colors ${_e==="offline"?"border-cyan-500 bg-cyan-900/30":"border-space-600 hover:border-space-500 bg-space-700/30"}`,children:[e.jsx("div",{className:"font-medium text-white text-sm",children:"Offline"}),e.jsx("div",{className:"text-xs text-cyan-300 mt-1",children:"Use their default deck"})]}),e.jsxs("button",{onClick:()=>Ye("online"),className:`p-3 rounded-lg border-2 text-center transition-colors ${_e==="online"?"border-cyan-500 bg-cyan-900/30":"border-space-600 hover:border-space-500 bg-space-700/30"}`,title:"Coming soon!",children:[e.jsx("div",{className:"font-medium text-white text-sm",children:"Online"}),e.jsx("div",{className:"text-xs text-cyan-300 mt-1",children:"Send invitation"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:_e==="offline"?" Battle starts immediately using friend's default deck":" Friend will be notified via chat to accept battle"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Battle Mode"}),e.jsx("div",{className:"space-y-2",children:[1,2,3].map(ee=>e.jsxs("button",{onClick:()=>F(ee),className:`w-full p-4 rounded-lg border-2 text-left transition-colors ${L===ee?"border-cyan-500 bg-cyan-900/30":"border-space-600 hover:border-space-500 bg-space-700/30"}`,children:[e.jsx("div",{className:"font-medium text-white",children:ef(ee)}),e.jsx("div",{className:"text-sm text-cyan-300 mt-1",children:Rv(ee)})]},ee))})]}),e.jsx("button",{onClick:fs,disabled:!w||ne,className:"btn-primary w-full justify-center",children:ne?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(Ay,{className:"h-5 w-5"}),e.jsx("span",{children:"Start Battle"})]})}),!w&&e.jsx("p",{className:"text-xs text-center text-space-400",children:"Select a deck to start a battle"})]})]})})]}),e.jsx(sb,{isOpen:y,onClose:()=>{_(!1),j(null)},onDeckCreated:()=>{Qe(),j(null)},editingDeck:C}),Z&&e.jsx(nb,{isOpen:O,onClose:()=>{re(!1),le(null),_s()},battleId:Z,playerDeck:V,opponentDeck:U,battleMode:L,opponentName:R,playerDeckName:te,opponentDeckName:fe})]})}function lb({isOpen:r,onClose:a,onSubmit:i,askingPrice:o,cardName:d,isSubmitting:m=!1,errorMessage:f=""}){const[h,b]=v.useState(o.toString());if(!r)return null;const p=C=>{C.preventDefault();const j=parseFloat(h);isNaN(j)||j<=0||i(j)},g=parseFloat(h),y=isNaN(g)?0:(o-g)/o*100,_=y>20;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 backdrop-blur-sm",onClick:a}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"card w-full max-w-md animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 p-6 border-b border-space-600 bg-gradient-to-br from-cyan-900/20 to-blue-900/20 border-cyan-500/30",children:[e.jsx(is,{className:"h-6 w-6 text-cyan-400"}),e.jsx("h2",{className:"text-xl font-bold flex-1",children:"Make an Offer"}),e.jsx("button",{onClick:a,className:"p-1 hover:bg-space-700 rounded-lg transition-colors",disabled:m,children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:["Card: ",e.jsx("span",{className:"text-white font-semibold",children:d})]}),e.jsxs("div",{className:"text-sm text-gray-400 mb-4",children:["Asking Price: ",e.jsxs("span",{className:"text-cyan-400 font-bold text-lg",children:[o," GeoCoins"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"offer",className:"block text-sm font-medium mb-2",children:"Your Offer (GeoCoins)"}),e.jsxs("div",{className:"relative",children:[e.jsx(is,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"offer",type:"number",min:"1",step:"1",value:h,onChange:C=>b(C.target.value),placeholder:"Enter your offer...",className:"input pl-10 text-lg font-semibold",required:!0,autoFocus:!0})]}),!isNaN(g)&&g>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[g<o&&e.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${_?"bg-yellow-900/20 border border-yellow-500/30":"bg-green-900/20 border border-green-500/30"}`,children:[e.jsx(Oy,{className:`h-4 w-4 ${_?"text-yellow-400":"text-green-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-sm font-semibold",children:[y.toFixed(1),"% below asking price"]}),e.jsx("div",{className:"text-xs text-gray-400",children:_?"This is a low offer - seller may reject":"Reasonable offer - good chance of acceptance"})]})]}),g===o&&e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-cyan-900/20 border border-cyan-500/30",children:[e.jsx(is,{className:"h-4 w-4 text-cyan-400"}),e.jsx("div",{className:"text-sm font-semibold text-cyan-400",children:"Offering full asking price!"})]}),g>o&&e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-purple-900/20 border border-purple-500/30",children:[e.jsx(is,{className:"h-4 w-4 text-purple-400"}),e.jsx("div",{className:"text-sm font-semibold text-purple-400",children:"Offering above asking price - very generous!"})]})]})]}),e.jsxs("div",{className:"bg-space-800/50 border border-cyan-500/20 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-cyan-400 mb-2",children:"Offer Information"}),e.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[e.jsx("li",{children:" Seller must approve your offer before purchase"}),e.jsx("li",{children:" You can make counter-offers if rejected"}),e.jsx("li",{children:" GeoCoins will be held once offer is accepted"}),e.jsx("li",{children:" Offer expires after 7 days"})]})]}),f&&e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-400",children:f})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:a,className:"btn-secondary flex-1",disabled:m,children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg font-semibold text-white bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:m||isNaN(g)||g<=0,children:m?"Submitting...":"Submit Offer"})]})]})]})})]})}function ib(){const[r,a]=v.useState([]),[i,o]=v.useState(!0),[d,m]=v.useState(""),[f,h]=v.useState("all"),[b,p]=v.useState("all"),[g,y]=v.useState(""),[_,C]=v.useState(null),[j,w]=v.useState(!1),[N,L]=v.useState(!1),[F,E]=v.useState(""),[k,$]=v.useState("");v.useEffect(()=>{I()},[f,b,g]);const I=async()=>{o(!0);try{const q={};f!=="all"&&(q.card_type=f),b!=="all"&&(q.rarity=b),g&&(q.max_price=Number(g));const O=await _t.searchListings(q);O.data.success&&O.data.data&&a(O.data.data.listings||O.data.data||[])}catch(q){console.error("Failed to load listings:",q)}finally{o(!1)}},D=q=>{C(q),$("")},H=async q=>{if(_){w(!0),$("");try{const O=await _t.makeOffer(_.listing_id,q);O.data.success&&(E(O.data.message||"Offer submitted successfully! The seller will review your offer."),L(!0),C(null))}catch(O){$(je(O))}finally{w(!1)}}},ae=r.filter(q=>d?(q.card_name||"").toLowerCase().includes(d.toLowerCase()):!0),xe=["all","Igneous","Metamorphic","Sedimentary","Ore","Metal","Jewel","Crystal"],ne=["all","Common","Rare","Epic","Legendary"];return e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketplace"}),e.jsxs("p",{className:"mt-1 text-gray-600",children:[r.length," cards available"]})]})}),e.jsx("div",{className:"card p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:d,onChange:q=>m(q.target.value),placeholder:"Search cards...",className:"input pl-10"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Al,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("select",{value:f,onChange:q=>h(q.target.value),className:"input pl-10",children:xe.map(q=>e.jsx("option",{value:q,children:q==="all"?"All Types":q},q))})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Al,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("select",{value:b,onChange:q=>p(q.target.value),className:"input pl-10",children:ne.map(q=>e.jsx("option",{value:q,children:q==="all"?"All Rarities":q},q))})]}),e.jsx("input",{type:"number",value:g,onChange:q=>y(q.target.value),placeholder:"Max price...",className:"input"})]})}),i?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}):ae.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Jf,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No listings found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters"})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:ae.map(q=>e.jsxs("div",{className:"card-hover overflow-hidden",children:[e.jsx("div",{style:{margin:"10px auto"},children:e.jsx(ht,{card:{user_card_id:q.user_card_id,user_code:q.seller_user_code,published_card_id:0,card_template_id:q.card_template_id,card_name:q.card_name,card_type:q.type_name||q.card_type||"Crystal",card_description:q.description||q.card_description||"",image_url:q.character_image_path||q.image_url||null,attack:q.attack_score??q.attack??0,defense:q.defense_score??q.defense??0,speed:q.speed_score??q.speed??0,rarity:q.status_name||q.rarity||"Common",acquired_at:q.listed_at,ownership_count:q.stamp_count??q.ownership_count??0,active_stamp_id:null,stamp_image_url:null,in_deck:!1,available_for_battle:!0,educational_facts:q.science_fact||null},showStamp:!1,size:"small"})}),e.jsxs("div",{className:"p-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Seller"}),e.jsx("span",{className:"text-sm font-medium",children:q.seller_username})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Price"}),e.jsx("span",{className:"text-lg font-bold text-primary-600",children:cs(q.asking_price)})]}),e.jsx("button",{onClick:()=>D(q),className:"btn-primary w-full text-sm py-2",children:"Make Offer"})]})]},q.listing_id))}),e.jsx(lb,{isOpen:!!_,onClose:()=>C(null),onSubmit:H,askingPrice:_?.asking_price||0,cardName:_?.card_name||"",isSubmitting:j,errorMessage:k}),e.jsx(oa,{isOpen:N,onClose:()=>L(!1),title:"Offer Submitted!",message:F,buttonText:"Done"})]})}function np({isOpen:r,onClose:a,onConfirm:i,cardName:o,price:d,cardImage:m,isProcessing:f,error:h}){const{user:b}=Ge();if(!r)return null;const p=Number(d)||0,g=Number(b?.credits_balance)||0,y=g-p,_=g>=p,C=e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[9999] backdrop-blur-sm",onClick:a}),e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 pointer-events-none",children:e.jsx("div",{className:"pointer-events-auto",children:e.jsxs("div",{className:"card w-full max-w-md animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 p-6 border-b border-space-600 bg-gradient-to-br from-green-900/20 to-cyan-900/20 border-green-500/30",children:[e.jsx(jr,{className:"h-6 w-6 text-green-400"}),e.jsx("h2",{className:"text-xl font-bold flex-1",children:"Confirm Purchase"}),e.jsx("button",{onClick:a,className:"p-1 hover:bg-space-700 rounded-lg transition-colors",disabled:f,children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-space-700/50 border border-cyan-500/30",children:[m&&e.jsx("div",{className:"w-16 h-24 rounded-lg overflow-hidden bg-space-800 border-2 border-cyan-500/50",children:e.jsx("img",{src:m,alt:o,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Purchasing"}),e.jsx("div",{className:"font-semibold text-cyan-400 text-lg",children:o})]})]}),e.jsxs("div",{className:"space-y-3 p-4 rounded-lg bg-space-800/50 border border-yellow-500/20",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Current Balance"}),e.jsxs("div",{className:"flex items-center gap-1 text-yellow-400 font-semibold",children:[e.jsx(vr,{className:"h-4 w-4"}),e.jsxs("span",{children:[g.toFixed(2)," GeoCoins"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Purchase Price"}),e.jsxs("div",{className:"flex items-center gap-1 text-white font-semibold",children:[e.jsx(vr,{className:"h-4 w-4"}),e.jsxs("span",{children:["-",p.toFixed(2)," GeoCoins"]})]})]}),e.jsx("div",{className:"border-t border-space-600 pt-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-white",children:"Balance After Purchase"}),e.jsxs("div",{className:`flex items-center gap-1 font-bold text-lg ${y>=0?"text-green-400":"text-red-400"}`,children:[e.jsx(vr,{className:"h-5 w-5"}),e.jsxs("span",{children:[y.toFixed(2)," GeoCoins"]})]})]})})]}),!_&&e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-red-900/20 border border-red-500/30",children:[e.jsx(Vf,{className:"h-5 w-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-red-400",children:"Insufficient GeoCoins"}),e.jsxs("div",{className:"text-sm text-red-300 mt-1",children:["You need ",(p-g).toFixed(2)," more GeoCoins to complete this purchase."]})]})]}),e.jsxs("div",{className:"bg-cyan-900/20 border border-cyan-500/20 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-cyan-400 mb-2",children:"Purchase Information"}),e.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[e.jsx("li",{children:" This purchase is final and cannot be undone"}),e.jsx("li",{children:" The card will be added to your collection immediately"}),e.jsx("li",{children:" The card will be stamped with your active stamp"}),e.jsx("li",{children:" GeoCoins will be transferred to the seller"})]})]}),h&&e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-400",children:h})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:a,className:"btn-secondary flex-1",disabled:f,children:"Cancel"}),e.jsx("button",{type:"button",onClick:i,className:`flex-1 px-4 py-2 rounded-lg font-semibold text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed ${_?"bg-gradient-to-r from-green-600 to-cyan-600 hover:from-green-700 hover:to-cyan-700":"bg-gray-600 cursor-not-allowed"}`,disabled:f||!_,children:f?"Processing...":"Confirm Purchase"})]})]})]})})})]});return fx.createPortal(C,document.body)}function ob(){const[r,a]=v.useState("received"),[i,o]=v.useState([]),[d,m]=v.useState([]),[f,h]=v.useState(!0),[b,p]=v.useState(""),[g,y]=v.useState(null),[_,C]=v.useState(null);v.useEffect(()=>{j()},[r]);const j=async()=>{h(!0),p("");try{if(r==="received"){const k=await _t.getOffersReceived();k.data.success&&o(k.data.data.offers||[])}else{const k=await _t.getOffersMade();k.data.success&&m(k.data.data.offers||[])}}catch(k){p(je(k))}finally{h(!1)}},w=async k=>{y(k);try{await _t.respondToOffer(k,"accept"),j()}catch($){p(je($))}finally{y(null)}},N=async k=>{y(k);try{await _t.respondToOffer(k,"reject"),j()}catch($){p(je($))}finally{y(null)}},L=async()=>{if(_){y(_.offer_id);try{await _t.confirmPurchase(_.offer_id),C(null),j()}catch(k){p(je(k))}finally{y(null)}}},F=k=>{const $={pending_seller:{color:"yellow",icon:Gf,label:"Pending"},seller_approved:{color:"cyan",icon:At,label:"Approved"},completed:{color:"green",icon:At,label:"Completed"},rejected:{color:"red",icon:Ae,label:"Rejected"},cancelled:{color:"gray",icon:Ae,label:"Cancelled"}},{color:I,icon:D,label:H}=$[k]||$.pending_seller;return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold bg-${I}-900/20 border border-${I}-500/30 text-${I}-400`,children:[e.jsx(D,{className:"h-3 w-3"}),H]})},E=r==="received"?i:d;return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"My Offers"}),e.jsx("p",{className:"mt-1 text-cyan-300",children:"Manage your marketplace offers"})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsxs("button",{onClick:()=>a("received"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all ${r==="received"?"bg-cyan-600 text-white":"bg-space-700 text-gray-400 hover:bg-space-600"}`,children:[e.jsx(Sy,{className:"h-5 w-5"}),e.jsx("span",{children:"Offers Received"}),i.length>0&&e.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full bg-cyan-500 text-xs text-white",children:i.filter(k=>k.offer_status==="pending_seller").length})]}),e.jsxs("button",{onClick:()=>a("sent"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all ${r==="sent"?"bg-cyan-600 text-white":"bg-space-700 text-gray-400 hover:bg-space-600"}`,children:[e.jsx(vc,{className:"h-5 w-5"}),e.jsx("span",{children:"Offers Sent"}),d.length>0&&e.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full bg-cyan-500 text-xs text-white",children:d.filter(k=>k.offer_status==="seller_approved").length})]})]}),b&&e.jsx("div",{className:"mb-6 bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:e.jsx("p",{className:"text-red-400",children:b})}),f&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}),!f&&E.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(is,{className:"mx-auto h-16 w-16 text-space-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:r==="received"?"No Offers Received":"No Offers Sent"}),e.jsx("p",{className:"text-cyan-300",children:r==="received"?"When buyers make offers on your listings, they will appear here.":"Make offers on marketplace listings to see them here."})]}),!f&&E.length>0&&e.jsx("div",{className:"space-y-4",children:E.map(k=>e.jsx("div",{className:"card p-4 hover:border-cyan-500/30 transition-all",children:e.jsxs("div",{className:"flex items-start gap-4",children:[k.character_image_path&&e.jsx("div",{className:"flex-shrink-0 w-20 h-28 rounded-lg overflow-hidden bg-space-700 border-2 border-cyan-500/30",children:e.jsx("img",{src:k.character_image_path,alt:k.card_name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-cyan-400 text-lg",children:k.card_name}),r==="received"&&k.buyer_username&&e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Buyer: ",e.jsx("span",{className:"text-white",children:k.buyer_username})]})]}),F(k.offer_status)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Asking Price"}),e.jsxs("div",{className:"text-sm font-semibold text-white",children:[k.asking_price," GeoCoins"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Offer Price"}),e.jsxs("div",{className:"text-lg font-bold text-yellow-400",children:[k.offer_price," GeoCoins"]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-3",children:["Offered: ",new Date(k.created_at).toLocaleString(),k.completed_at&&e.jsxs(e.Fragment,{children:["  Completed: ",new Date(k.completed_at).toLocaleString()]})]}),r==="received"&&k.offer_status==="pending_seller"&&e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:()=>w(k.offer_id),disabled:g===k.offer_id,className:"flex-1 btn-primary text-sm",children:[e.jsx(At,{className:"h-4 w-4"}),e.jsx("span",{children:"Accept"})]}),e.jsxs("button",{onClick:()=>N(k.offer_id),disabled:g===k.offer_id,className:"flex-1 btn-secondary text-sm border-red-500/50 hover:bg-red-900/20",children:[e.jsx(Ae,{className:"h-4 w-4"}),e.jsx("span",{children:"Reject"})]})]}),r==="sent"&&k.offer_status==="seller_approved"&&e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>C(k),disabled:g===k.offer_id,className:"w-full btn-primary text-sm",children:[e.jsx(jr,{className:"h-4 w-4"}),e.jsx("span",{children:"Confirm Purchase"})]})})]})]})},k.offer_id))}),_&&e.jsx(np,{isOpen:!!_,onClose:()=>C(null),onConfirm:L,cardName:_.card_name,price:_.offer_price,cardImage:_.character_image_path,isProcessing:g===_.offer_id,error:b})]})}function cb({isOpen:r,onClose:a,trade:i,onSuccess:o,preSelectedCard:d}){const{user:m}=Ge(),[f,h]=v.useState([]),[b,p]=v.useState([]),[g,y]=v.useState(!0),[_,C]=v.useState(!1),[j,w]=v.useState(!1),[N,L]=v.useState(""),F=i.initiator_user_code===m?.user_code?"initiator":"recipient";v.useEffect(()=>{r&&(E(),d?.user_card_id&&p([d.user_card_id]))},[r,d]);const E=async()=>{y(!0),L("");try{const D=await wr.getCollection();if(D.data.success&&D.data.data){const H=(D.data.data.cards||[]).filter(ae=>!ae.is_in_marketplace&&!ae.is_in_trade);h(H)}}catch(D){L(je(D))}finally{y(!1)}},k=D=>{p(H=>H.includes(D)?H.filter(ae=>ae!==D):[...H,D])},$=async()=>{if(b.length===0){L("Please select at least one card");return}C(!0),L("");try{for(const D of b)await as.addCardToTrade(i.trade_id,D,F);w(!0),o?.()}catch(D){L(je(D))}finally{C(!1)}},I=()=>{w(!1),p([]),a()};return r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:a}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"card w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-space-600 sticky top-0 bg-space-800 z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Add Cards to Trade"}),e.jsxs("p",{className:"text-sm text-cyan-300 mt-1",children:[b.length," card",b.length!==1?"s":""," selected"]})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-space-700 rounded-lg transition-colors",children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"p-6",children:g?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}):f.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ft,{className:"mx-auto h-16 w-16 text-space-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Cards Available"}),e.jsx("p",{className:"text-cyan-300",children:"All your cards are either listed on the marketplace or already in trades."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mb-6",children:f.map(D=>{const H=b.includes(D.user_card_id);return e.jsx("div",{className:"relative cursor-pointer group",onClick:()=>k(D.user_card_id),children:e.jsxs("div",{className:`
                          relative rounded-lg transition-all
                          ${H?"ring-4 ring-cyan-500 shadow-lg shadow-cyan-500/50":"hover:ring-2 hover:ring-cyan-500/50"}
                        `,children:[e.jsx(ht,{card:D,size:"small",showStamp:!0}),H&&e.jsx("div",{className:"absolute top-2 right-2 bg-cyan-500 rounded-full p-1",children:e.jsx(Jt,{className:"h-4 w-4 text-white rotate-45"})})]})},D.user_card_id)})}),N&&e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-red-400",children:N})}),e.jsxs("div",{className:"flex gap-3 sticky bottom-0 bg-space-800 pt-4 border-t border-space-600",children:[e.jsx("button",{type:"button",onClick:a,className:"btn-secondary flex-1",disabled:_,children:"Cancel"}),e.jsx("button",{type:"button",onClick:$,className:"btn-primary flex-1",disabled:_||b.length===0,children:_?e.jsxs(e.Fragment,{children:[e.jsx(we,{size:"small",className:"border-white border-t-transparent"}),e.jsx("span",{children:"Adding..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"h-5 w-5"}),e.jsxs("span",{children:["Add ",b.length," Card",b.length!==1?"s":""]})]})})]})]})})]})}),e.jsx(oa,{isOpen:j,onClose:I,title:"Cards Added!",message:`Successfully added ${b.length} card${b.length!==1?"s":""} to the trade.`})]}):null}function tf({cards:r,onCardClick:a}){if(r.length===0)return e.jsx("div",{className:"text-xs text-gray-400 text-center py-4",children:"No cards offered"});const i=p=>({user_card_id:p.user_card_id,user_code:p.user_code||"",published_card_id:p.published_card_id||0,card_template_id:p.card_template_id||0,card_name:p.card_name,card_type:p.type_name||p.card_type,card_description:p.card_description||"",image_url:p.character_image_path||p.image_url,attack:p.attack_score||p.attack||0,defense:p.defense_score||p.defense||0,speed:p.speed_score||p.speed||0,rarity:p.status_name||p.rarity,acquired_at:p.acquired_at||new Date().toISOString(),ownership_count:p.ownership_count||0,active_stamp_id:p.active_stamp_id||null,stamp_image_url:p.stamp_image_url||null,in_deck:p.in_deck||!1,available_for_battle:p.available_for_battle||!1,is_in_marketplace:p.is_in_marketplace||!1,is_in_trade:p.is_in_trade||!1}),o=r.length,d=80,m=-d/2,f=o>1?d/(o-1):0,h=90,b=25;return e.jsx("div",{className:"relative flex items-center justify-center",style:{height:"140px",marginTop:"10px",marginBottom:"10px"},children:r.map((p,g)=>{const y=m+f*g,_=(g-(o-1)/2)*b,C=Math.abs(y)*.5,j=i(p);return e.jsx("div",{style:{position:"absolute",transform:`translateX(${_}px) translateY(${C}px) rotate(${y}deg)`,transformOrigin:"center bottom",transition:"all 0.3s ease",zIndex:g,cursor:"pointer"},onClick:()=>a(j),children:e.jsx("div",{style:{width:`${h}px`},children:e.jsx(ht,{card:j,size:"tiny",showStamp:!1})})},p.user_card_id)})})}function db(){const{user:r}=Ge(),a=us(),[i,o]=v.useState([]),[d,m]=v.useState([]),[f,h]=v.useState([]),[b,p]=v.useState(!0),[g,y]=v.useState(null),[_,C]=v.useState(!1),[j,w]=v.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{},variant:"info"}),[N,L]=v.useState({isOpen:!1,title:"",message:""}),[F,E]=v.useState(""),[k,$]=v.useState(null),[I,D]=v.useState(null),[H,ae]=v.useState({}),[xe,ne]=v.useState({}),[q,O]=v.useState({});v.useEffect(()=>{re()},[]),v.useEffect(()=>{a.state?.selectedFriendCode&&y(a.state.selectedFriendCode)},[a.state]);const re=async()=>{p(!0);try{const[P,te,ie]=await Promise.all([as.getActiveTrades(),as.getTradeHistory(10),Rt.getFriends()]);if(P.data.success&&P.data.data){const fe=P.data.data.trades||[];o(fe),fe.forEach(ve=>{U(ve.trade_id)})}te.data.success&&te.data.data&&m(te.data.data.trades||[]),ie.data.success&&ie.data.data&&h(ie.data.data.friends||[])}catch(P){console.error("Failed to load trading data:",P)}finally{p(!1)}},Z=async()=>{if(g){C(!0),E("");try{const P=await as.createTrade(g);P.data.success?(L({isOpen:!0,title:"Trade Created!",message:"You can now add cards and GeoCoins to your trade offer."}),re(),y(null)):E(P.data.message||"Failed to create trade")}catch(P){E(je(P))}finally{C(!1)}}},le=P=>{w({isOpen:!0,title:"Accept Trade?",message:"By accepting, you agree to this trade offer. The trade will complete when both parties accept.",variant:"success",onConfirm:async()=>{w(te=>({...te,isOpen:!1}));try{const te=await as.acceptTrade(P);if(te.data.success){const ie=te.data.data||{};ie.status==="completed"?L({isOpen:!0,title:"Trade Completed!",message:ie.message||"The trade has been completed successfully."}):ie.status==="pending_approval"?L({isOpen:!0,title:"Pending Approval",message:ie.message||"Waiting for parental approval for legendary card trade."}):L({isOpen:!0,title:"Trade Accepted!",message:ie.message||"Waiting for the other party to accept."}),re()}}catch(te){E(je(te))}}})},V=P=>{w({isOpen:!0,title:"Remove Acceptance?",message:"This will remove your acceptance and allow both parties to modify the trade again.",variant:"info",onConfirm:async()=>{w(te=>({...te,isOpen:!1}));try{(await as.rejectTrade(P)).data.success&&(L({isOpen:!0,title:"Acceptance Removed",message:"You can now modify your trade offer."}),re())}catch(te){E(je(te))}}})},G=P=>{w({isOpen:!0,title:"Cancel Trade?",message:"Are you sure you want to cancel this trade? This action cannot be undone.",variant:"danger",onConfirm:async()=>{w(te=>({...te,isOpen:!1}));try{(await as.cancelTrade(P)).data.success&&(L({isOpen:!0,title:"Trade Cancelled",message:"The trade has been cancelled successfully."}),re())}catch(te){E(je(te))}}})},U=async P=>{try{const te=await as.getComments(P);te.data.success&&ae(ie=>({...ie,[P]:te.data.data?.comments||[]}))}catch(te){console.error("Failed to load comments:",te)}},Y=async P=>{const te=q[P];O(ie=>({...ie,[P]:!te})),!te&&!H[P]&&await U(P)},R=async P=>{const te=xe[P]?.trim();if(te)try{(await as.addComment(P,te)).data.success&&(ne(fe=>({...fe,[P]:""})),await U(P))}catch(ie){E(je(ie))}};return b?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}):e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Trading"}),e.jsx("p",{className:"mt-1 text-gray-300",children:"Trade cards and GeoCoins with your friends"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Active Trades"}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Trades in progress"})]}),e.jsx("div",{className:"p-6",children:i.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(la,{className:"mx-auto h-12 w-12 text-gray-400 mb-3"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No active trades"}),e.jsx("p",{className:"text-gray-300",children:"Start a trade with a friend to begin"})]}):e.jsx("div",{className:"space-y-4",children:i.map(P=>{const te=P.initiator_user_code===r?.user_code,ie=te?P.recipient_username:P.initiator_username,fe=P.trade_status||P.status,ve=fe==="completed",ke=fe==="cancelled";return ve?e.jsx("div",{className:"p-3 rounded-lg border border-green-500/30 bg-green-500/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(At,{className:"h-4 w-4 text-green-400"}),e.jsxs("span",{className:"text-sm text-green-400",children:["Trade with ",ie," completed"]})]}),e.jsx("button",{onClick:()=>{o(he=>he.filter(_e=>_e.trade_id!==P.trade_id))},className:"text-gray-500 hover:text-gray-400",children:e.jsx(Ae,{className:"h-4 w-4"})})]})},P.trade_id):ke?e.jsx("div",{className:"p-3 rounded-lg border border-red-500/30 bg-red-500/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ae,{className:"h-4 w-4 text-red-400"}),e.jsxs("span",{className:"text-sm text-red-400",children:["Trade with ",ie," cancelled"]})]}),e.jsx("button",{onClick:()=>{o(he=>he.filter(_e=>_e.trade_id!==P.trade_id))},className:"text-gray-500 hover:text-gray-400",children:e.jsx(Ae,{className:"h-4 w-4"})})]})},P.trade_id):e.jsxs("div",{className:"p-4 rounded-lg border border-space-600 hover:border-space-500 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-white",children:["Trade with ",ie]}),e.jsxs("div",{className:"text-sm text-gray-300",children:["Status: ",e.jsx("span",{className:"font-medium capitalize",children:fe})]}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:pt(P.created_at)})]}),e.jsx("span",{className:`badge ${fe==="proposed"?"bg-blue-100 text-blue-700":fe==="accepted"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:fe})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"p-4 bg-space-800/30 rounded-lg border border-space-600",children:[e.jsx("div",{className:"font-medium text-cyan-400 mb-3 text-sm",children:te?"You offer":`${P.initiator_username} offers`}),e.jsx(tf,{cards:P.initiator_cards||[],onCardClick:he=>D(he)}),P.initiator_credits>0&&e.jsxs("div",{className:"text-sm text-cyan-300 text-center mt-2",children:["+ ",cs(P.initiator_credits)]})]}),e.jsxs("div",{className:"p-4 bg-space-800/30 rounded-lg border border-space-600",children:[e.jsx("div",{className:"font-medium text-purple-400 mb-3 text-sm",children:te?`${P.recipient_username} offers`:"You offer"}),e.jsx(tf,{cards:P.recipient_cards||[],onCardClick:he=>D(he)}),P.recipient_credits>0&&e.jsxs("div",{className:"text-sm text-purple-300 text-center mt-2",children:["+ ",cs(P.recipient_credits)]})]})]}),e.jsxs("div",{className:"mt-4 border-t border-space-600/50 pt-4",children:[e.jsxs("button",{onClick:()=>Y(P.trade_id),className:"flex items-center gap-2 text-sm text-cyan-400 hover:text-cyan-300 transition-colors mb-2",children:[e.jsx(Jr,{className:"h-4 w-4"}),q[P.trade_id]?"Hide Comments":"Show Comments",H[P.trade_id]&&H[P.trade_id].length>0&&e.jsx("span",{className:"text-xs bg-cyan-500/20 text-cyan-300 px-2 py-0.5 rounded-full",children:H[P.trade_id].length})]}),q[P.trade_id]&&e.jsxs("div",{className:"space-y-3",children:[H[P.trade_id]&&H[P.trade_id].length>0?e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto mb-3",children:H[P.trade_id].map(he=>{const _e=he.username===r?.username;return e.jsxs("div",{className:`p-3 rounded-lg ${_e?"bg-cyan-500/10 border border-cyan-500/30 ml-8":"bg-space-700/50 border border-space-600 mr-8"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:`text-xs font-medium ${_e?"text-cyan-300":"text-purple-300"}`,children:he.username||"Unknown User"}),e.jsx("span",{className:"text-xs text-gray-500",children:pt(he.created_at)})]}),e.jsx("p",{className:"text-sm text-gray-200",children:he.comment_text})]},he.comment_id)})}):e.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No comments yet. Be the first to comment!"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:xe[P.trade_id]||"",onChange:he=>ne(_e=>({..._e,[P.trade_id]:he.target.value})),onKeyPress:he=>{he.key==="Enter"&&R(P.trade_id)},placeholder:"Add a comment...",className:"flex-1 px-3 py-2 bg-space-800/50 border border-space-600 rounded-lg text-sm text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50"}),e.jsx("button",{onClick:()=>R(P.trade_id),disabled:!xe[P.trade_id]?.trim(),className:"px-4 py-2 bg-cyan-500/20 hover:bg-cyan-500/30 border border-cyan-500/50 text-cyan-300 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(vc,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"space-y-2 mt-4",children:[(P.initiator_confirmed||P.recipient_confirmed)&&e.jsxs("div",{className:"flex gap-2 text-sm",children:[e.jsxs("div",{className:`flex-1 px-3 py-2 rounded-lg border ${P.initiator_confirmed?"bg-green-500/20 border-green-500/50 text-green-300":"bg-gray-500/20 border-gray-500/50 text-gray-400"}`,children:[e.jsx(At,{className:"h-3 w-3 inline mr-1"}),P.initiator_username," ",P.initiator_confirmed?"accepted":"pending"]}),e.jsxs("div",{className:`flex-1 px-3 py-2 rounded-lg border ${P.recipient_confirmed?"bg-green-500/20 border-green-500/50 text-green-300":"bg-gray-500/20 border-gray-500/50 text-gray-400"}`,children:[e.jsx(At,{className:"h-3 w-3 inline mr-1"}),P.recipient_username," ",P.recipient_confirmed?"accepted":"pending"]})]}),fe==="pending_approval"&&e.jsx("div",{className:"px-4 py-3 bg-yellow-500/20 border border-yellow-500/50 rounded-lg text-sm text-yellow-300",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yc,{className:"h-4 w-4"}),e.jsx("span",{children:"Waiting for parental approval (legendary card trade)"})]})}),e.jsxs("div",{className:"flex gap-2",children:[!["accepted","pending_approval","completed","cancelled"].includes(fe)&&e.jsxs("button",{onClick:()=>$(P),className:"btn-secondary flex-1",title:"Add cards to your offer",children:[e.jsx(Ry,{className:"h-4 w-4"}),"Add Cards"]}),!["completed","cancelled","pending_approval"].includes(fe)&&e.jsxs(e.Fragment,{children:[te&&!P.initiator_confirmed&&e.jsxs("button",{onClick:()=>le(P.trade_id),className:"btn-success flex-1",children:[e.jsx(At,{className:"h-4 w-4"}),"Accept"]}),!te&&!P.recipient_confirmed&&e.jsxs("button",{onClick:()=>le(P.trade_id),className:"btn-success flex-1",children:[e.jsx(At,{className:"h-4 w-4"}),"Accept"]}),te&&P.initiator_confirmed&&e.jsxs("button",{onClick:()=>V(P.trade_id),className:"btn-secondary flex-1",children:[e.jsx(Ae,{className:"h-4 w-4"}),"Remove Acceptance"]}),!te&&P.recipient_confirmed&&e.jsxs("button",{onClick:()=>V(P.trade_id),className:"btn-secondary flex-1",children:[e.jsx(Ae,{className:"h-4 w-4"}),"Remove Acceptance"]})]}),!["completed","pending_approval"].includes(fe)&&e.jsxs("button",{onClick:()=>G(P.trade_id),className:"btn-danger flex-1",children:[e.jsx(Ae,{className:"h-4 w-4"}),"Cancel"]})]})]})]},P.trade_id)})})})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Trade History"}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Completed and cancelled trades"})]}),e.jsx("div",{className:"p-6",children:d.length===0?e.jsx("div",{className:"text-center py-8 text-gray-300",children:"No trade history yet"}):e.jsx("div",{className:"space-y-3",children:d.map(P=>{const ie=P.initiator_user_code===r?.user_code?P.recipient_username:P.initiator_username,fe=P.trade_status||P.status;return e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-space-600",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-white",children:["Trade with ",ie]}),e.jsxs("div",{className:"text-sm text-gray-300",children:[(P.initiator_cards||[]).length+(P.recipient_cards||[]).length," cards traded"]}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:pt(P.completed_at||P.created_at)})]}),e.jsx("span",{className:`badge ${fe==="completed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:fe})]},P.trade_id)})})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card sticky top-6",children:[e.jsxs("div",{className:"p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"New Trade"}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Start a trade with a friend"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Select Friend"}),f.length===0?e.jsx("div",{className:"p-3 rounded-lg bg-space-800/30 border border-space-600 text-sm text-gray-300",children:"No friends available. Add friends first!"}):e.jsxs("select",{value:g||"",onChange:P=>y(P.target.value),className:"input",children:[e.jsx("option",{value:"",children:"Choose a friend..."}),f.map(P=>e.jsx("option",{value:P.friend_user_code,children:P.friend_username},P.friend_user_code))]})]}),e.jsx("button",{onClick:Z,disabled:!g||_,className:"btn-primary w-full justify-center",children:_?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"h-5 w-5"}),e.jsx("span",{children:"Create Trade"})]})}),e.jsxs("div",{className:"text-xs text-gray-400",children:[e.jsx("p",{className:"mb-2",children:"After creating a trade:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Add cards and GeoCoins to your offer"}),e.jsx("li",{children:"Wait for your friend to add their offer"}),e.jsx("li",{children:"Both parties must confirm to complete"})]})]}),F&&e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-400",children:F})})]})]})})]}),e.jsx(rp,{isOpen:j.isOpen,onClose:()=>w(P=>({...P,isOpen:!1})),onConfirm:j.onConfirm,title:j.title,message:j.message,variant:j.variant,confirmText:j.variant==="danger"?"Yes, Cancel Trade":"Yes, Accept"}),e.jsx(oa,{isOpen:N.isOpen,onClose:()=>L(P=>({...P,isOpen:!1})),title:N.title,message:N.message}),k&&e.jsx(cb,{isOpen:!!k,onClose:()=>$(null),trade:k,preSelectedCard:a.state?.selectedCard,onSuccess:()=>{$(null),re()}}),e.jsx(wc,{card:I,isOpen:!!I,onClose:()=>D(null)})]})}function ub(){const r=Lt(),[a,i]=v.useState([]),[o,d]=v.useState([]),[m,f]=v.useState([]),[h,b]=v.useState(""),[p,g]=v.useState([]),[y,_]=v.useState(!0),[C,j]=v.useState(!1),[w,N]=v.useState("");v.useEffect(()=>{L()},[]);const L=async()=>{_(!0),N("");try{const[D,H,ae]=await Promise.all([Rt.getFriends(),Rt.getFriendRequests("received"),Rt.getFriendRequests("sent")]);D.data.success&&D.data.data&&i(D.data.data.friends||[]),H.data.success&&H.data.data&&d(H.data.data.requests||[]),ae.data.success&&ae.data.data&&f(ae.data.data.requests||[])}catch(D){N(je(D))}finally{_(!1)}},F=async()=>{if(h.trim()){j(!0);try{const D=await Rt.searchUsers(h);D.data.success&&D.data.data&&g(D.data.data.users||[])}catch(D){alert(je(D))}finally{j(!1)}}},E=async D=>{try{(await Rt.sendFriendRequest(D)).data.success&&(alert("Friend request sent!"),g([]),b(""),L())}catch(H){alert(je(H))}},k=async D=>{try{(await Rt.respondToRequest(D,"approve")).data.success&&L()}catch(H){alert(je(H))}},$=async D=>{try{(await Rt.respondToRequest(D,"decline")).data.success&&L()}catch(H){alert(je(H))}},I=async D=>{if(confirm("Are you sure you want to remove this friend?"))try{(await Rt.removeFriend(D)).data.success&&L()}catch(H){alert(je(H))}};return e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Friends"}),e.jsx("p",{className:"mt-1 text-gray-300",children:"Connect with other GeoBeasts players"})]})}),w&&e.jsx("div",{className:"mb-6 rounded-lg bg-red-50 border border-red-200 p-4 text-red-600",children:w}),e.jsxs("div",{className:"card p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Find Friends"}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Search by exact username or friend code for privacy"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:h,onChange:D=>b(D.target.value),onKeyDown:D=>D.key==="Enter"&&F(),placeholder:"Enter exact username or friend code...",className:"input pl-10"})]}),e.jsx("button",{onClick:F,disabled:C||!h.trim(),className:"btn-primary",children:C?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(Ks,{className:"h-5 w-5"}),e.jsx("span",{children:"Search"})]})})]}),p.length>0&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Search Results:"}),p.map(D=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx(Qt,{className:"h-5 w-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:D.username}),D.is_friend&&e.jsx("p",{className:"text-xs text-green-400",children:"Already friends"}),D.has_pending_request&&e.jsx("p",{className:"text-xs text-yellow-400",children:"Request pending"})]})]}),e.jsxs("button",{onClick:()=>E(D.user_code),className:"btn-secondary text-sm",children:[e.jsx(Xf,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Friend"})]})]},D.user_code))]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.length>0&&e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Pending Requests"}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:[o.length," pending ",o.length===1?"request":"requests"]})]}),e.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(D=>e.jsxs("div",{className:"card-hover p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx(Qt,{className:"h-6 w-6 text-primary-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-white",children:D.username}),e.jsx("p",{className:"text-xs text-gray-400",children:pt(D.requested_at)})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>k(D.friendship_id),className:"btn-primary flex-1 text-sm py-2",children:[e.jsx(At,{className:"h-4 w-4"}),e.jsx("span",{children:"Accept"})]}),e.jsxs("button",{onClick:()=>$(D.friendship_id),className:"btn-secondary flex-1 text-sm py-2",children:[e.jsx(Ae,{className:"h-4 w-4"}),e.jsx("span",{children:"Decline"})]})]})]},D.friendship_id))})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Your Friends"}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:[a.length," ",a.length===1?"friend":"friends"]})]}),e.jsx("div",{className:"p-6",children:y?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(we,{size:"large"})}):a.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Js,{className:"mx-auto h-12 w-12 text-gray-400 mb-3"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No friends yet"}),e.jsx("p",{className:"text-gray-300",children:"Search for users above to add friends"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:a.map(D=>e.jsxs("div",{className:"card-hover p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx(Qt,{className:"h-6 w-6 text-primary-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-white truncate",children:D.friend_username}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Friends since ",pt(D.friends_since||"")]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r("/battles",{state:{selectedFriendId:D.friend_user_code}}),className:"p-2 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 transition-colors",title:"Challenge to battle",children:e.jsx(Kt,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>r("/trading",{state:{selectedFriendCode:D.friend_user_code}}),className:"p-2 rounded-lg bg-purple-500/10 hover:bg-purple-500/20 text-purple-400 transition-colors",title:"Start trade",children:e.jsx(la,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>r("/chat",{state:{selectedFriend:D}}),className:"p-2 rounded-lg bg-cyan-500/10 hover:bg-cyan-500/20 text-cyan-400 transition-colors",title:"Start chat",children:e.jsx(Jr,{className:"h-5 w-5"})})]})]}),e.jsx("button",{onClick:()=>I(D.friendship_id),className:"w-full text-sm text-red-600 hover:text-red-700 font-medium",children:"Remove Friend"})]},D.friendship_id))})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Sent Requests"}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:[m.length," pending"]})]}),e.jsx("div",{className:"p-6",children:m.length===0?e.jsx("div",{className:"text-center py-8 text-gray-300 text-sm",children:"No pending sent requests"}):e.jsx("div",{className:"space-y-3",children:m.map(D=>e.jsx("div",{className:"p-3 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx(Qt,{className:"h-4 w-4 text-primary-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-white truncate",children:D.username}),e.jsx("p",{className:"text-xs text-gray-400",children:pt(D.requested_at)})]})]})},D.friendship_id))})})]})})]})]})}function sf(){const{user:r}=Ge(),a=us(),[i,o]=v.useState([]),[d,m]=v.useState(null),[f,h]=v.useState([]),[b,p]=v.useState(""),[g,y]=v.useState(""),[_,C]=v.useState(!0),[j,w]=v.useState(!1),[N,L]=v.useState(!1),[F,E]=v.useState({}),k=v.useRef(null);v.useEffect(()=>{I()},[]),v.useEffect(()=>{if(a.state?.selectedFriend&&i.length>0){const ne=a.state.selectedFriend,q=i.find(O=>(O.friend_user_code||O.user_code)===(ne.friend_user_code||ne.user_code));m(q||ne)}},[a.state,i]),v.useEffect(()=>{d&&(d.friend_user_code||d.user_code)&&H(d.friend_user_code||d.user_code)},[d]),v.useEffect(()=>{$()},[f]),v.useEffect(()=>{const ne=kl.onMessage(q=>{if(q.type==="chat_message"&&q.message&&typeof q.message!="string"){const O=q.message,re=d?.friend_user_code||d?.user_code;if(re&&(O.sender_user_code===re||O.recipient_user_code===re))h(Z=>[...Z,O]),O.sender_user_code===re&&(Qr.markAsRead(re).catch(console.error),E(Z=>{const le={...Z};return delete le[re],le}));else{const Z=O.sender_user_code;Z&&Z!==r?.user_code&&E(le=>({...le,[Z]:(le[Z]||0)+1}))}}});return()=>{ne()}},[d,r]);const $=()=>{k.current?.scrollIntoView({behavior:"smooth"})},I=async()=>{C(!0);try{const ne=await Rt.getFriends();if(ne.data.success&&ne.data.data){const q=ne.data.data.friends||ne.data.data;o(q),await D(q)}}catch(ne){console.error("Failed to load friends:",ne)}finally{C(!1)}},D=async ne=>{try{const q={};for(const O of ne){const re=O.friend_user_code||O.user_code;if(re)try{const Z=await Qr.getMessages(re,1e3,0);if(Z.data.success&&Z.data.data){const V=(Z.data.data.messages||Z.data.data).filter(G=>G.sender_user_code!==r?.user_code&&!G.is_read).length;V>0&&(q[re]=V)}}catch(Z){console.error(`Failed to fetch unread count for friend ${re}:`,Z)}}E(q)}catch(q){console.error("Failed to fetch unread counts:",q)}},H=async ne=>{w(!0);try{const q=await Qr.getMessages(ne);if(q.data.success&&q.data.data){const O=q.data.data.messages||q.data.data;h(O),O.filter(Z=>Z.receiver_user_code===r?.user_code&&!Z.is_read).length>0&&(await Qr.markAsRead(ne),E(Z=>{const le={...Z};return delete le[ne],le}))}}catch(q){console.error("Failed to load messages:",q)}finally{w(!1)}},ae=async ne=>{ne.preventDefault();const q=d?.friend_user_code||d?.user_code;if(!(!d||!q||!b.trim())){L(!0);try{const O=await Qr.sendMessage(q,b.trim());O.data.success&&(p(""),O.data.data&&h([...f,O.data.data]))}catch(O){alert(je(O))}finally{L(!1)}}},xe=i.filter(ne=>g?(ne.friend_username||ne.username)?.toLowerCase().includes(g.toLowerCase()):!0);return e.jsxs("div",{className:"h-[calc(100vh-8rem)]",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Chat"}),e.jsx("p",{className:"mt-1 text-cyan-300",children:"Message your friends"})]})}),e.jsxs("div",{className:"card h-[calc(100vh-14rem)] flex overflow-hidden",children:[e.jsxs("div",{className:"w-80 border-r border-space-600/50 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-space-600/50",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-cyan-400"}),e.jsx("input",{type:"text",value:g,onChange:ne=>y(ne.target.value),placeholder:"Search friends...",className:"input pl-10"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:_?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(we,{size:"large"})}):xe.length===0?e.jsxs("div",{className:"text-center py-8 px-4",children:[e.jsx(Jr,{className:"mx-auto h-12 w-12 text-cyan-400 mb-3"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No friends yet"}),e.jsx("p",{className:"text-cyan-300",children:"Add friends to start chatting"})]}):e.jsx("div",{className:"divide-y divide-space-600/50",children:xe.map(ne=>{const q=ne.friend_user_code||ne.user_code,O=ne.friend_username||ne.username,re=d?.friend_user_code||d?.user_code,Z=q&&F[q]||0;return e.jsx("button",{onClick:()=>m(ne),className:`w-full p-4 text-left hover:bg-space-700/50 transition-colors ${re===q?"bg-space-700":""}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full bg-cyan-500/20 flex items-center justify-center relative",children:[e.jsx(Qt,{className:"h-5 w-5 text-cyan-400"}),Z>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-white",children:Z>9?"9+":Z})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-white truncate",children:O}),e.jsx("p",{className:"text-xs text-cyan-300",children:"Friend"})]})]})},q)})})})]}),e.jsx("div",{className:"flex-1 flex flex-col",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 border-b border-space-600/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500/20 flex items-center justify-center",children:e.jsx(Qt,{className:"h-5 w-5 text-cyan-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-white",children:d.friend_username||d.username}),e.jsxs("p",{className:"text-xs text-cyan-300",children:["Friends since ",pt(d.friends_since||d.friendship_date||"")]})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:j?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(we,{size:"large"})}):f.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Jr,{className:"mx-auto h-12 w-12 text-cyan-400 mb-3"}),e.jsx("p",{className:"text-cyan-300",children:"No messages yet. Start the conversation!"})]}):e.jsxs(e.Fragment,{children:[f.map(ne=>{const q=ne.sender_user_code===r?.user_code;return e.jsx("div",{className:`flex ${q?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${q?"bg-cyan-600 text-white":"bg-space-700 text-white border border-space-600"}`,children:[e.jsx("p",{className:`text-xs font-semibold mb-1 ${q?"text-cyan-100":"text-cyan-300"}`,children:ne.sender_username||"Unknown"}),e.jsx("p",{className:"text-sm break-words",children:ne.message_content}),e.jsx("p",{className:`text-xs mt-1 ${q?"text-cyan-200":"text-cyan-300"}`,children:pt(ne.sent_at)})]})},ne.message_id)}),e.jsx("div",{ref:k})]})}),e.jsx("form",{onSubmit:ae,className:"p-4 border-t border-space-600/50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:b,onChange:ne=>p(ne.target.value),placeholder:"Type a message...",className:"input flex-1",disabled:N}),e.jsx("button",{type:"submit",disabled:!b.trim()||N,className:"btn-primary",children:N?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsx(vc,{className:"h-5 w-5"})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Jr,{className:"mx-auto h-16 w-16 text-cyan-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Select a conversation"}),e.jsx("p",{className:"text-cyan-300",children:"Choose a friend from the list to start chatting"})]})})})]})]})}function rf(){const{user:r}=Ge(),[a,i]=v.useState({totalCards:0,totalBattles:0,wins:0,winRate:0}),[o,d]=v.useState([]),[m,f]=v.useState([]),[h,b]=v.useState(!0);v.useEffect(()=>{p()},[]);const p=async()=>{b(!0);try{const g=await wr.getCollection();if(console.log("Cards API Response:",g.data),g.data.success&&g.data.data){const _=Array.isArray(g.data.data.cards)?g.data.data.cards:[];console.log("Parsed cards:",_),i(j=>({...j,totalCards:_.length}));const C=[..._].sort((j,w)=>{const N={Common:1,Rare:2,Epic:3,Legendary:4};return(N[w.rarity]||0)-(N[j.rarity]||0)});d(C.slice(0,3))}const y=await tt.getBattleHistory(10);if(console.log("Battles API Response:",y.data),y.data.success&&y.data.data){const _=Array.isArray(y.data.data)?y.data.data:y.data.data.battles||[];console.log("Parsed battles:",_),f(_);const C=_.length,j=_.filter(N=>N.winner_user_code===r?.user_code).length,w=C>0?j/C*100:0;i(N=>({...N,totalBattles:C,wins:j,winRate:w}))}}catch(g){console.error("Failed to load profile data:",g)}finally{b(!1)}};return h?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(we,{size:"large"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Profile"}),e.jsx("p",{className:"mt-1 text-gray-300",children:"View your public profile"})]}),e.jsx("div",{className:"card p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white",children:e.jsx(Qt,{className:"h-12 w-12"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:r?.username}),e.jsxs("p",{className:"text-sm text-gray-300 capitalize mt-1",children:[r?.account_type_name," Account"]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx(Zn,{className:"h-4 w-4"}),e.jsx("span",{children:r?.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx(wy,{className:"h-4 w-4"}),e.jsxs("span",{children:["Joined ",pt(r?.created_at||"")]})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-500/20 flex items-center justify-center",children:e.jsx(ft,{className:"h-6 w-6 text-blue-400"})})}),e.jsx("p",{className:"text-2xl font-bold text-white",children:a.totalCards}),e.jsx("p",{className:"text-sm text-gray-300",children:"Total Cards"})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-500/20 flex items-center justify-center",children:e.jsx(Kt,{className:"h-6 w-6 text-green-400"})})}),e.jsx("p",{className:"text-2xl font-bold text-white",children:a.totalBattles}),e.jsx("p",{className:"text-sm text-gray-300",children:"Total Battles"})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:e.jsx(Sl,{className:"h-6 w-6 text-yellow-400"})})}),e.jsx("p",{className:"text-2xl font-bold text-white",children:a.wins}),e.jsx("p",{className:"text-sm text-gray-300",children:"Wins"})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-500/20 flex items-center justify-center",children:e.jsx(Sl,{className:"h-6 w-6 text-purple-400"})})}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[a.winRate.toFixed(1),"%"]}),e.jsx("p",{className:"text-sm text-gray-300",children:"Win Rate"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Rarest Cards"}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Your most valuable cards"})]}),e.jsx("div",{className:"p-6",children:o.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ft,{className:"mx-auto h-12 w-12 text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No cards yet"})]}):e.jsx("div",{className:"grid grid-cols-3 gap-4",children:o.map(g=>e.jsx("div",{children:e.jsx(ht,{card:g,showStamp:!1,size:"small"})},g.user_card_id))})})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Recent Battles"}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Your latest matches"})]}),e.jsx("div",{className:"p-6",children:m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Kt,{className:"mx-auto h-12 w-12 text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No battles yet"})]}):e.jsx("div",{className:"space-y-3",children:m.slice(0,5).map(g=>{const y=g.winner_user_code===r?.user_code,_=!g.winner_user_code,C=g.player2_username||"AI Opponent";return e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-space-600",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${y?"bg-green-500/20":_?"bg-gray-500/20":"bg-red-500/20"}`,children:y?e.jsx(Sl,{className:"h-4 w-4 text-green-400"}):e.jsx(Kt,{className:`h-4 w-4 ${_?"text-gray-400":"text-red-400"}`})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["vs ",C]}),e.jsx("p",{className:"text-xs text-gray-400",children:pt(g.started_at)})]})]}),e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${y?"bg-green-500/20 text-green-400":_?"bg-gray-500/20 text-gray-400":"bg-red-500/20 text-red-400"}`,children:y?"Win":_?"Draw":"Loss"})]},g.battle_id)})})})]})]}),e.jsxs("div",{className:"card p-6 mt-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-400 mb-1",children:"Full Name"}),e.jsxs("p",{className:"text-white",children:[r?.given_name," ",r?.surname]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-400 mb-1",children:"User Code"}),e.jsx("p",{className:"text-white font-mono",children:r?.user_code})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-400 mb-1",children:"Account Type"}),e.jsx("p",{className:"text-white capitalize",children:r?.account_type_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-400 mb-1",children:"Member Since"}),e.jsx("p",{className:"text-white",children:new Date(r?.created_at||"").toLocaleDateString()})]})]})]})]})}function mb(){const{user:r,setUser:a}=Ge(),[i,o]=v.useState({given_name:r?.given_name||"",surname:r?.surname||"",email:r?.email||""}),[d,m]=v.useState({current_password:"",new_password:"",confirm_password:""}),[f,h]=v.useState([]),[b,p]=v.useState([]),[g,y]=v.useState(null),[_,C]=v.useState(null),[j,w]=v.useState(!0),[N,L]=v.useState(!1),[F,E]=v.useState(!1),[k,$]=v.useState({}),[I,D]=v.useState(!1),[H,ae]=v.useState(!1),[xe,ne]=v.useState(""),q=()=>{const U={};return i.given_name.trim()||(U.given_name="First name is required"),i.surname.trim()||(U.surname="Last name is required"),tp(i.email)||(U.email="Invalid email address"),$(U),Object.keys(U).length===0},O=()=>{const U={};return d.current_password||(U.current_password="Current password is required"),d.new_password?d.new_password.length<8&&(U.new_password="Password must be at least 8 characters"):U.new_password="New password is required",d.new_password!==d.confirm_password&&(U.confirm_password="Passwords do not match"),$(U),Object.keys(U).length===0};v.useEffect(()=>{re()},[]);const re=async()=>{w(!0);try{const[U,Y]=await Promise.all([Gs.getAvatars(),Gs.getStamps()]);U.data.success&&U.data.data&&(h(U.data.data.avatars||[]),y(U.data.data.current_avatar_id||null)),Y.data.success&&Y.data.data&&(p(Y.data.data.stamps||[]),C(Y.data.data.active_stamp_id||null))}catch(U){console.error("Failed to load customization:",U)}finally{w(!1)}},Z=async U=>{L(!0);try{(await Gs.setAvatar(U)).data.success&&(y(U),ne("Avatar updated successfully!"),setTimeout(()=>ne(""),3e3))}catch(Y){$({avatar:je(Y)})}finally{L(!1)}},le=async U=>{E(!0);try{(await Gs.setActiveStamp(U)).data.success&&(C(U),ne("Stamp updated successfully!"),setTimeout(()=>ne(""),3e3))}catch(Y){$({stamp:je(Y)})}finally{E(!1)}},V=async U=>{if(U.preventDefault(),ne(""),!!q()){D(!0);try{const Y=await Gs.updateProfile(i);Y.data.success&&Y.data.data&&(a(Y.data.data),ne("Profile updated successfully!"),setTimeout(()=>ne(""),3e3))}catch(Y){$({general:je(Y)})}finally{D(!1)}}},G=async U=>{if(U.preventDefault(),ne(""),!!O()){ae(!0);try{(await Gs.changePassword({current_password:d.current_password,new_password:d.new_password})).data.success&&(m({current_password:"",new_password:"",confirm_password:""}),ne("Password updated successfully!"),setTimeout(()=>ne(""),3e3))}catch(Y){$({password:je(Y)})}finally{ae(!1)}}};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Settings"}),e.jsx("p",{className:"mt-1 text-gray-300",children:"Manage your account settings"})]}),xe&&e.jsx("div",{className:"mb-6 rounded-lg bg-green-500/20 border border-green-500/50 p-4 text-green-400",children:xe}),k.general&&e.jsx("div",{className:"mb-6 rounded-lg bg-red-500/20 border border-red-500/50 p-4 text-red-400",children:k.general}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"p-6 border-b border-space-600",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:e.jsx(Qt,{className:"h-5 w-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Profile Information"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Update your personal information"})]})]})}),e.jsxs("form",{onSubmit:V,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"given_name",className:"block text-sm font-medium text-gray-300",children:"First Name"}),e.jsx("input",{id:"given_name",name:"given_name",type:"text",value:i.given_name,onChange:U=>o({...i,given_name:U.target.value}),className:k.given_name?"input-error mt-1":"input mt-1",disabled:I}),k.given_name&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:k.given_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"surname",className:"block text-sm font-medium text-gray-300",children:"Last Name"}),e.jsx("input",{id:"surname",name:"surname",type:"text",value:i.surname,onChange:U=>o({...i,surname:U.target.value}),className:k.surname?"input-error mt-1":"input mt-1",disabled:I}),k.surname&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:k.surname})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",value:i.email,onChange:U=>o({...i,email:U.target.value}),className:k.email?"input-error mt-1":"input mt-1",disabled:I}),k.email&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:k.email})]}),e.jsx("div",{className:"flex items-center justify-end gap-3",children:e.jsx("button",{type:"submit",disabled:I,className:"btn-primary",children:I?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(ia,{className:"h-5 w-5"}),e.jsx("span",{children:"Save Changes"})]})})})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"p-6 border-b border-space-600",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:e.jsx(os,{className:"h-5 w-5 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Change Password"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Update your password to keep your account secure"})]})]})}),e.jsxs("form",{onSubmit:G,className:"p-6 space-y-6",children:[k.password&&e.jsx("div",{className:"rounded-lg bg-red-500/20 border border-red-500/50 p-4 text-sm text-red-400",children:k.password}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-300",children:"Current Password"}),e.jsx("input",{id:"current_password",name:"current_password",type:"password",value:d.current_password,onChange:U=>m({...d,current_password:U.target.value}),className:k.current_password?"input-error mt-1":"input mt-1",disabled:H}),k.current_password&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:k.current_password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-300",children:"New Password"}),e.jsx("input",{id:"new_password",name:"new_password",type:"password",value:d.new_password,onChange:U=>m({...d,new_password:U.target.value}),className:k.new_password?"input-error mt-1":"input mt-1",disabled:H}),k.new_password&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:k.new_password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-300",children:"Confirm New Password"}),e.jsx("input",{id:"confirm_password",name:"confirm_password",type:"password",value:d.confirm_password,onChange:U=>m({...d,confirm_password:U.target.value}),className:k.confirm_password?"input-error mt-1":"input mt-1",disabled:H}),k.confirm_password&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:k.confirm_password})]}),e.jsx("div",{className:"flex items-center justify-end gap-3",children:e.jsx("button",{type:"submit",disabled:H,className:"btn-primary",children:H?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"h-5 w-5"}),e.jsx("span",{children:"Update Password"})]})})})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"p-6 border-b border-space-600",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center",children:e.jsx(ky,{className:"h-5 w-5 text-cyan-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Profile Avatar"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Choose your profile avatar"})]})]})}),e.jsx("div",{className:"p-6",children:j?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(we,{size:"medium"})}):e.jsxs(e.Fragment,{children:[k.avatar&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-500/20 border border-red-500/50 p-4 text-sm text-red-400",children:k.avatar}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:f.map(U=>e.jsxs("button",{onClick:()=>U.is_unlocked&&Z(U.avatar_id),disabled:!U.is_unlocked||N,className:`relative p-4 rounded-lg border-2 transition-all ${g===U.avatar_id?"border-cyan-400 bg-cyan-500/20":U.is_unlocked?"border-space-600 hover:border-space-500 bg-space-800/50":"border-space-600 bg-space-800/30 opacity-50 cursor-not-allowed"}`,children:[e.jsx("div",{className:"aspect-square rounded-lg bg-space-700 flex items-center justify-center mb-2 overflow-hidden",children:U.avatar_image_url?e.jsx("img",{src:U.avatar_image_url,alt:U.avatar_name,className:"w-full h-full object-cover"}):e.jsx(Qt,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-xs text-center text-white truncate",children:U.avatar_name}),!U.is_unlocked&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-lg",children:e.jsx(os,{className:"h-6 w-6 text-gray-400"})}),g===U.avatar_id&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-cyan-400 flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]},U.avatar_id))}),f.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-400",children:"No avatars available"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"p-6 border-b border-space-600",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-500/20 flex items-center justify-center",children:e.jsx(Qm,{className:"h-5 w-5 text-amber-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Card Stamp"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Choose your active card stamp"})]})]})}),e.jsx("div",{className:"p-6",children:j?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(we,{size:"medium"})}):e.jsxs(e.Fragment,{children:[k.stamp&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-500/20 border border-red-500/50 p-4 text-sm text-red-400",children:k.stamp}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:b.map(U=>e.jsxs("button",{onClick:()=>U.is_unlocked&&le(U.stamp_id),disabled:!U.is_unlocked||F,className:`relative p-4 rounded-lg border-2 transition-all ${_===U.stamp_id?"border-amber-400 bg-amber-500/20":U.is_unlocked?"border-space-600 hover:border-space-500 bg-space-800/50":"border-space-600 bg-space-800/30 opacity-50 cursor-not-allowed"}`,children:[e.jsx("div",{className:"aspect-square rounded-lg bg-space-700 flex items-center justify-center mb-2 overflow-hidden",children:U.stamp_image_url?e.jsx("img",{src:U.stamp_image_url,alt:U.stamp_name,className:"w-full h-full object-cover"}):e.jsx(Qm,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-xs text-center text-white truncate",children:U.stamp_name}),!U.is_unlocked&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-lg",children:e.jsx(os,{className:"h-6 w-6 text-gray-400"})}),_===U.stamp_id&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-amber-400 flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]},U.stamp_id))}),b.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-400",children:"No stamps available"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"p-6 border-b border-space-600",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-500/20 flex items-center justify-center",children:e.jsx(Kf,{className:"h-5 w-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Account Details"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Your account information"})]})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-space-600",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:"Username"}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:r?.username})]}),e.jsx("span",{className:"badge bg-gray-500/20 text-gray-400",children:"Cannot be changed"})]}),e.jsx("div",{className:"flex items-center justify-between py-3 border-b border-space-600",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:"User Code"}),e.jsx("p",{className:"text-sm text-gray-300 mt-1 font-mono",children:r?.user_code})]})}),e.jsx("div",{className:"flex items-center justify-between py-3 border-b border-space-600",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:"Account Type"}),e.jsx("p",{className:"text-sm text-gray-300 mt-1 capitalize",children:r?.account_type_name})]})}),e.jsx("div",{className:"flex items-center justify-between py-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:"Member Since"}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:new Date(r?.created_at||"").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})})]})]})]})]})}function fb(){const[r,a]=v.useState([]),[i,o]=v.useState(null),[d,m]=v.useState(!0),[f,h]=v.useState(null),[b,p]=v.useState(!1);v.useEffect(()=>{g()},[]),v.useEffect(()=>{i&&y(i.user_code)},[i]);const g=async()=>{m(!0);try{const _=await Gs.getChildAccounts();_.data.success&&_.data.data&&(a(_.data.data),_.data.data.length>0&&o(_.data.data[0]))}catch(_){console.error("Failed to load child accounts:",_)}finally{m(!1)}},y=async _=>{p(!0);try{h({total_battles:0,total_trades:0,credits_spent:0,last_login:null})}catch(C){console.error("Failed to load activity:",C)}finally{p(!1)}};return e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Parent Controls"}),e.jsx("p",{className:"mt-1 text-gray-300",children:"Monitor and manage your children's accounts"})]})}),d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}):r.length===0?e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(ic,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No child accounts yet"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Child accounts linked to your parent account will appear here"}),e.jsx("div",{className:"rounded-lg bg-blue-500/20 border border-blue-400/30 p-4 max-w-2xl mx-auto",children:e.jsxs("p",{className:"text-sm text-blue-200",children:[e.jsx("strong",{children:"How to add a child account:"}),' When creating a new account, select "Child Account" and provide your User ID (found in Settings).']})})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-4 border-b border-space-600",children:[e.jsx("h2",{className:"font-semibold text-white",children:"Child Accounts"}),e.jsxs("p",{className:"text-xs text-gray-300 mt-1",children:[r.length," ",r.length===1?"account":"accounts"]})]}),e.jsx("div",{className:"divide-y divide-space-600",children:r.map(_=>e.jsx("button",{onClick:()=>o(_),className:`w-full p-4 text-left hover:bg-space-700/50 transition-colors ${i?.user_code===_.user_code?"bg-cyan-500/20 border-l-2 border-cyan-400":""}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500/20 flex items-center justify-center",children:e.jsx(Qt,{className:"h-5 w-5 text-cyan-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-white truncate",children:_.username}),e.jsxs("p",{className:"text-xs text-gray-400",children:[_.given_name," ",_.surname]})]})]})},_.user_code))})]})}),e.jsx("div",{className:"lg:col-span-3 space-y-6",children:i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Username"}),e.jsx("p",{className:"font-medium text-white",children:i.username})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Full Name"}),e.jsxs("p",{className:"font-medium text-white",children:[i.given_name," ",i.surname]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Email"}),e.jsx("p",{className:"font-medium text-white",children:i.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Account Created"}),e.jsx("p",{className:"font-medium text-white",children:pt(i.created_at)})]})]})]}),b?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:e.jsx(jc,{className:"h-5 w-5 text-green-400"})})}),e.jsx("p",{className:"text-2xl font-bold text-white",children:cs(i.credits_balance)}),e.jsx("p",{className:"text-sm text-gray-300",children:"GeoCoins Balance"})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:e.jsx(Kt,{className:"h-5 w-5 text-blue-400"})})}),e.jsx("p",{className:"text-2xl font-bold text-white",children:f?.total_battles||0}),e.jsx("p",{className:"text-sm text-gray-300",children:"Total Battles"})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:e.jsx(la,{className:"h-5 w-5 text-purple-400"})})}),e.jsx("p",{className:"text-2xl font-bold text-white",children:f?.total_trades||0}),e.jsx("p",{className:"text-sm text-gray-300",children:"Total Trades"})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-500/20 flex items-center justify-center",children:e.jsx(is,{className:"h-5 w-5 text-orange-400"})})}),e.jsx("p",{className:"text-2xl font-bold text-white",children:cs(f?.credits_spent||0)}),e.jsx("p",{className:"text-sm text-gray-300",children:"GeoCoins Spent"})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"p-6 border-b border-space-600",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Recent Activity"}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Monitor your child's gaming activity"})]}),e.jsx("div",{className:"p-6",children:f?.last_login?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-space-700/50",children:[e.jsx(Gf,{className:"h-5 w-5 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Last Login"}),e.jsx("p",{className:"text-sm text-gray-300",children:pt(f.last_login)})]})]})}):e.jsx("div",{className:"text-center py-8 text-gray-300",children:"No recent activity to display"})})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Safety & Privacy"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-green-500/20 border border-green-400/30",children:[e.jsx(ic,{className:"h-5 w-5 text-green-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-300",children:"Account Protected"}),e.jsx("p",{className:"text-sm text-green-200 mt-1",children:"This child account is linked to your parent account and follows age-appropriate content guidelines."})]})]}),e.jsx("div",{className:"p-4 rounded-lg bg-blue-500/20 border border-blue-400/30",children:e.jsxs("p",{className:"text-sm text-blue-200",children:[e.jsx("strong",{children:"Trading & Marketplace:"})," Child accounts can trade with friends and use the marketplace. All transactions are logged and visible to parent accounts."]})}),e.jsx("div",{className:"p-4 rounded-lg bg-blue-500/20 border border-blue-400/30",children:e.jsxs("p",{className:"text-sm text-blue-200",children:[e.jsx("strong",{children:"Chat & Social:"})," Chat is available with approved friends only. Monitor the Friends page to see your child's friend connections."]})})]})]})]})]})})]})]})}function pb({notification:r,onUpdate:a}){const[i,o]=v.useState(!1),[d,m]=v.useState(""),[f,h]=v.useState(!1),{updateUserCredits:b}=Ge(),p=r.offer_details,g=r.user_role;if(!p||!g)return e.jsx("div",{className:"card p-4 border-l-4",style:{borderLeftColor:r.notification_color},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 p-2 rounded-lg bg-gray-700/50",children:e.jsx(is,{className:"h-5 w-5 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-white",children:r.title}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(r.created_at).toLocaleString()})]})]})});const y=async()=>{o(!0),m("");try{await _t.respondToOffer(p.offer_id,"accept"),a()}catch(N){m(je(N))}finally{o(!1)}},_=async()=>{o(!0),m("");try{await _t.respondToOffer(p.offer_id,"reject"),a()}catch(N){m(je(N))}finally{o(!1)}},C=async()=>{o(!0),m("");try{if((await _t.confirmPurchase(p.offer_id)).data.success){const L=Ge.getState().user?.credits_balance??0;b(L-p.offer_price),h(!1),a()}}catch(N){m(je(N))}finally{o(!1)}},j=(p.asking_price-p.offer_price)/p.asking_price*100,w=p.offer_price<p.asking_price;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"card p-4 border-l-4",style:{borderLeftColor:r.notification_color},children:e.jsxs("div",{className:"flex items-start gap-4",children:[p.character_image_path&&e.jsx("div",{className:"flex-shrink-0 w-20 h-28 rounded-lg overflow-hidden bg-space-700 border-2 border-cyan-500/30",children:e.jsx("img",{src:p.character_image_path,alt:p.card_name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:r.title}),e.jsx("p",{className:"text-sm text-cyan-400 font-medium mt-1",children:p.card_name})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-yellow-400",children:[p.offer_price," GeoCoins"]}),w&&e.jsxs("div",{className:"text-xs text-gray-400 line-through",children:[p.asking_price," GeoCoins"]})]})]}),e.jsxs("div",{className:"mt-3 space-y-2",children:[w&&e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(yc,{className:"h-3 w-3 text-yellow-400"}),e.jsxs("span",{className:"text-yellow-400",children:[j.toFixed(0),"% below asking price"]})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Status: ",e.jsx("span",{className:`font-semibold ${p.offer_status==="pending_seller"?"text-yellow-400":p.offer_status==="seller_approved"?"text-cyan-400":p.offer_status==="completed"?"text-green-400":p.offer_status==="rejected"?"text-red-400":"text-gray-400"}`,children:p.offer_status.replace("_"," ").toUpperCase()})]}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(p.created_at).toLocaleString()})]}),p.offer_status==="pending_seller"&&g==="seller"&&e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs("button",{onClick:y,disabled:i,className:"flex-1 btn-primary text-sm py-2",children:[e.jsx(At,{className:"h-4 w-4"}),e.jsx("span",{children:"Accept Offer"})]}),e.jsxs("button",{onClick:_,disabled:i,className:"flex-1 btn-secondary text-sm py-2 border-red-500/50 hover:bg-red-900/20",children:[e.jsx(Ae,{className:"h-4 w-4"}),e.jsx("span",{children:"Reject"})]})]}),p.offer_status==="seller_approved"&&g==="buyer"&&e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>h(!0),disabled:i,className:"w-full btn-primary text-sm py-2",children:[e.jsx(jr,{className:"h-4 w-4"}),e.jsx("span",{children:"Confirm Purchase"})]})}),d&&e.jsx("div",{className:"mt-3 bg-red-900/20 border border-red-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-red-400",children:d})})]})]})}),f&&e.jsx(np,{isOpen:f,onClose:()=>h(!1),onConfirm:C,cardName:p.card_name,price:p.offer_price,cardImage:p.character_image_path,isProcessing:i,error:d})]})}function hb(){const[r,a]=v.useState([]),[i,o]=v.useState(!0),[d,m]=v.useState(""),[f,h]=v.useState(!1);v.useEffect(()=>{b()},[f]);const b=async()=>{o(!0),m("");try{const C=await Kr.getNotifications(f);C.data.success&&a(C.data.data.notifications||[])}catch(C){m(je(C))}finally{o(!1)}},p=async C=>{try{await Kr.markAsRead(C),b()}catch(j){m(je(j))}},g=async()=>{try{await Kr.markAllRead(),b()}catch(C){m(je(C))}},y=async C=>{try{await Kr.deleteNotification(C),b()}catch(j){m(je(j))}},_=r.filter(C=>!C.is_read).length;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Notifications"}),e.jsx("p",{className:"mt-1 text-cyan-300",children:_>0?`${_} unread notification${_!==1?"s":""}`:"All caught up!"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>h(!f),className:`btn-secondary ${f?"border-cyan-500 text-cyan-300":""}`,children:f?"Show All":"Unread Only"}),_>0&&e.jsxs("button",{onClick:g,className:"btn-primary",children:[e.jsx(Km,{className:"h-5 w-5"}),e.jsx("span",{children:"Mark All Read"})]})]})]}),d&&e.jsx("div",{className:"mb-6 bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:e.jsx("p",{className:"text-red-400",children:d})}),i&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}),!i&&r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(nc,{className:"mx-auto h-16 w-16 text-space-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Notifications"}),e.jsx("p",{className:"text-cyan-300",children:f?"You have no unread notifications":"You have no notifications at this time"})]}),!i&&r.length>0&&e.jsx("div",{className:"space-y-4",children:r.map(C=>e.jsxs("div",{className:"relative group",children:[C.related_entity_type==="marketplace_offer"?e.jsx(pb,{notification:C,onUpdate:b}):e.jsx("div",{className:`card p-4 border-l-4 transition-all ${C.is_read?"opacity-70":""}`,style:{borderLeftColor:C.notification_color},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 p-2 rounded-lg",style:{backgroundColor:`${C.notification_color}20`},children:e.jsx(nc,{className:"h-5 w-5",style:{color:C.notification_color}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-white",children:C.title}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:C.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(C.created_at).toLocaleString()})]})]})}),C.related_entity_type!=="marketplace_offer"&&e.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[!C.is_read&&e.jsx("button",{onClick:()=>p(C.notification_id),className:"p-2 rounded-lg bg-space-700 hover:bg-space-600 text-cyan-400 transition-colors",title:"Mark as read",children:e.jsx(Km,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>y(C.notification_id),className:"p-2 rounded-lg bg-space-700 hover:bg-red-900/50 text-red-400 transition-colors",title:"Delete notification",children:e.jsx(Zs,{className:"h-4 w-4"})})]})]},C.notification_id))})]})}const Fe=Be.create({baseURL:"/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});Fe.interceptors.request.use(r=>{const a=localStorage.getItem("auth_token");return a&&(r.headers.Authorization=`Bearer ${a}`),r});const Yt={list:r=>{const a=new URLSearchParams;return r?.search&&a.append("search",r.search),r?.type_id!==void 0&&a.append("type_id",r.type_id.toString()),r?.status_id!==void 0&&a.append("status_id",r.status_id.toString()),r?.published!==void 0&&a.append("published",r.published.toString()),Fe.get(`/admin/card-templates?action=list${a.toString()?"&"+a.toString():""}`)},get:r=>Fe.get(`/admin/card-templates?action=get&id=${r}`),create:r=>Fe.post("/admin/card-templates?action=create",r),update:(r,a)=>Fe.put("/admin/card-templates?action=update",{...a,card_template_id:r}),delete:r=>Fe.delete("/admin/card-templates?action=delete",{data:{card_template_id:r}}),publish:r=>Fe.post("/admin/card-templates?action=publish",{card_template_id:r}),unpublish:r=>Fe.post("/admin/card-templates?action=unpublish",{card_template_id:r}),getTypes:()=>Fe.get("/admin/card-templates?action=get-types"),getStatus:()=>Fe.get("/admin/card-templates?action=get-status")},at=r=>r.response?.data?.message?r.response.data.message:r.message?r.message:"An unexpected error occurred";function xb(){const[r,a]=v.useState(null),[i,o]=v.useState(!0),[d,m]=v.useState("");v.useEffect(()=>{f()},[]);const f=async()=>{o(!0);try{const p=await Fe.get("/admin/dashboard?action=stats");p.data.success&&p.data.data&&a(p.data.data)}catch(p){m(p.response?.data?.message||"Failed to load dashboard stats")}finally{o(!1)}};if(i)return e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(we,{size:"large"})});if(d||!r)return e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 text-red-600",children:d||"Failed to load dashboard"});const h=[{title:"Card Templates",value:r.total_card_templates,subtitle:`${r.published_templates} published, ${r.draft_templates} drafts`,icon:ft,color:"cyan",link:"/admin/card-templates"},{title:"Card Types",value:r.total_card_types,subtitle:"Different card types",icon:lc,color:"blue",link:"/admin/card-types"},{title:"Rarity Levels",value:r.total_card_statuses,subtitle:"Rarity/status tiers",icon:bc,color:"yellow",link:"/admin/card-status"},{title:"Users",value:r.total_users,subtitle:`${r.active_users} active users`,icon:Js,color:"green",link:"/admin/users"},{title:"Promotions",value:r.total_promotions,subtitle:"Active promotions",icon:jc,color:"purple",link:"/admin/promotions"}],b=p=>{switch(p){case"cyan":return"text-cyan-400 bg-cyan-900/20";case"blue":return"text-blue-400 bg-blue-900/20";case"yellow":return"text-yellow-400 bg-yellow-900/20";case"green":return"text-green-400 bg-green-900/20";case"purple":return"text-purple-400 bg-purple-900/20";default:return"text-gray-400 bg-gray-900/20"}};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Admin Dashboard"}),e.jsx("p",{className:"mt-2 text-cyan-300",children:"System overview and statistics"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(p=>{const g=p.icon;return e.jsx("a",{href:p.link,className:"card p-6 hover:border-cyan-500/50 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:p.title}),e.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:p.value}),e.jsx("p",{className:"text-xs text-gray-500",children:p.subtitle})]}),e.jsx("div",{className:`p-3 rounded-xl ${b(p.color)}`,children:e.jsx(g,{className:"h-6 w-6"})})]})},p.title)})}),e.jsxs("div",{className:"mt-8 card p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("a",{href:"/admin/card-templates/new",className:"btn-primary justify-center",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx("span",{children:"New Card Template"})]}),e.jsxs("a",{href:"/admin/card-types",className:"btn-secondary justify-center",children:[e.jsx(lc,{className:"h-4 w-4"}),e.jsx("span",{children:"Manage Types"})]}),e.jsxs("a",{href:"/admin/users",className:"btn-secondary justify-center",children:[e.jsx(Js,{className:"h-4 w-4"}),e.jsx("span",{children:"View Users"})]})]})]})]})}function ap({isOpen:r,onClose:a,formData:i,cardTypes:o,cardStatuses:d}){if(!r)return null;const m=o.find(b=>b.card_type_id===i.card_type_id)?.type_name||"Crystal",f=d.find(b=>b.status_id===i.status_id)?.status_name||"Common",h={user_card_id:0,card_template_id:0,user_code:"",published_card_id:0,card_name:i.card_name||"Card Name",card_description:i.description||"Card description",card_type:m,rarity:f,speed:i.speed_score,attack:i.attack_score,defense:i.defense_score,image_url:i.character_image_path||null,educational_facts:i.science_fact||null,acquired_at:new Date().toISOString(),ownership_count:0,active_stamp_id:null,stamp_image_url:null,in_deck:!1,available_for_battle:!0};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4",children:e.jsxs("div",{className:"relative bg-space-900 rounded-2xl shadow-2xl max-w-4xl w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Card Preview"}),e.jsx("button",{onClick:a,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-space-700 hover:text-white",children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(ht,{card:h,size:"zoomed",showStamp:!1})}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("button",{onClick:a,className:"btn-primary",children:"Close Preview"})})]})})}function gb(){const r=Lt(),[a,i]=v.useState([]),[o,d]=v.useState([]),[m,f]=v.useState([]),[h,b]=v.useState(!0),[p,g]=v.useState(""),[y,_]=v.useState(!1),[C,j]=v.useState(null),[w,N]=v.useState(""),[L,F]=v.useState(),[E,k]=v.useState(),[$,I]=v.useState();v.useEffect(()=>{D(),H(),ae()},[]),v.useEffect(()=>{ae()},[w,L,E,$]);const D=async()=>{try{const O=await Yt.getTypes();O.data.success&&O.data.data&&d(O.data.data)}catch(O){console.error("Failed to fetch card types:",O)}},H=async()=>{try{const O=await Yt.getStatus();O.data.success&&O.data.data&&f(O.data.data)}catch(O){console.error("Failed to fetch card statuses:",O)}},ae=async()=>{b(!0),g("");try{const O=await Yt.list({search:w||void 0,type_id:L,status_id:E,published:$});O.data.success&&O.data.data?i(O.data.data.templates||[]):g(O.data.message||"Failed to load templates")}catch(O){g(at(O))}finally{b(!1)}},xe=async(O,re)=>{if(confirm(`Are you sure you want to delete "${re}"?`))try{const Z=await Yt.delete(O);Z.data.success?ae():alert(Z.data.message||"Failed to delete template")}catch(Z){alert(at(Z))}},ne=async(O,re)=>{try{const Z=re?await Yt.unpublish(O):await Yt.publish(O);Z.data.success?ae():alert(Z.data.message||"Failed to update publish status")}catch(Z){alert(at(Z))}},q=O=>{j(O),_(!0)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Card Templates"}),e.jsxs("p",{className:"mt-1 text-cyan-300",children:[a.length," template",a.length!==1?"s":""]})]}),e.jsxs("button",{onClick:()=>r("/admin/card-templates/new"),className:"btn-primary",children:[e.jsx(Jt,{className:"h-5 w-5"}),e.jsx("span",{children:"New Template"})]})]}),e.jsx("div",{className:"card p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:w,onChange:O=>N(O.target.value),placeholder:"Search templates...",className:"input pl-10"})]}),e.jsxs("select",{value:L??"",onChange:O=>F(O.target.value?Number(O.target.value):void 0),className:"input",children:[e.jsx("option",{value:"",children:"All Types"}),o.map(O=>e.jsx("option",{value:O.card_type_id,children:O.type_name},O.card_type_id))]}),e.jsxs("select",{value:E??"",onChange:O=>k(O.target.value?Number(O.target.value):void 0),className:"input",children:[e.jsx("option",{value:"",children:"All Rarities"}),m.map(O=>e.jsx("option",{value:O.status_id,children:O.status_name},O.status_id))]}),e.jsxs("select",{value:$??"",onChange:O=>I(O.target.value?Number(O.target.value):void 0),className:"input",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"1",children:"Published Only"}),e.jsx("option",{value:"0",children:"Unpublished Only"})]})]})}),h&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}),p&&e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 text-red-600 mb-6",children:p}),!h&&!p&&e.jsxs("div",{className:"card overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{style:{background:"rgba(0, 245, 255, 0.1)"},children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Rarity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Stats"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Copies"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:a.map(O=>e.jsxs("tr",{className:"hover:bg-space-800",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:["#",O.card_template_id]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:O.card_name}),e.jsxs("div",{className:"text-xs text-gray-400",children:[O.card_number," of ",O.card_total]})]}),e.jsx("button",{onClick:()=>q(O),className:"text-cyan-400 hover:text-cyan-300 transition-colors",title:"Preview Card",children:e.jsx(en,{className:"h-4 w-4"})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-cyan-300",children:O.type_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${O.rarity==="legendary"?"bg-orange-900 text-orange-300":O.rarity==="epic"?"bg-purple-900 text-purple-300":O.rarity==="rare"?"bg-blue-900 text-blue-300":"bg-gray-700 text-gray-300"}`,children:O.rarity})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:"text-yellow-400",children:[O.speed_score,"S"]}),e.jsxs("span",{className:"text-green-400",children:[O.attack_score,"A"]}),e.jsxs("span",{className:"text-blue-400",children:[O.defense_score,"D"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:O.total_copies}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O.published?e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-900 text-green-300",children:"Published"}):e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-700 text-gray-300",children:"Draft"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>ne(O.card_template_id,O.published),className:"text-cyan-400 hover:text-cyan-300",title:O.published?"Unpublish":"Publish",children:O.published?e.jsx(ac,{className:"h-4 w-4"}):e.jsx(en,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>r(`/admin/card-templates/edit/${O.card_template_id}`),className:"text-blue-400 hover:text-blue-300",title:"Edit",children:e.jsx(ln,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>xe(O.card_template_id,O.card_name),className:"text-red-400 hover:text-red-300",title:"Delete",children:e.jsx(Zs,{className:"h-4 w-4"})})]})})]},O.card_template_id))})]})}),a.length===0&&!h&&!p&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400",children:"No templates found"})})]}),C&&e.jsx(ap,{isOpen:y,onClose:()=>{_(!1),j(null)},formData:{card_name:C.card_name,description:C.description||"",status_id:C.status_id,speed_score:C.speed_score,attack_score:C.attack_score,defense_score:C.defense_score,character_image_path:C.character_image_path||"",attack_name:C.attack_name||"",attack_description:C.attack_description||"",science_fact:C.science_fact||"",card_type_id:C.card_type_id,header_color1:C.header_color1||"#000000",header_color2:C.header_color2||"#000000",border_color1:C.border_color1||"#000000",border_color2:C.border_color2||"#000000"},cardTypes:o,cardStatuses:m})]})}function nf(){const r=Lt(),{id:a}=qx(),i=!!a,[o,d]=v.useState(i),[m,f]=v.useState(!1),[h,b]=v.useState(""),[p,g]=v.useState([]),[y,_]=v.useState([]),[C,j]=v.useState(!1),[w,N]=v.useState({card_name:"",description:"",status_id:0,speed_score:50,attack_score:50,defense_score:50,character_image_path:"",attack_name:"",attack_description:"",science_fact:"",science_fact_image_path:"",card_type_id:0,card_number:1,card_total:100,header_color1:"#00f5ff",header_color2:"#0080ff",border_color1:"#00f5ff",border_color2:"#0080ff",total_copies:1e3,published:!1});v.useEffect(()=>{L(),F(),i&&E()},[a]);const L=async()=>{try{const H=await Yt.getTypes();H.data.success&&H.data.data&&g(H.data.data)}catch(H){console.error("Failed to fetch card types:",H)}},F=async()=>{try{const H=await Yt.getStatus();H.data.success&&H.data.data&&_(H.data.data)}catch(H){console.error("Failed to fetch card statuses:",H)}},E=async()=>{if(a){d(!0),b("");try{const H=await Yt.get(Number(a));if(H.data.success&&H.data.data){const ae=H.data.data;N({card_name:ae.card_name,description:ae.description,status_id:ae.status_id,speed_score:ae.speed_score,attack_score:ae.attack_score,defense_score:ae.defense_score,character_image_path:ae.character_image_path,attack_name:ae.attack_name,attack_description:ae.attack_description,science_fact:ae.science_fact,science_fact_image_path:ae.science_fact_image_path||"",card_type_id:ae.card_type_id,card_number:ae.card_number,card_total:ae.card_total,header_color1:ae.header_color1,header_color2:ae.header_color2,border_color1:ae.border_color1,border_color2:ae.border_color2,total_copies:ae.total_copies,published:ae.published})}else b(H.data.message||"Failed to load template")}catch(H){b(at(H))}finally{d(!1)}}},k=H=>{const{name:ae,value:xe,type:ne}=H.target;N(q=>({...q,[ae]:ne==="number"?Number(xe):xe}))},$=H=>{const{name:ae,checked:xe}=H.target;N(ne=>({...ne,[ae]:xe}))},I=()=>w.card_name.trim()?w.description.trim()?w.status_id===0?"Please select a rarity":w.card_type_id===0?"Please select a card type":w.character_image_path.trim()?w.attack_name.trim()?w.attack_description.trim()?w.science_fact.trim()?w.speed_score<0||w.speed_score>100?"Speed score must be between 0 and 100":w.attack_score<0||w.attack_score>100?"Attack score must be between 0 and 100":w.defense_score<0||w.defense_score>100?"Defense score must be between 0 and 100":w.card_number<1?"Card number must be at least 1":w.card_total<1?"Card total must be at least 1":w.total_copies<0?"Total copies cannot be negative":null:"Science fact is required":"Attack description is required":"Attack name is required":"Character image path is required":"Description is required":"Card name is required",D=async H=>{H.preventDefault();const ae=I();if(ae){b(ae);return}f(!0),b("");try{const xe=i?await Yt.update(Number(a),w):await Yt.create(w);xe.data.success?r("/admin/card-templates"):b(xe.data.message||"Failed to save template")}catch(xe){b(at(xe))}finally{f(!1)}};return o?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:i?"Edit Card Template":"New Card Template"}),e.jsx("p",{className:"mt-1 text-cyan-300",children:i?`Editing template #${a}`:"Create a new card template"})]}),e.jsxs("button",{onClick:()=>r("/admin/card-templates"),className:"btn-secondary",children:[e.jsx($l,{className:"h-5 w-5"}),e.jsx("span",{children:"Back to List"})]})]}),h&&e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 text-red-600 mb-6",children:h}),e.jsxs("form",{onSubmit:D,children:[e.jsxs("div",{className:"card p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Card Name *"}),e.jsx("input",{type:"text",name:"card_name",value:w.card_name,onChange:k,className:"input",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Description *"}),e.jsx("textarea",{name:"description",value:w.description,onChange:k,rows:3,className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Card Type *"}),e.jsxs("select",{name:"card_type_id",value:w.card_type_id,onChange:k,className:"input",required:!0,children:[e.jsx("option",{value:0,children:"Select Type"}),p.map(H=>e.jsx("option",{value:H.card_type_id,children:H.type_name},H.card_type_id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Rarity *"}),e.jsxs("select",{name:"status_id",value:w.status_id,onChange:k,className:"input",required:!0,children:[e.jsx("option",{value:0,children:"Select Rarity"}),y.map(H=>e.jsx("option",{value:H.status_id,children:H.status_name},H.status_id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Card Number *"}),e.jsx("input",{type:"number",name:"card_number",value:w.card_number,onChange:k,min:1,className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Card Total *"}),e.jsx("input",{type:"number",name:"card_total",value:w.card_total,onChange:k,min:1,className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Total Copies *"}),e.jsx("input",{type:"number",name:"total_copies",value:w.total_copies,onChange:k,min:0,className:"input",required:!0})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"published",checked:w.published,onChange:$,className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-cyan-300",children:"Published"})]})})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Card Stats"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-yellow-400 mb-2",children:"Speed Score (0-100) *"}),e.jsx("input",{type:"number",name:"speed_score",value:w.speed_score,onChange:k,min:0,max:100,className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-green-400 mb-2",children:"Attack Score (0-100) *"}),e.jsx("input",{type:"number",name:"attack_score",value:w.attack_score,onChange:k,min:0,max:100,className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-400 mb-2",children:"Defense Score (0-100) *"}),e.jsx("input",{type:"number",name:"defense_score",value:w.defense_score,onChange:k,min:0,max:100,className:"input",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Attack Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Attack Name *"}),e.jsx("input",{type:"text",name:"attack_name",value:w.attack_name,onChange:k,className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Attack Description *"}),e.jsx("textarea",{name:"attack_description",value:w.attack_description,onChange:k,rows:3,className:"input",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Educational Content"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Science Fact *"}),e.jsx("textarea",{name:"science_fact",value:w.science_fact,onChange:k,rows:4,className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Science Fact Image Path (optional)"}),e.jsx("input",{type:"text",name:"science_fact_image_path",value:w.science_fact_image_path,onChange:k,className:"input",placeholder:"/images/science/"})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Images"}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Character Image Path *"}),e.jsx("input",{type:"text",name:"character_image_path",value:w.character_image_path,onChange:k,className:"input",placeholder:"/images/characters/",required:!0})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Card Colors"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Header Color 1 *"}),e.jsx("input",{type:"color",name:"header_color1",value:w.header_color1,onChange:k,className:"input h-12",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Header Color 2 *"}),e.jsx("input",{type:"color",name:"header_color2",value:w.header_color2,onChange:k,className:"input h-12",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Border Color 1 *"}),e.jsx("input",{type:"color",name:"border_color1",value:w.border_color1,onChange:k,className:"input h-12",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:"Border Color 2 *"}),e.jsx("input",{type:"color",name:"border_color2",value:w.border_color2,onChange:k,className:"input h-12",required:!0})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3 mt-6",children:[e.jsxs("button",{type:"button",onClick:()=>j(!0),className:"btn-secondary",disabled:m,children:[e.jsx(en,{className:"h-5 w-5"}),e.jsx("span",{children:"Preview Card"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:()=>r("/admin/card-templates"),className:"btn-secondary",disabled:m,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(Qf,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ia,{className:"h-5 w-5"}),e.jsx("span",{children:i?"Update Template":"Create Template"})]})})]})]})]}),e.jsx(ap,{isOpen:C,onClose:()=>j(!1),formData:w,cardTypes:p,cardStatuses:y})]})}function yb(){const[r,a]=v.useState([]),[i,o]=v.useState(!0),[d,m]=v.useState(""),[f,h]=v.useState(!1),[b,p]=v.useState(null),[g,y]=v.useState({type_name:"",type_description:""}),[_,C]=v.useState(!1);v.useEffect(()=>{j()},[]);const j=async()=>{o(!0),m("");try{const E=await Fe.get("/admin/card-types?action=list");E.data.success&&E.data.data&&a(E.data.data)}catch(E){m(at(E))}finally{o(!1)}},w=E=>{E?(p(E),y({type_name:E.type_name,type_description:E.type_description||""})):(p(null),y({type_name:"",type_description:""})),h(!0)},N=()=>{h(!1),p(null),y({type_name:"",type_description:""})},L=async E=>{E.preventDefault(),C(!0);try{if(b){const k=await Fe.put("/admin/card-types?action=update",{card_type_id:b.card_type_id,...g});k.data.success?(j(),N()):alert(k.data.message||"Failed to update card type")}else{const k=await Fe.post("/admin/card-types?action=create",g);k.data.success?(j(),N()):alert(k.data.message||"Failed to create card type")}}catch(k){alert(at(k))}finally{C(!1)}},F=async(E,k)=>{if(confirm(`Are you sure you want to delete the card type "${k}"? This may affect existing cards.`))try{const $=await Fe.delete("/admin/card-types?action=delete",{data:{card_type_id:E}});$.data.success?j():alert($.data.message||"Failed to delete card type")}catch($){alert(at($))}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Card Types"}),e.jsxs("p",{className:"mt-1 text-cyan-300",children:[r.length," type",r.length!==1?"s":""]})]}),e.jsxs("button",{onClick:()=>w(),className:"btn-primary",children:[e.jsx(Jt,{className:"h-5 w-5"}),e.jsx("span",{children:"New Type"})]})]}),i&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}),d&&e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 text-red-600 mb-6",children:d}),!i&&!d&&e.jsxs("div",{className:"card overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{style:{background:"rgba(0, 245, 255, 0.1)"},children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Type Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:r.map(E=>e.jsxs("tr",{className:"hover:bg-space-800",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:["#",E.card_type_id]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-white",children:E.type_name})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:E.type_description||e.jsx("span",{className:"text-gray-500 italic",children:"No description"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>w(E),className:"text-blue-400 hover:text-blue-300",title:"Edit",children:e.jsx(ln,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>F(E.card_type_id,E.type_name),className:"text-red-400 hover:text-red-300",title:"Delete",children:e.jsx(Zs,{className:"h-4 w-4"})})]})})]},E.card_type_id))})]})}),r.length===0&&!i&&!d&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400",children:"No card types found"})})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"card max-w-lg w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:b?"Edit Card Type":"New Card Type"}),e.jsx("button",{onClick:N,className:"text-gray-400 hover:text-white",children:e.jsx(Ae,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:L,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type Name *"}),e.jsx("input",{type:"text",value:g.type_name,onChange:E=>y({...g,type_name:E.target.value}),className:"input",required:!0,placeholder:"e.g., Igneous, Metamorphic, Sedimentary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{value:g.type_description,onChange:E=>y({...g,type_description:E.target.value}),className:"input",rows:3,placeholder:"Brief description of this card type"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:_,className:"btn-primary flex-1 justify-center",children:_?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(ia,{className:"h-4 w-4"}),e.jsx("span",{children:b?"Update":"Create"})]})}),e.jsx("button",{type:"button",onClick:N,className:"btn-secondary flex-1 justify-center",disabled:_,children:"Cancel"})]})]})]})})]})}function vb(){const[r,a]=v.useState([]),[i,o]=v.useState(!0),[d,m]=v.useState(""),[f,h]=v.useState(!1),[b,p]=v.useState(null),[g,y]=v.useState({status_name:"",rarity_weight:1,max_copies:10,description:""}),[_,C]=v.useState(!1);v.useEffect(()=>{j()},[]);const j=async()=>{o(!0),m("");try{const k=await Fe.get("/admin/card-status?action=list");k.data.success&&k.data.data&&a(k.data.data)}catch(k){m(at(k))}finally{o(!1)}},w=k=>{k?(p(k),y({status_name:k.status_name,rarity_weight:k.rarity_weight,max_copies:k.max_copies,description:k.description||""})):(p(null),y({status_name:"",rarity_weight:1,max_copies:10,description:""})),h(!0)},N=()=>{h(!1),p(null),y({status_name:"",rarity_weight:1,max_copies:10,description:""})},L=async k=>{k.preventDefault(),C(!0);try{if(b){const $=await Fe.put("/admin/card-status?action=update",{status_id:b.status_id,...g});$.data.success?(j(),N()):alert($.data.message||"Failed to update card status")}else{const $=await Fe.post("/admin/card-status?action=create",g);$.data.success?(j(),N()):alert($.data.message||"Failed to create card status")}}catch($){alert(at($))}finally{C(!1)}},F=async(k,$)=>{if(confirm(`Are you sure you want to delete the rarity level "${$}"? This may affect existing cards.`))try{const I=await Fe.delete("/admin/card-status?action=delete",{data:{status_id:k}});I.data.success?j():alert(I.data.message||"Failed to delete card status")}catch(I){alert(at(I))}},E=k=>{const $=k.toLowerCase();return $.includes("legendary")?"bg-orange-900 text-orange-300":$.includes("epic")?"bg-purple-900 text-purple-300":$.includes("rare")?"bg-blue-900 text-blue-300":"bg-gray-700 text-gray-300"};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Card Rarity / Status"}),e.jsxs("p",{className:"mt-1 text-cyan-300",children:[r.length," rarity level",r.length!==1?"s":""]})]}),e.jsxs("button",{onClick:()=>w(),className:"btn-primary",children:[e.jsx(Jt,{className:"h-5 w-5"}),e.jsx("span",{children:"New Rarity Level"})]})]}),i&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}),d&&e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 text-red-600 mb-6",children:d}),!i&&!d&&e.jsxs("div",{className:"card overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{style:{background:"rgba(0, 245, 255, 0.1)"},children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Status Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Rarity Weight"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Max Copies"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:r.map(k=>e.jsxs("tr",{className:"hover:bg-space-800",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:["#",k.status_id]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E(k.status_name)}`,children:k.status_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:k.rarity_weight}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:k.max_copies}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:k.description||e.jsx("span",{className:"text-gray-500 italic",children:"No description"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>w(k),className:"text-blue-400 hover:text-blue-300",title:"Edit",children:e.jsx(ln,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>F(k.status_id,k.status_name),className:"text-red-400 hover:text-red-300",title:"Delete",children:e.jsx(Zs,{className:"h-4 w-4"})})]})})]},k.status_id))})]})}),r.length===0&&!i&&!d&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400",children:"No rarity levels found"})})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"card max-w-lg w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:b?"Edit Rarity Level":"New Rarity Level"}),e.jsx("button",{onClick:N,className:"text-gray-400 hover:text-white",children:e.jsx(Ae,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:L,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Status Name *"}),e.jsx("input",{type:"text",value:g.status_name,onChange:k=>y({...g,status_name:k.target.value}),className:"input",required:!0,placeholder:"e.g., Common, Rare, Epic, Legendary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Rarity Weight *"}),e.jsx("input",{type:"number",value:g.rarity_weight,onChange:k=>y({...g,rarity_weight:Number(k.target.value)}),className:"input",required:!0,min:"1",max:"100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Higher = more rare"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Max Copies *"}),e.jsx("input",{type:"number",value:g.max_copies,onChange:k=>y({...g,max_copies:Number(k.target.value)}),className:"input",required:!0,min:"1",max:"999"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Per user"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{value:g.description,onChange:k=>y({...g,description:k.target.value}),className:"input",rows:3,placeholder:"Brief description of this rarity level"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:_,className:"btn-primary flex-1 justify-center",children:_?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(ia,{className:"h-4 w-4"}),e.jsx("span",{children:b?"Update":"Create"})]})}),e.jsx("button",{type:"button",onClick:N,className:"btn-secondary flex-1 justify-center",disabled:_,children:"Cancel"})]})]})]})})]})}function bb(){const[r,a]=v.useState([]),[i,o]=v.useState(!0),[d,m]=v.useState(""),[f,h]=v.useState(""),[b,p]=v.useState(""),[g,y]=v.useState(void 0);v.useEffect(()=>{_()},[f,b,g]);const _=async()=>{o(!0),m("");try{const N=new URLSearchParams;f&&N.append("search",f),b&&N.append("account_type",b),g!==void 0&&N.append("active",g?"1":"0");const L=await Fe.get(`/admin/users?action=list&${N.toString()}`);L.data.success&&L.data.data&&a(L.data.data.users||[])}catch(N){m(at(N))}finally{o(!1)}},C=async(N,L)=>{if(confirm(`Are you sure you want to ${L?"deactivate":"activate"} this user?`))try{const F=await Fe.post("/admin/users?action=toggle-active",{user_id:N});F.data.success?_():alert(F.data.message||"Failed to update user status")}catch(F){alert(at(F))}},j=async(N,L)=>{if(confirm(`Change account type to ${L}?`))try{const F=await Fe.post("/admin/users?action=update-account-type",{user_id:N,account_type_name:L});F.data.success?_():alert(F.data.message||"Failed to update account type")}catch(F){alert(at(F))}},w=N=>{switch(N.toLowerCase()){case"god":return"bg-yellow-900 text-yellow-300";case"sysadmin":return"bg-red-900 text-red-300";case"admin":return"bg-purple-900 text-purple-300";case"parent":return"bg-blue-900 text-blue-300";case"child":return"bg-green-900 text-green-300";default:return"bg-gray-700 text-gray-300"}};return e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"User Management"}),e.jsxs("p",{className:"mt-1 text-cyan-300",children:[r.length," user",r.length!==1?"s":""]})]})}),e.jsx("div",{className:"card p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:f,onChange:N=>h(N.target.value),placeholder:"Search users...",className:"input pl-10"})]}),e.jsxs("select",{value:b,onChange:N=>p(N.target.value),className:"input",children:[e.jsx("option",{value:"",children:"All Account Types"}),e.jsx("option",{value:"god",children:"God"}),e.jsx("option",{value:"sysadmin",children:"SysAdmin"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"parent",children:"Parent"}),e.jsx("option",{value:"child",children:"Child"})]}),e.jsxs("select",{value:g===void 0?"":g?"1":"0",onChange:N=>y(N.target.value===""?void 0:N.target.value==="1"),className:"input",children:[e.jsx("option",{value:"",children:"All Users"}),e.jsx("option",{value:"1",children:"Active Only"}),e.jsx("option",{value:"0",children:"Inactive Only"})]})]})}),i&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}),d&&e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 text-red-600 mb-6",children:d}),!i&&!d&&e.jsxs("div",{className:"card overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{style:{background:"rgba(0, 245, 255, 0.1)"},children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Account Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"GeoCoins"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:r.map(N=>e.jsxs("tr",{className:"hover:bg-space-800",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:["#",N.user_id]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-white",children:N.username}),e.jsxs("div",{className:"text-xs text-gray-400",children:[N.given_name," ",N.surname]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:N.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w(N.account_type_name)}`,children:N.account_type_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:N.credits.toFixed(2)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.active?e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-900 text-green-300",children:"Active"}):e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-900 text-red-300",children:"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>C(N.user_id,N.active),className:N.active?"text-red-400 hover:text-red-300":"text-green-400 hover:text-green-300",title:N.active?"Deactivate":"Activate",children:N.active?e.jsx(by,{className:"h-4 w-4"}):e.jsx(an,{className:"h-4 w-4"})}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"text-blue-400 hover:text-blue-300",title:"Change Account Type",children:e.jsx(ea,{className:"h-4 w-4"})}),e.jsx("div",{className:"hidden group-hover:block absolute right-0 mt-2 w-32 bg-space-700 rounded-lg shadow-xl z-10 py-1",children:["parent","admin","sysadmin","god"].map(L=>e.jsx("button",{onClick:()=>j(N.user_id,L),className:"block w-full text-left px-4 py-2 text-sm text-white hover:bg-space-600 capitalize",children:L},L))})]})]})})]},N.user_id))})]})}),r.length===0&&!i&&!d&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400",children:"No users found"})})]})]})}function jb(){const[r,a]=v.useState([]),[i,o]=v.useState(!0),[d,m]=v.useState(""),[f,h]=v.useState(!1),[b,p]=v.useState(null),[g,y]=v.useState({promotion_name:"",description:"",discount_percentage:10,start_date:"",end_date:"",active:!0}),[_,C]=v.useState(!1);v.useEffect(()=>{j()},[]);const j=async()=>{o(!0),m("");try{const E=await Fe.get("/admin/promotions?action=list");E.data.success&&E.data.data&&a(E.data.data)}catch(E){m(at(E))}finally{o(!1)}},w=E=>{if(E)p(E),y({promotion_name:E.promotion_name,description:E.description,discount_percentage:E.discount_percentage,start_date:E.start_date.split("T")[0],end_date:E.end_date.split("T")[0],active:E.active});else{p(null);const k=new Date().toISOString().split("T")[0];y({promotion_name:"",description:"",discount_percentage:10,start_date:k,end_date:k,active:!0})}h(!0)},N=()=>{h(!1),p(null)},L=async E=>{E.preventDefault(),C(!0);try{if(b){const k=await Fe.put("/admin/promotions?action=update",{promotion_id:b.promotion_id,...g});k.data.success?(j(),N()):alert(k.data.message||"Failed to update promotion")}else{const k=await Fe.post("/admin/promotions?action=create",g);k.data.success?(j(),N()):alert(k.data.message||"Failed to create promotion")}}catch(k){alert(at(k))}finally{C(!1)}},F=async(E,k)=>{if(confirm(`Delete promotion "${k}"?`))try{const $=await Fe.delete("/admin/promotions?action=delete",{data:{promotion_id:E}});$.data.success?j():alert($.data.message||"Failed to delete promotion")}catch($){alert(at($))}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white text-glow-sm",children:"Promotions"}),e.jsxs("p",{className:"mt-1 text-cyan-300",children:[r.length," promotion",r.length!==1?"s":""]})]}),e.jsxs("button",{onClick:()=>w(),className:"btn-primary",children:[e.jsx(Jt,{className:"h-5 w-5"}),e.jsx("span",{children:"New Promotion"})]})]}),i&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(we,{size:"large"})}),d&&e.jsx("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 text-red-600 mb-6",children:d}),!i&&!d&&e.jsxs("div",{className:"card overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{style:{background:"rgba(0, 245, 255, 0.1)"},children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Discount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Period"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-cyan-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:r.map(E=>e.jsxs("tr",{className:"hover:bg-space-800",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:["#",E.promotion_id]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-white",children:E.promotion_name}),e.jsx("div",{className:"text-xs text-gray-400",children:E.description})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-400",children:[E.discount_percentage,"%"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:[new Date(E.start_date).toLocaleDateString()," - ",new Date(E.end_date).toLocaleDateString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.active?e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-900 text-green-300",children:"Active"}):e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-700 text-gray-300",children:"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>w(E),className:"text-blue-400 hover:text-blue-300",title:"Edit",children:e.jsx(ln,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>F(E.promotion_id,E.promotion_name),className:"text-red-400 hover:text-red-300",title:"Delete",children:e.jsx(Zs,{className:"h-4 w-4"})})]})})]},E.promotion_id))})]})}),r.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400",children:"No promotions found"})})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"card max-w-lg w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:b?"Edit Promotion":"New Promotion"}),e.jsx("button",{onClick:N,className:"text-gray-400 hover:text-white",children:e.jsx(Ae,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:L,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Promotion Name *"}),e.jsx("input",{type:"text",value:g.promotion_name,onChange:E=>y({...g,promotion_name:E.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{value:g.description,onChange:E=>y({...g,description:E.target.value}),className:"input",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Discount % *"}),e.jsx("input",{type:"number",value:g.discount_percentage,onChange:E=>y({...g,discount_percentage:Number(E.target.value)}),className:"input",required:!0,min:"1",max:"100"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Start Date *"}),e.jsx("input",{type:"date",value:g.start_date,onChange:E=>y({...g,start_date:E.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"End Date *"}),e.jsx("input",{type:"date",value:g.end_date,onChange:E=>y({...g,end_date:E.target.value}),className:"input",required:!0})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"active",checked:g.active,onChange:E=>y({...g,active:E.target.checked}),className:"h-4 w-4 rounded"}),e.jsx("label",{htmlFor:"active",className:"ml-2 text-sm text-gray-300",children:"Active"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:_,className:"btn-primary flex-1 justify-center",children:_?e.jsx(we,{size:"small",className:"border-white border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(ia,{className:"h-4 w-4"}),e.jsx("span",{children:b?"Update":"Create"})]})}),e.jsx("button",{type:"button",onClick:N,className:"btn-secondary flex-1 justify-center",disabled:_,children:"Cancel"})]})]})]})})]})}function wb(){const[r,a]=v.useState([]),[i,o]=v.useState(!0),[d,m]=v.useState({}),[f,h]=v.useState({}),{addItem:b}=ql();v.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const y=await Hf.getProducts("credit_pack");if(console.log("Products API response:",y.data),y.data.success){const _=y.data.message,j=(typeof _=="object"&&_?.products?_.products:y.data.data?.products||[]).map(w=>({...w,price_gbp:parseFloat(w.price_gbp),price_usd:parseFloat(w.price_usd),price_eur:parseFloat(w.price_eur)}));console.log("Fetched products:",j),a(j)}else console.error("API returned unsuccessful response:",y.data)}catch(y){console.error("Failed to fetch products:",y)}finally{o(!1)}},g=async y=>{m(_=>({..._,[y.product_id]:!0}));try{await b(y,1),h(_=>({..._,[y.product_id]:!0})),setTimeout(()=>{h(_=>({..._,[y.product_id]:!1}))},2e3)}catch(_){console.error("Failed to add to cart:",_)}finally{m(_=>({..._,[y.product_id]:!1}))}};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"GeoCoin Packs"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Purchase GeoCoins to buy card packs, trade with friends, and more!"})]}),i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Products Available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"There are no GeoCoin packs available at the moment."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please check the console for API response details."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(y=>e.jsxs("div",{className:`relative bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden transition-all hover:shadow-2xl ${y.is_featured?"ring-2 ring-blue-500":""}`,children:[y.is_featured&&e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[e.jsx(Nr,{className:"h-3 w-3"}),"POPULAR"]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg p-6 text-white text-center",children:[e.jsx("div",{className:"text-4xl font-bold mb-1",children:y.credits_amount}),e.jsx("div",{className:"text-sm opacity-90",children:"GeoCoins"}),y.bonus_credits>0&&e.jsxs("div",{className:"mt-2 text-xs bg-white/20 rounded px-2 py-1 inline-block",children:["+ ",y.bonus_credits," Bonus"]})]})}),e.jsx("h3",{className:"text-lg font-bold mb-2",children:y.product_name}),y.product_description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:y.product_description}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:["",y.price_gbp.toFixed(2)]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[" $",y.price_usd.toFixed(2)," / ",y.price_eur.toFixed(2)]})]}),y.credits_amount&&e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-4",children:[(y.price_gbp/y.credits_amount).toFixed(3)," per GeoCoin"]}),e.jsx("button",{onClick:()=>g(y),disabled:d[y.product_id]||!y.is_available,className:`w-full py-3 rounded-lg font-semibold transition-all ${f[y.product_id]?"bg-green-500 text-white":y.is_featured?"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700":"bg-blue-500 text-white hover:bg-blue-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:d[y.product_id]?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Adding..."]}):f[y.product_id]?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(At,{className:"h-5 w-5"}),"Added to Cart!"]}):y.is_available?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(jr,{className:"h-5 w-5"}),"Add to Cart"]}):"Out of Stock"})]})]},y.product_id))}),e.jsxs("div",{className:"mt-12 bg-blue-50 dark:bg-blue-900 rounded-xl p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"How GeoCoins Work"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold mb-2 dark:text-white",children:"Purchase GeoCoins"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Buy GeoCoin packs securely through our payment gateway"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold mb-2 dark:text-white",children:"Buy Card Packs"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Use GeoCoins to purchase card packs and expand your collection"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold mb-2 dark:text-white",children:"Trade & Gift"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Trade cards and gift GeoCoins to friends on the platform"})]})]})]})]})}function Nb(){const r=Lt(),{cart:a,fetchCart:i,clearCart:o}=ql(),{user:d,refreshUser:m}=Ge(),[f,h]=v.useState({customer_email:d?.email||"",customer_name:d?`${d.given_name} ${d.surname||""}`.trim():"",billing_country:"United Kingdom",currency:"GBP",promo_code:""}),[b,p]=v.useState(!1),[g,y]=v.useState("details"),[_,C]=v.useState(null),[j,w]=v.useState(null);v.useEffect(()=>{if(!d){r("/login");return}i()},[d]),v.useEffect(()=>{a&&a.items.length===0&&g==="details"&&r("/shop")},[a]);const N=async E=>{E.preventDefault(),w(null),p(!0);try{const k=await _l.createOrder(f);if(!k.data.success)throw new Error(k.data.message||"Failed to create order");const $=k.data.data.order;C($),y("payment");const I=await _l.createPayment($.order_id);if(!I.data.success)throw new Error(I.data.message||"Failed to create payment");const D=I.data.data;D.checkout_url?window.location.href=D.checkout_url:(y("processing"),await L($.order_id))}catch(k){console.error("Checkout error:",k),w(k.message||"Failed to process checkout"),p(!1)}},L=async E=>{try{if(await new Promise($=>setTimeout($,2e3)),!(await _l.confirmPayment(E)).data.success)throw new Error("Payment failed");await m(),await o(),y("success"),p(!1),setTimeout(()=>{r("/collection")},3e3)}catch(k){console.error("Payment confirmation error:",k),w(k.message||"Failed to confirm payment"),p(!1)}},F=E=>{const{name:k,value:$}=E.target;h(I=>({...I,[k]:$}))};return!a||a.items.length===0?null:g==="success"?e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(At,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Payment Successful!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your GeoCoins have been added to your account."}),_&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Order Number"}),e.jsx("p",{className:"text-xl font-mono font-bold",children:_.order_number})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to your collection..."})]})}):g==="processing"?e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Processing Payment..."}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we confirm your payment."})]})}):e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>r("/shop"),className:"flex items-center gap-2 text-blue-600 hover:underline mb-4",children:[e.jsx($l,{className:"h-4 w-4"}),"Back to Shop"]}),e.jsx("h1",{className:"text-3xl font-bold",children:"Checkout"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:"Billing Information"}),j&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6 flex items-start gap-3",children:[e.jsx(yc,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"text-sm text-red-800 dark:text-red-200",children:j})]}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",name:"customer_email",value:f.customer_email,onChange:F,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",name:"customer_name",value:f.customer_name,onChange:F,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Country *"}),e.jsxs("select",{name:"billing_country",value:f.billing_country,onChange:F,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700",children:[e.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),e.jsx("option",{value:"United States",children:"United States"}),e.jsx("option",{value:"Canada",children:"Canada"}),e.jsx("option",{value:"Australia",children:"Australia"}),e.jsx("option",{value:"Germany",children:"Germany"}),e.jsx("option",{value:"France",children:"France"}),e.jsx("option",{value:"Spain",children:"Spain"}),e.jsx("option",{value:"Italy",children:"Italy"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Promo Code (Optional)"}),e.jsx("input",{type:"text",name:"promo_code",value:f.promo_code,onChange:F,placeholder:"Enter promo code",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700"})]}),e.jsx("button",{type:"submit",disabled:b,className:"w-full py-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"h-5 w-5"}),"Continue to Payment"]})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 justify-center",children:[e.jsx(os,{className:"h-3 w-3"}),"Secure checkout powered by Revolut"]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 sticky top-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),e.jsx("div",{className:"space-y-3 mb-4",children:a.items.map(E=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:E.product_name}),e.jsxs("p",{className:"text-gray-500 text-xs",children:["Qty: ",E.quantity]})]}),e.jsxs("p",{className:"font-semibold",children:["",E.item_total.toFixed(2)]})]},E.cart_item_id))}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),e.jsxs("span",{children:["",a.subtotal.toFixed(2)]})]}),a.discount>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{children:["-",a.discount.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["",a.total.toFixed(2)]})]})]}),a.total_credits>0&&e.jsx("div",{className:"mt-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"You'll receive"}),e.jsxs("span",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:[a.total_credits," GeoCoins"]})]})}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Accepted payment methods:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-2 rounded flex items-center gap-1",children:[e.jsx(Ny,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Card"})]}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-2 rounded",children:e.jsx("span",{className:"text-xs font-medium",children:"Revolut"})})]})]})]})})]})]})}function _b(){const{isAuthenticated:r,isLoading:a}=Ge();return a?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx(we,{size:"large"})}):r?e.jsx(Ml,{}):e.jsx(fc,{to:"/login",replace:!0})}function kb(){const{cart:r,isOpen:a,isLoading:i,setOpen:o,updateItem:d,removeItem:m,fetchCart:f}=ql(),{user:h}=Ge(),b=Lt(),[p,g]=v.useState({});v.useEffect(()=>{a&&h&&f()},[a,h]);const y=async(j,w)=>{if(!(w<1||w>99)){g(N=>({...N,[j.cart_item_id]:!0}));try{await d(j.cart_item_id,w)}catch(N){console.error("Failed to update quantity:",N)}finally{g(N=>({...N,[j.cart_item_id]:!1}))}}},_=async j=>{g(w=>({...w,[j]:!0}));try{await m(j)}catch(w){console.error("Failed to remove item:",w)}finally{g(w=>({...w,[j]:!1}))}},C=()=>{o(!1),b("/shop/checkout")};return a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>o(!1)}),e.jsxs("div",{className:"fixed top-0 right-0 h-full w-full sm:w-96 bg-white dark:bg-gray-800 shadow-2xl z-50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jr,{className:"h-5 w-5"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Shopping Cart"}),r&&r.item_count>0&&e.jsx("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:r.item_count})]}),e.jsx("button",{onClick:()=>o(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i&&!r?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):!r||r.items.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-gray-500",children:[e.jsx(jr,{className:"h-12 w-12 mb-2 opacity-50"}),e.jsx("p",{children:"Your cart is empty"}),e.jsx("button",{onClick:()=>{o(!1),b("/shop")},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Browse Products"})]}):e.jsx("div",{className:"space-y-4",children:r.items.map(j=>e.jsxs("div",{className:"flex gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-blue-400 to-purple-500 rounded flex items-center justify-center text-white font-bold",children:j.credits_amount&&e.jsxs("span",{className:"text-sm",children:[j.credits_amount+j.bonus_credits,"C"]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-sm truncate",children:j.product_name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:j.credits_amount&&e.jsxs(e.Fragment,{children:[j.credits_amount," GeoCoins",j.bonus_credits>0&&` + ${j.bonus_credits} Bonus`]})}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("button",{onClick:()=>y(j,j.quantity-1),disabled:j.quantity<=1||p[j.cart_item_id],className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50",children:e.jsx(Ty,{className:"h-3 w-3"})}),e.jsx("span",{className:"text-sm font-medium w-8 text-center",children:j.quantity}),e.jsx("button",{onClick:()=>y(j,j.quantity+1),disabled:j.quantity>=99||p[j.cart_item_id],className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50",children:e.jsx(Jt,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["",j.price_at_add.toFixed(2)," each"]}),j.quantity>1&&e.jsxs("span",{className:"text-xs text-gray-400",children:[" ",j.quantity]})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["",j.item_total.toFixed(2)]}),j.discount_amount>0&&e.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400",children:["(-",j.discount_amount.toFixed(2),")"]})]})]})]}),e.jsx("button",{onClick:()=>_(j.cart_item_id),disabled:p[j.cart_item_id],className:"flex-shrink-0 p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:e.jsx(Zs,{className:"h-4 w-4"})})]},j.cart_item_id))})}),r&&r.items.length>0&&e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 space-y-3",children:[r.total_credits>0&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total GeoCoins"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:[r.total_credits," GeoCoins"]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:["",typeof r.subtotal=="number"?r.subtotal.toFixed(2):"0.00"]})]}),r.discount>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600 dark:text-green-400",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{className:"font-semibold",children:["-",typeof r.discount=="number"?r.discount.toFixed(2):"0.00"]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total"}),e.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["",typeof r.total=="number"?r.total.toFixed(2):"0.00"]})]})]}),e.jsx("button",{onClick:C,disabled:i,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Processing...":"Proceed to Checkout"}),e.jsx("button",{onClick:()=>{o(!1),b("/shop")},className:"w-full py-2 text-blue-600 hover:underline text-sm",children:"Continue Shopping"})]})]})]}):null}function Sb(){const{user:r,setUser:a,setLoading:i,isLoading:o}=Ge();return v.useEffect(()=>{async function d(){try{const m=await Xs.checkAuth();m.data.success&&m.data.data?a(m.data.data):a(null)}catch{a(null)}}d()},[a,i]),v.useEffect(()=>(console.log("[App] WebSocket effect triggered. User:",r),r?.user_code?(console.log("[App] Connecting WebSocket for user:",r.user_code),kl.connect(r.user_code)):(console.log("[App] No user or user_code - not connecting WebSocket"),kl.disconnect()),()=>{r||kl.disconnect()}),[r]),o?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx(we,{size:"large"})}):e.jsxs(h0,{children:[e.jsx(kb,{}),e.jsxs(l0,{children:[e.jsx(Ce,{path:"/",element:e.jsx(Iv,{})}),e.jsxs(Ce,{element:e.jsx(Dv,{}),children:[e.jsx(Ce,{path:"/login",element:e.jsx(Uv,{})}),e.jsx(Ce,{path:"/register",element:e.jsx(Bv,{})}),e.jsx(Ce,{path:"/forgot-password",element:e.jsx(Wv,{})})]}),e.jsx(Ce,{path:"/verify-email",element:e.jsx($v,{})}),e.jsx(Ce,{path:"/reset-password",element:e.jsx(qv,{})}),e.jsxs(Ce,{element:e.jsx(_b,{}),children:[e.jsxs(Ce,{element:e.jsx(Mv,{}),children:[e.jsx(Ce,{path:"/dashboard",element:e.jsx(Yv,{})}),e.jsx(Ce,{path:"/collection",element:e.jsx(tb,{})}),e.jsx(Ce,{path:"/battles",element:e.jsx(ab,{})}),e.jsx(Ce,{path:"/marketplace",element:e.jsx(ib,{})}),e.jsx(Ce,{path:"/marketplace/offers",element:e.jsx(ob,{})}),e.jsx(Ce,{path:"/notifications",element:e.jsx(hb,{})}),e.jsx(Ce,{path:"/trading",element:e.jsx(db,{})}),e.jsx(Ce,{path:"/friends",element:e.jsx(ub,{})}),e.jsx(Ce,{path:"/chat",element:e.jsx(sf,{})}),e.jsx(Ce,{path:"/chat/:friendId",element:e.jsx(sf,{})}),e.jsx(Ce,{path:"/profile",element:e.jsx(rf,{})}),e.jsx(Ce,{path:"/profile/:userId",element:e.jsx(rf,{})}),e.jsx(Ce,{path:"/settings",element:e.jsx(mb,{})}),e.jsx(Ce,{path:"/parent-controls",element:e.jsx(fb,{})}),e.jsx(Ce,{path:"/shop",element:e.jsx(wb,{})}),e.jsx(Ce,{path:"/shop/checkout",element:e.jsx(Nb,{})})]}),e.jsxs(Ce,{element:e.jsx(zv,{}),children:[e.jsx(Ce,{path:"/admin",element:e.jsx(xb,{})}),e.jsx(Ce,{path:"/admin/card-templates",element:e.jsx(gb,{})}),e.jsx(Ce,{path:"/admin/card-templates/new",element:e.jsx(nf,{})}),e.jsx(Ce,{path:"/admin/card-templates/edit/:id",element:e.jsx(nf,{})}),e.jsx(Ce,{path:"/admin/card-types",element:e.jsx(yb,{})}),e.jsx(Ce,{path:"/admin/card-status",element:e.jsx(vb,{})}),e.jsx(Ce,{path:"/admin/users",element:e.jsx(bb,{})}),e.jsx(Ce,{path:"/admin/promotions",element:e.jsx(jb,{})})]})]}),e.jsx(Ce,{path:"*",element:e.jsx(fc,{to:"/",replace:!0})})]})]})}mx.createRoot(document.getElementById("root")).render(e.jsx(cc.StrictMode,{children:e.jsx(Sb,{})}));
